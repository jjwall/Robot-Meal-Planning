!function(t){var e={};function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle"],flow_blocks:["up","down","left","right"]}},function(t,e,o){"use strict";o.r(e);var n,a,s=function(){return function(t){this.canvas=t&&t.canvas||document.getElementById("gameScreen"),this.ctx=t&&t.ctx||this.canvas.getContext("2d"),this.rect=t&&t.rect||this.canvas.getBoundingClientRect(),this.blocks=t&&t.blocks||[],this.sliders=t&&t.sliders||[],this.mouseX=t&&t.mouseX||0,this.mouseY=t&&t.mouseY||0,this.commandControl=t&&t.commandControl||!0,this.flowControl=t&&t.flowControl||!1,this.nextStack=t&&t.nextStack||[],this.programRunning=t&&t.programRunning||!1}}(),i=o(0),r=function(){function t(t,e,o,n,a,s){this.GameState=t,this.X=e,this.Y=o,this.H=n,this.W=a,this.Color=s,this.gameState=t,this.x=e,this.y=o,this.h=n,this.w=a,this.color=s}return t.prototype.draw=function(){},t.prototype.update=function(){},t}();!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Thread=4]="Thread",t[t.Scan=5]="Scan",t[t.Laser=6]="Laser",t[t.Grapple=7]="Grapple"}(n||(n={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(a||(a={}));var c=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),h=function(t){function e(e,o,a,s,i,r,c){var h=t.call(this,e,o,a,s,i,r)||this;switch(h.mouseDown=!0,h.set=!1,h.type=c,h.image=new Image,c){case n.Start:h.image.src="data/textures/StartBlock.png";break;case n.Move:h.image.src="data/textures/MoveBlock.png";break;case n.Angle:h.image.src="data/textures/AngleBlock.png";break;case n.Thread:h.image.src="data/textures/ThreadBlock.png"}return h.gameState.blocks.push(h),h}return c(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y)},e}(r),l=function(t){function e(e,o,a,s,i,r,c){var h=t.call(this,e,o,a,s,i,r)||this;switch(h.mouseDown=!1,h.type=c,h.image=new Image,c){case n.Start:h.image.src="data/textures/StartBlock.png";break;case n.Move:h.image.src="data/textures/MoveBlock.png";break;case n.Angle:h.image.src="data/textures/AngleBlock.png";break;case n.Thread:h.image.src="data/textures/ThreadBlock.png"}return h.gameState.blocks.push(h),h}return c(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new h(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y)},e}(r),u=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(t){function e(e,o,n,s,i,r,c){var h=t.call(this,e,o,n,s,i,r)||this;switch(h.gameState=e,h.type=c,h.mouseDown=!0,h.set=!1,h.image=new Image,c){case a.Up:h.image.src="data/textures/UpArrow.png";break;case a.Down:h.image.src="data/textures/DownArrow.png";break;case a.Left:h.image.src="data/textures/LeftArrow.png";break;case a.Right:h.image.src="data/textures/RightArrow.png"}return h.gameState.blocks.push(h),h}return u(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),f=function(t){function e(e,o,n,s,i,r,c){var h=t.call(this,e,o,n,s,i,r)||this;switch(h.type=c,h.mouseDown=!1,h.image=new Image,c){case a.Up:h.image.src="data/textures/UpArrow.png";break;case a.Down:h.image.src="data/textures/DownArrow.png";break;case a.Left:h.image.src="data/textures/LeftArrow.png";break;case a.Right:h.image.src="data/textures/RightArrow.png"}return h.gameState.blocks.push(h),h}return u(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new m(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),p=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(t){function e(e,o,s,i,r,c,h,l){var u=t.call(this,e,o,s,i,r,l)||this;return u.r=c,u.c=h,u.commandType=n.Empty,u.flowType=a.Empty,u.gameState.blocks.push(u),u}return p(e,t),e.prototype.update=function(){var t=this;this.gameState.blocks.forEach(function(e){(e instanceof h||e instanceof m)&&!1===e.mouseDown&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.commandType===n.Empty&&e instanceof h?(e.x=t.x,e.y=t.y,e.set=!0,t.commandType=e.type):t.flowType===a.Empty&&e instanceof m&&(e.x=t.x,e.y=t.y,e.set=!0,t.flowType=e.type))})},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},e}(r);function d(t,e){var o,s;switch(e.flowType){case a.Up:o=e.r-1,s=e.c;break;case a.Down:o=e.r+1,s=e.c;break;case a.Right:s=e.c+1,o=e.r;break;case a.Left:s=e.c-1,o=e.r}t.blocks.forEach(function(e){if(e instanceof g&&e.r===o&&e.c===s&&e.commandType!==n.Empty&&e.flowType!==a.Empty)switch(e.commandType){case n.Angle:e.call=function(){return function(t,e){e.callCount>0?(console.log("angle"),e.callCount--):d(t,e)}(t,e)},e.callCount=1,t.nextStack.push(e);break;case n.Move:e.call=function(){return function(t,e){e.callCount>0?(console.log("move"),e.callCount--):d(t,e)}(t,e)},e.callCount=20,t.nextStack.push(e);break;case n.Start:e.call=function(){return function(t,e){console.log("start"),d(t,e)}(t,e)},e.callCount=0,t.nextStack.push(e)}})}var w=function(){function t(t,e,o,n){void 0===n&&(n=10),this.gameState=t,this.mouseDown=!1,this.barH=75,this.barW=10,this.barX=e,this.barY=o,this.barColor="thistle",this.sliderH=10,this.sliderW=15,this.sliderX=e,this.sliderY=o+this.barH/2-this.sliderH/2,this.sliderColor="purple",this.snapAmount=n,this.percentage=1-(this.sliderY-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount}return t.prototype.update=function(){if(this.mouseDown&&this.barY-this.sliderH/2<this.gameState.mouseY&&this.barY+this.barH-this.sliderH/2>this.gameState.mouseY){var t=this.gameState.mouseY;this.percentage=1-(t-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.sliderY=this.barH+this.barY-this.sliderH/2-this.value*this.barH,console.log(this.value)}},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.barColor,this.gameState.ctx.fillRect(this.barX,this.barY,this.barW,this.barH),this.gameState.ctx.fillStyle=this.sliderColor,this.gameState.ctx.fillRect(this.sliderX-this.sliderH/4,this.sliderY,this.sliderW,this.sliderH)},t}(),y=new s;!function(t,e,o){for(var s=5,i=5,r=0,c=0;c<e.command_palette.block_height;c++){for(var h=0;h<e.command_palette.block_width;h++)new g(t,i,s,50,50,c,h,o),i+=55;s+=55,r=i,i=5}s+=20;for(var u=0;u<e.command_blocks.length;u++){switch(e.command_blocks[u]){case"start":new l(t,i,s,50,50,"thistle",n.Start);break;case"move":new l(t,i,s,50,50,"thistle",n.Move);break;case"angle":new l(t,i,s,50,50,"thistle",n.Angle);break;case"thread":new l(t,i,s,50,50,"thistle",n.Thread);break;case"laser":new l(t,i,s,50,50,"green",n.Laser);break;case"scan":new l(t,i,s,50,50,"darkblue",n.Scan);break;case"grapple":new l(t,i,s,50,50,"maroon",n.Grapple)}i+=55}for(i=r+20,s=5,u=0;u<e.flow_blocks.length;u++){switch(e.flow_blocks[u]){case"up":new f(t,i,s,50,50,"yellow",a.Up);break;case"left":new f(t,i,s,50,50,"yellow",a.Left);break;case"right":new f(t,i,s,50,50,"yellow",a.Right);break;case"down":new f(t,i,s,50,50,"yellow",a.Down)}s+=55}}(y,i,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof h&&t.commandControl||e instanceof l&&t.commandControl||e instanceof m&&t.flowControl||e instanceof f&&t.flowControl?e.mouseDown=!0:e instanceof g&&(t.commandControl?e.commandType=n.Empty:t.flowControl&&(e.flowType=a.Empty)))}),t.sliders.forEach(function(e){t.mouseY>e.sliderY&&t.mouseY<e.sliderY+e.sliderH&&t.mouseX>e.sliderX&&t.mouseX<e.sliderX+e.sliderW&&(e.mouseDown=!0)})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof h||t instanceof m)&&t.mouseDown&&(t.mouseDown=!1)}),t.sliders.forEach(function(t){t.mouseDown=!1})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning||(t.programRunning=!0,function(t,e){t.blocks.forEach(function(e){e instanceof g&&e.commandType===n.Start&&e.flowType!==a.Empty&&d(t,e)})}(t)))}}(y),y.sliders.push(new w(y,80,365,4)),y.sliders.push(new w(y,130,365)),setInterval(function(){y.blocks.forEach(function(t){t.update()}),y.sliders.forEach(function(t){t.update()}),y.ctx.clearRect(0,0,y.canvas.width,y.canvas.height),y.ctx.beginPath(),y.sliders.forEach(function(t){t.draw()}),y.blocks.forEach(function(t){t instanceof m||t.draw()}),y.blocks.forEach(function(t){t instanceof m&&t.draw()}),y.ctx.stroke();var t=y.nextStack;y.nextStack=[],t.length>0?t.forEach(function(t){t.callCount>0?(t.call(),y.nextStack.push(t)):t.call()}):y.programRunning=!1},12)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Jhc2VCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbWFuZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9GbG93QmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyaWRCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUHJvZ3JhbUV4ZWN1dGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9HZW5lcmF0ZUxldmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9TZXRVcEV2ZW50TGlzdGVuZXJzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tbWFuZEJsb2NrVHlwZXMiLCJGbG93QmxvY2tUeXBlcyIsIkdhbWVTdGF0ZV9HYW1lU3RhdGUiLCJvYmoiLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmxvY2tzIiwic2xpZGVycyIsIm1vdXNlWCIsIm1vdXNlWSIsImNvbW1hbmRDb250cm9sIiwiZmxvd0NvbnRyb2wiLCJuZXh0U3RhY2siLCJwcm9ncmFtUnVubmluZyIsIkJhc2VCbG9jayIsIkdhbWVTdGF0ZSIsIlgiLCJZIiwiSCIsIlciLCJDb2xvciIsImdhbWVTdGF0ZSIsIngiLCJ5IiwiaCIsInciLCJjb2xvciIsImRyYXciLCJ1cGRhdGUiLCJDb21tYW5kQmxvY2tfQ29tbWFuZEJsb2NrIiwiX3N1cGVyIiwiQ29tbWFuZEJsb2NrIiwiVHlwZSIsIl90aGlzIiwibW91c2VEb3duIiwic2V0IiwidHlwZSIsImltYWdlIiwiSW1hZ2UiLCJTdGFydCIsInNyYyIsIk1vdmUiLCJBbmdsZSIsIlRocmVhZCIsInB1c2giLCJfX2V4dGVuZHMiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsIkNvbW1hbmRCbG9ja19Db21tYW5kQmxvY2tCdXR0b24iLCJDb21tYW5kQmxvY2tCdXR0b24iLCJGbG93QmxvY2tfRmxvd0Jsb2NrIiwiRmxvd0Jsb2NrIiwiVXAiLCJEb3duIiwiTGVmdCIsIlJpZ2h0IiwiRmxvd0Jsb2NrX2V4dGVuZHMiLCJzdHJva2VTdHlsZSIsIkZsb3dCbG9ja19GbG93QmxvY2tCdXR0b24iLCJGbG93QmxvY2tCdXR0b24iLCJHcmlkQmxvY2tfR3JpZEJsb2NrIiwiR3JpZEJsb2NrIiwiUm93IiwiQ29sdW1uIiwiY29tbWFuZFR5cGUiLCJFbXB0eSIsImZsb3dUeXBlIiwiR3JpZEJsb2NrX2V4dGVuZHMiLCJmb3JFYWNoIiwiYmxvY2siLCJmaW5kTmV4dENhbGwiLCJwcmV2QmxvY2siLCJ0YXJnZXRSb3ciLCJ0YXJnZXRDb2wiLCJjYWxsQ291bnQiLCJjb25zb2xlIiwibG9nIiwiYW5nbGVDYWxsIiwibW92ZUNhbGwiLCJzdGFydENhbGwiLCJTbGlkZXIiLCJTbmFwQW1vdW50IiwiYmFySCIsImJhclciLCJiYXJYIiwiYmFyWSIsImJhckNvbG9yIiwic2xpZGVySCIsInNsaWRlclciLCJzbGlkZXJYIiwic2xpZGVyWSIsInNsaWRlckNvbG9yIiwic25hcEFtb3VudCIsInBlcmNlbnRhZ2UiLCJNYXRoIiwicm91bmQiLCJ0ZW1wU2xpZGVyWSIsIm1haW5fZ2FtZVN0YXRlIiwibGV2ZWxPYmoiLCJwYWxldHRlQ29sb3IiLCJ5T2Zmc2V0IiwieE9mZnNldCIsIm1heFhPZmZzZXQiLCJsZW5ndGgiLCJMYXNlciIsIlNjYW4iLCJHcmFwcGxlIiwiR2VuZXJhdGVMZXZlbCIsImxldmVsMSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJjbGllbnRYIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJjbGllbnRZIiwidG9wIiwiYm90dG9tIiwiaGVpZ2h0Iiwid2luZG93Iiwib25rZXl1cCIsImUiLCJrZXlDb2RlIiwidGhyZWFkIiwic3RhcnROZXdUaHJlYWRDYWxsIiwiU2V0VXBFdmVudExpc3RlbmVycyIsInNldEludGVydmFsIiwic2xpZGVyIiwiY2xlYXJSZWN0IiwiYmVnaW5QYXRoIiwic3Ryb2tlIiwiY2FsbFN0YWNrIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFB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T0FBT21FLFFBQVEsU0FBQUMsR0FDckJBLEVBQU05QyxXQUdWMEUsRUFBVS9GLFFBQVFrRSxRQUFRLFNBQUEyRCxHQUN0QkEsRUFBT3hHLFdBL0JYMEUsRUFBVXBHLElBQUltSSxVQUFVLEVBQUcsRUFBRy9CLEVBQVV2RyxPQUFPd0gsTUFBT2pCLEVBQVV2RyxPQUFPNEgsUUFDdkVyQixFQUFVcEcsSUFBSW9JLFlBR2RoQyxFQUFVL0YsUUFBUWtFLFFBQVEsU0FBQTJELEdBQ3RCQSxFQUFPekcsU0FJWDJFLEVBQVVoRyxPQUFPbUUsUUFBUSxTQUFBQyxHQUNmQSxhQUFpQm5CLEdBQ25CbUIsRUFBTS9DLFNBS2QyRSxFQUFVaEcsT0FBT21FLFFBQVEsU0FBQUMsR0FDakJBLGFBQWlCbkIsR0FDakJtQixFQUFNL0MsU0FJZDJFLEVBQVVwRyxJQUFJcUksU0FpQmQsSUFBTUMsRUFBWWxDLEVBQVUxRixVQUM1QjBGLEVBQVUxRixhQUVONEgsRUFBVTVCLE9BQVMsRUFDbkI0QixFQUFVL0QsUUFBUSxTQUFBQyxHQUVWQSxFQUFNSyxVQUFZLEdBQ2xCTCxFQUFNN0csT0FDTnlJLEVBQVUxRixVQUFVZ0MsS0FBSzhCLElBSXpCQSxFQUFNN0csU0FLZHlJLEVBQVV6RixnQkFBaUIsR0FFaEMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tIFwiLi9TbGlkZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGUge1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcmVjdDogQ2xpZW50UmVjdCB8IERPTVJlY3Q7XHJcbiAgICBibG9ja3M6IEJhc2VCbG9ja1tdO1xyXG4gICAgc2xpZGVyczogU2xpZGVyW107XHJcbiAgICBtb3VzZVg6IG51bWJlcjtcclxuICAgIG1vdXNlWTogbnVtYmVyO1xyXG4gICAgY29tbWFuZENvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBmbG93Q29udHJvbDogYm9vbGVhbjtcclxuICAgIG5leHRTdGFjazogR3JpZEJsb2NrW107XHJcbiAgICBwcm9ncmFtUnVubmluZzogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKG9iaj86IElHYW1lU3RhdGUpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG9iaiAmJiBvYmouY2FudmFzIHx8IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lU2NyZWVuXCIpO1xyXG4gICAgICAgIHRoaXMuY3R4ID0gb2JqICYmIG9iai5jdHggfHwgPENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD4gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMucmVjdCA9IG9iaiAmJiBvYmoucmVjdCB8fCA8Q2xpZW50UmVjdCB8IERPTVJlY3Q+IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHRoaXMuYmxvY2tzID0gb2JqICYmIG9iai5ibG9ja3MgfHwgW107XHJcbiAgICAgICAgdGhpcy5zbGlkZXJzID0gb2JqICYmIG9iai5zbGlkZXJzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMubW91c2VYID0gb2JqICYmIG9iai5tb3VzZVggfHwgMDtcclxuICAgICAgICB0aGlzLm1vdXNlWSA9IG9iaiAmJiBvYmoubW91c2VZIHx8IDA7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ29udHJvbCA9IG9iaiAmJiBvYmouY29tbWFuZENvbnRyb2wgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLmZsb3dDb250cm9sID0gb2JqICYmIG9iai5mbG93Q29udHJvbCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLm5leHRTdGFjayA9IG9iaiAmJiBvYmoubmV4dFN0YWNrIHx8IFtdO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbVJ1bm5pbmcgPSBvYmogJiYgb2JqLnByb2dyYW1SdW5uaW5nIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHYW1lU3RhdGUge1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcmVjdDogQ2xpZW50UmVjdCB8IERPTVJlY3Q7XHJcbiAgICBibG9ja3M6IEJhc2VCbG9ja1tdO1xyXG4gICAgc2xpZGVyczogU2xpZGVyW107XHJcbiAgICBtb3VzZVg6IG51bWJlcjtcclxuICAgIG1vdXNlWTogbnVtYmVyO1xyXG4gICAgY29tbWFuZENvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBmbG93Q29udHJvbDogYm9vbGVhbjtcclxuICAgIG5leHRTdGFjazogYW55W107XHJcbiAgICBwcm9ncmFtUnVubmluZzogYm9vbGVhbjtcclxufSIsImV4cG9ydCBlbnVtIENvbW1hbmRCbG9ja1R5cGVzIHtcclxuICAgIEVtcHR5LFxyXG4gICAgU3RhcnQsXHJcbiAgICBNb3ZlLFxyXG4gICAgQW5nbGUsXHJcbiAgICBUaHJlYWQsXHJcbiAgICBTY2FuLFxyXG4gICAgTGFzZXIsXHJcbiAgICBHcmFwcGxlXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEZsb3dCbG9ja1R5cGVzIHtcclxuICAgIEVtcHR5LFxyXG4gICAgVXAsXHJcbiAgICBEb3duLFxyXG4gICAgTGVmdCxcclxuICAgIFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0UmlnaHQsXHJcbiAgICBDb25kaXRpb25hbExlZnRVcCxcclxuICAgIENvbmRpdGlvbmFsTGVmdERvd24sXHJcbiAgICBDb25kaXRpb25hbFVwUmlnaHQsXHJcbiAgICBDb25kaXRpb25hbFVwRG93bixcclxuICAgIENvbmRpdGlvbmFsRG93blJpZ2h0XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIEdhbWVTdGF0ZTogR2FtZVN0YXRlLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIFg6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBZOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgSDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIFc6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBDb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy54ID0gWDtcclxuICAgICAgICB0aGlzLnkgPSBZO1xyXG4gICAgICAgIHRoaXMuaCA9IEg7XHJcbiAgICAgICAgdGhpcy53ID0gVztcclxuICAgICAgICB0aGlzLmNvbG9yID0gQ29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpOiB2b2lkIHt9IFxyXG4gICAgdXBkYXRlKCk6IHZvaWQge31cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1hbmRCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBzZXQ6IGJvb2xlYW47XHJcbiAgICB0eXBlOiBDb21tYW5kQmxvY2tUeXBlcztcclxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogQ29tbWFuZEJsb2NrVHlwZXMpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Nb3ZlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0FuZ2xlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYWcgY29tbWFuZCBibG9ja1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVggLSB0aGlzLncvMjtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lU3RhdGUubW91c2VZIC0gdGhpcy5oLzI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkZWxldGUgaWYgZHJvcHBpbmcgYmxvY2sgYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhIGVtcHR5IGdyaWQgYmxvY2sgdG8gYmUgc2V0IG9uXHJcbiAgICAgICAgaWYgKCF0aGlzLm1vdXNlRG93biAmJiAhdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb25DbGljaygpIHtcclxuICAgIC8vIH1cclxufVxyXG5cclxuLy8gQ09OU0lERVI6IGV4dGVuZGluZyBDb21tYW5kQmxvY2sgY2xhc3NcclxuZXhwb3J0IGNsYXNzIENvbW1hbmRCbG9ja0J1dHRvbiBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICB0eXBlOiBDb21tYW5kQmxvY2tUeXBlcztcclxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogQ29tbWFuZEJsb2NrVHlwZXMpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuU3RhcnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9TdGFydEJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuTW92ZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL01vdmVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvQW5nbGVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlRocmVhZDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1RocmVhZEJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IEFkZCB0eXBlIHRvIENvbW1hbmRCbG9jayBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrKHRoaXMuZ2FtZVN0YXRlLCB0aGlzLngsIHRoaXMueSwgdGhpcy5oLCB0aGlzLncsIHRoaXMuQ29sb3IsIHRoaXMudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIGV4cG9ydCBmdW5jdGlvbiBpc0NvbW1hbmRCbG9jayhvYmo6IG9iamVjdCkgOiBvYmogaXMgQ29tbWFuZEJsb2NrIHtcclxuLy8gICAgIHZhciBjb21tYW5kQmxvY2tPYmogOiBDb21tYW5kQmxvY2sgPSA8Q29tbWFuZEJsb2NrPm9iajtcclxuICAgIFxyXG4vLyAgICAgcmV0dXJuIGNvbW1hbmRCbG9ja09iai5tb3VzZURvd24gIT09IHVuZGVmaW5lZDtcclxuLy8gfSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3dCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHR5cGU6IEZsb3dCbG9ja1R5cGVzO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgc2V0OiBib29sZWFuO1xyXG4gICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBGbG93QmxvY2tUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuVXA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9VcEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuRG93bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0Rvd25BcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkxlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9MZWZ0QXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5SaWdodDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1JpZ2h0QXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBkcmFnIGZsb3cgYmxvY2tcclxuICAgICAgICBpZiAodGhpcy5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5nYW1lU3RhdGUubW91c2VYIC0gdGhpcy53LzI7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWSAtIHRoaXMuaC8yO1xyXG4gICAgICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZGVsZXRlIGlmIGRyb3BwaW5nIGJsb2NrIGFuZCBpdCBkb2Vzbid0IGhhdmUgYSBlbXB0eSBncmlkIGJsb2NrIHRvIGJlIHNldCBvblxyXG4gICAgICAgIGlmICghdGhpcy5tb3VzZURvd24gJiYgIXRoaXMuc2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gQ09OU0lERVI6IEV4dGVuZGluZyBGbG93QmxvY2sgaGVyZVxyXG5leHBvcnQgY2xhc3MgRmxvd0Jsb2NrQnV0dG9uIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHR5cGU6IEZsb3dCbG9ja1R5cGVzO1xyXG4gICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBGbG93QmxvY2tUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgc3dpdGNoKFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5VcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1VwQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvRG93bkFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuTGVmdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0xlZnRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvUmlnaHRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBuZXcgRmxvd0Jsb2NrKHRoaXMuZ2FtZVN0YXRlLCB0aGlzLngsIHRoaXMueSwgdGhpcy5oLCB0aGlzLncsIHRoaXMuQ29sb3IsIHRoaXMudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9jayB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2sgfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMsIEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkQmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICByOiBudW1iZXI7XHJcbiAgICBjOiBudW1iZXI7XHJcbiAgICBjb21tYW5kVHlwZTogQ29tbWFuZEJsb2NrVHlwZXM7XHJcbiAgICBmbG93VHlwZTogRmxvd0Jsb2NrVHlwZXM7XHJcbiAgICBjYWxsOiBhbnk7XHJcbiAgICBjYWxsQ291bnQ6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBSb3c6IG51bWJlciwgQ29sdW1uOiBudW1iZXIsIENvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLnIgPSBSb3c7XHJcbiAgICAgICAgdGhpcy5jID0gQ29sdW1uO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFR5cGUgPSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eTtcclxuICAgICAgICB0aGlzLmZsb3dUeXBlID0gRmxvd0Jsb2NrVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBzZWUgaWYgY29tbWFuZCBibG9jayBpcyBiZWluZyBkcm9wcGVkIG9uIGVtcHR5IGdyaWQgYmxvY2tcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5tb3VzZURvd24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLnggPCB0aGlzLnggKyB0aGlzLncgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueCArIGJsb2NrLncgPiB0aGlzLnggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueSA8IHRoaXMueSArIHRoaXMuaCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5oICsgYmxvY2sueSA+IHRoaXMueSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbW1hbmRUeXBlID09PSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnggPSB0aGlzLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFR5cGUgPSBibG9jay50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZmxvd1R5cGUgPT09IEZsb3dCbG9ja1R5cGVzLkVtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnggPSB0aGlzLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxvd1R5cGUgPSBibG9jay50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzLCBGbG93QmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5mdW5jdGlvbiBtb3ZlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgaWYgKGJsb2NrLmNhbGxDb3VudCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm1vdmVcIik7XHJcbiAgICAgICAgYmxvY2suY2FsbENvdW50LS07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuZ2xlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgaWYgKGJsb2NrLmNhbGxDb3VudCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFuZ2xlXCIpO1xyXG4gICAgICAgIGJsb2NrLmNhbGxDb3VudC0tO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBmdW5jdGlvbiB3aWxsIG9ubHkgaGF2ZSBmaW5kTmV4dEV4ZWN1dGlvbiBiaXRcclxuLy8gd29uJ3QgZG8gYW55dGhpbmcgZXhjZXB0IGNvbnRpbnVlIGV4ZWN1dGlvbiBpZiBwbGF5ZXJzIHVzZSBpdCBsaWtlIGEgbm9ybWFsIGNvbW1hbmQgYmxvY2tcclxuZnVuY3Rpb24gc3RhcnRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnROZXdUaHJlYWRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCB0aHJlYWQ6IG51bWJlcikge1xyXG4gICAgLy8gbG9jYXRlIHRocmVhZFxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2spIHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrLmNvbW1hbmRUeXBlID09PSBDb21tYW5kQmxvY2tUeXBlcy5TdGFydCAvLyYmIHRocmVhZE51bWJlciA9PT0gdGhyZWFkXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5mbG93VHlwZSAhPT0gRmxvd0Jsb2NrVHlwZXMuRW1wdHkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHRocmVhZFxyXG4gICAgICAgICAgICAgICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmROZXh0Q2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgcHJldkJsb2NrOiBHcmlkQmxvY2spIDogdm9pZCB7XHJcbiAgICBsZXQgdGFyZ2V0Um93OiBudW1iZXI7XHJcbiAgICBsZXQgdGFyZ2V0Q29sOiBudW1iZXI7XHJcbiAgICAvLyBUT0RPOiBhZGQgY29uZGl0aW9uYWxzXHJcbiAgICAvLyB0aGlzIHdpbGwgd29yayB3ZWxsIGhlcmUgc2luY2UgZWFjaCBjYWxsIGZpbmRzIHRoZSBuZXh0IGNhbGxcclxuICAgIC8vIGFmdGVyIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXHJcbiAgICBzd2l0Y2gocHJldkJsb2NrLmZsb3dUeXBlKSB7XHJcbiAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5VcDpcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnIgLSAxO1xyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICB0YXJnZXRSb3cgPSBwcmV2QmxvY2suciArIDE7XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYyArIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkxlZnQ6XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jIC0gMTtcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5yID09PSB0YXJnZXRSb3cgJiYgYmxvY2suYyA9PT0gdGFyZ2V0Q29sXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5jb21tYW5kVHlwZSAhPT0gQ29tbWFuZEJsb2NrVHlwZXMuRW1wdHlcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93QmxvY2tUeXBlcy5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGJsb2NrLmNvbW1hbmRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suY2FsbCA9ICgpID0+IGFuZ2xlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suY2FsbENvdW50ID0gMTsgLy8gdGVzdCBhbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjay5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gbW92ZUNhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGxDb3VudCA9IDIwOyAvLyB0ZXN0IGFtb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gc3RhcnRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcblxyXG4vLyBhZGQgY29tbWFuZCBhbmQgY29uZGl0aW9uYWwgdHlwZXMgYXMgYSBwYXJhbSBhbmQgdG8gRW51bXMudHNcclxuLy8gYWRkIHRvIEdlbmVyYXRlTGV2ZWxcclxuLy8gbWF5YmUgYWRkIHN1cHBvcnQgZm9yIHRocmVhZCBzdGFydGVyP1xyXG5leHBvcnQgY2xhc3MgU2xpZGVyIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgc25hcEFtb3VudDogbnVtYmVyO1xyXG4gICAgcGVyY2VudGFnZTogbnVtYmVyO1xyXG4gICAgdmFsdWU6IG51bWJlcjtcclxuICAgIHNsaWRlclg6IG51bWJlcjtcclxuICAgIHNsaWRlclk6IG51bWJlcjtcclxuICAgIHNsaWRlckg6IG51bWJlcjtcclxuICAgIHNsaWRlclc6IG51bWJlcjtcclxuICAgIHNsaWRlckNvbG9yOiBzdHJpbmc7XHJcbiAgICBiYXJYOiBudW1iZXI7XHJcbiAgICBiYXJZOiBudW1iZXI7XHJcbiAgICBiYXJIOiBudW1iZXI7XHJcbiAgICBiYXJXOiBudW1iZXI7XHJcbiAgICBiYXJDb2xvcjogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFggOm51bWJlciwgWTogbnVtYmVyLCBTbmFwQW1vdW50OiBudW1iZXIgPSAxMCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5iYXJIID0gNzU7XHJcbiAgICAgICAgdGhpcy5iYXJXID0gMTA7XHJcbiAgICAgICAgdGhpcy5iYXJYID0gWDtcclxuICAgICAgICB0aGlzLmJhclkgPSBZO1xyXG4gICAgICAgIHRoaXMuYmFyQ29sb3IgPSBcInRoaXN0bGVcIjtcclxuICAgICAgICB0aGlzLnNsaWRlckggPSAxMDtcclxuICAgICAgICB0aGlzLnNsaWRlclcgPSAxNTtcclxuICAgICAgICB0aGlzLnNsaWRlclggPSBYO1xyXG4gICAgICAgIHRoaXMuc2xpZGVyWSA9IFkgKyB0aGlzLmJhckgvMiAtIHRoaXMuc2xpZGVySC8yO1xyXG4gICAgICAgIHRoaXMuc2xpZGVyQ29sb3IgPSBcInB1cnBsZVwiO1xyXG4gICAgICAgIHRoaXMuc25hcEFtb3VudCA9IFNuYXBBbW91bnQ7XHJcbiAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gMSAtICh0aGlzLnNsaWRlclkgLSB0aGlzLmJhclkgKyB0aGlzLnNsaWRlckgvMikgLyB0aGlzLmJhckg7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IE1hdGgucm91bmQodGhpcy5wZXJjZW50YWdlICogdGhpcy5zbmFwQW1vdW50KSAvIHRoaXMuc25hcEFtb3VudDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iYXJZIC0gdGhpcy5zbGlkZXJILzIgPCB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFyWSArIHRoaXMuYmFySCAtIHRoaXMuc2xpZGVySC8yID4gdGhpcy5nYW1lU3RhdGUubW91c2VZKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU2xpZGVyWSA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWTtcclxuICAgICAgICAgICAgICAgIC8vIGZpbmQgcGVyY2VudGFnZSBzbGlkZXIgaXMgdXAgdmVydGljYWwgb24gYmFyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxIC0gKHRlbXBTbGlkZXJZIC0gdGhpcy5iYXJZICsgdGhpcy5zbGlkZXJILzIpIC8gdGhpcy5iYXJIO1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSB0byBiZSB0aGUgcm91bmRlZCBwZXJjZW50YWdlIGJhc2VkIG9uIHNuYXAgYW1vdW50XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnBlcmNlbnRhZ2UgKiB0aGlzLnNuYXBBbW91bnQpIC8gdGhpcy5zbmFwQW1vdW50O1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0IHNsaWRlclkgdmFsdWUgYmFzZWQgb24gbmV3IHZhbHVlIGZyb20gdGhlIHJvdW5kZWQgcGVyY2FudGFnZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXJZID0gdGhpcy5iYXJIICsgdGhpcy5iYXJZIC0gKHRoaXMuc2xpZGVySC8yKSAtICh0aGlzLnZhbHVlICogdGhpcy5iYXJIKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYXcgYmFyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuYmFyWCwgdGhpcy5iYXJZLCB0aGlzLmJhclcsIHRoaXMuYmFySCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgc2xpZGVyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2xpZGVyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuc2xpZGVyWCAtIHRoaXMuc2xpZGVySC80LCB0aGlzLnNsaWRlclksIHRoaXMuc2xpZGVyVywgdGhpcy5zbGlkZXJIKTtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2RlY2xhcmF0aW9ucy9qc29uLmQudHNcIiAvPlxyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IGxldmVsMSBmcm9tICcuLi9kYXRhL2xldmVscy9sZXZlbDEuanNvbic7XHJcbmltcG9ydCB7IEdlbmVyYXRlTGV2ZWwgfSBmcm9tIFwiLi9HZW5lcmF0ZUxldmVsXCI7XHJcbmltcG9ydCB7IFNldFVwRXZlbnRMaXN0ZW5lcnMgfSBmcm9tIFwiLi9TZXRVcEV2ZW50TGlzdGVuZXJzXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jayB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tIFwiLi9TbGlkZXJcIjtcclxuXHJcbi8vIFRPRE86IGFkZCB0ZXh0LWJhc2VkIChudW1iZXJzKSB1aSBlbGVtZW50cyB0byBjb21tYW5kIGJsb2NrXHJcbi8vIFRPRE86IG1ha2Ugc2xpZGVycyBmdW5jdGlvbmFsXHJcbi8vIFRPRE86IHJlbW92ZSB0ZXN0IGNhbGxDb3VudCB2YWx1ZXMgaW4gUHJvZ3JhbUV4ZWN1dGlvblxyXG4vLyBUT0RPOiBhZGQgYmlnIHllbGxvdyBibG9jayB0aGF0IHJlbmRlcnMgYmVoaW5kIGdyaWQgYmxvY2tzIHRvIGluZGljYXRlIHdoaWNoIGJsb2NrIGlzIGN1cnJlbnRseSBiZWluZyBleGVjdXRlZFxyXG4vLyBUT0RPOiBoYXZlIEZsb3dCbG9ja0J1dHRvbiBhbmQgQ29tbWFuZEJsb2NrQnV0dG9ucyBleHRlbmQgZnJvbSB0aGVpciByZXNwZWN0aXZlIGJsb2Nrc1xyXG4vLyBUT0RPOiBwdXNoIG1vc3QgcmVjZW50bHkgY2xpY2tlZCBjb21tYW5kIC8gZmxvdyBibG9jayB0byB0b3Agb2YgYmxvY2sgYXJyYXkgdG8gcmVuZGVyIGl0IG9uIHRvcCBvZiBldmVyeXRoaW5nIGVsc2VcclxuLy8gVE9ETzogc3dpdGNoIHNwYWNlYmFyIGNvbnRyb2wgYnV0dG9uIHRvIGNsaWNrYWJsZSByYWRpbyBidXR0b25cclxuLy8gVE9ETzogYWRkIGJhc2UgVUkgY2xhc3MgLyBzd2l0Y2ggc2xpZGVyW10gdG8gYmFzZVVJRWxlbWVudFtdIGluIEdhbWVTdGF0ZVxyXG4vLyBUT0RPOiBhZGQgZXhlY3V0ZSBwcm9ncmFtIC8gc3RvcCBwcm9ncmFtIGJ1dHRvbnNcclxuXHJcbi8vIHNldCB1cCBnYW1lIHN0YXRlXHJcbnZhciBnYW1lU3RhdGUgPSBuZXcgR2FtZVN0YXRlKCk7XHJcbkdlbmVyYXRlTGV2ZWwoZ2FtZVN0YXRlLCBsZXZlbDEsIFwibGlnaHRibHVlXCIpO1xyXG5TZXRVcEV2ZW50TGlzdGVuZXJzKGdhbWVTdGF0ZSk7XHJcblxyXG4vLyBzZXQgdXAgdGVzdCB1aSBlbGVtZW50c1xyXG5nYW1lU3RhdGUuc2xpZGVycy5wdXNoKG5ldyBTbGlkZXIoZ2FtZVN0YXRlLCA4MCwgMzY1LCA0KSk7XHJcbmdhbWVTdGF0ZS5zbGlkZXJzLnB1c2gobmV3IFNsaWRlcihnYW1lU3RhdGUsIDEzMCwgMzY1KSk7XHJcblxyXG5mdW5jdGlvbiBkcmF3KCkgOiB2b2lkIHtcclxuICAgIGdhbWVTdGF0ZS5jdHguY2xlYXJSZWN0KDAsIDAsIGdhbWVTdGF0ZS5jYW52YXMud2lkdGgsIGdhbWVTdGF0ZS5jYW52YXMuaGVpZ2h0KTtcclxuICAgIGdhbWVTdGF0ZS5jdHguYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgLy8gcmVuZGVyIFVJIGVsZW1lbnRzXHJcbiAgICBnYW1lU3RhdGUuc2xpZGVycy5mb3JFYWNoKHNsaWRlciA9PiB7XHJcbiAgICAgICAgc2xpZGVyLmRyYXcoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHJlbmRlciBhbGwgbm9uLWZsb3cgYmxvY2tzIGZpcnN0XHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGlmICghKGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSkge1xyXG4gICAgICAgICAgICBibG9jay5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcmVuZGVyIGFsbCBmbG93IGJsb2NrcyBsYXN0IHRvIGxheWVyIHRoZW0gb24gdG9wIG9mIGNvbW1hbmQgYmxvY2tzXHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykge1xyXG4gICAgICAgICAgICBibG9jay5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZ2FtZVN0YXRlLmN0eC5zdHJva2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgYmxvY2sudXBkYXRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBnYW1lU3RhdGUuc2xpZGVycy5mb3JFYWNoKHNsaWRlciA9PiB7XHJcbiAgICAgICAgc2xpZGVyLnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbnNldEludGVydmFsKGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgIHVwZGF0ZSgpO1xyXG4gICAgZHJhdygpO1xyXG5cclxuICAgIGNvbnN0IGNhbGxTdGFjayA9IGdhbWVTdGF0ZS5uZXh0U3RhY2s7XHJcbiAgICBnYW1lU3RhdGUubmV4dFN0YWNrID0gW107XHJcblxyXG4gICAgaWYgKGNhbGxTdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY2FsbFN0YWNrLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAvLyB3aWxsIGNhbGwgY29tbWFuZCBhbmQgcHVzaCBpdCBiYWNrIG9uIHN0YWNrXHJcbiAgICAgICAgICAgIGlmIChibG9jay5jYWxsQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBibG9jay5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVsc2UganVzdCBjYWxsIG9uY2UgYW5kIGZpbmQgbmV4dCBjYWxsXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmxvY2suY2FsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxufSwgMTIpOyIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrQnV0dG9uIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tUeXBlcywgRmxvd0Jsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdlbmVyYXRlTGV2ZWwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGxldmVsT2JqOiBvYmplY3QsIHBhbGV0dGVDb2xvcjogc3RyaW5nKSB7XHJcbiAgICBsZXQgeU9mZnNldDogbnVtYmVyID0gNTtcclxuICAgIGxldCB4T2Zmc2V0OiBudW1iZXIgPSA1O1xyXG4gICAgbGV0IG1heFhPZmZzZXQ6IG51bWJlciA9IDA7XHJcbiAgICBsZXQgbWF4WU9mZnNldDogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvLyBzZXQgdXAgZ3JpZCBmb3IgQ29tbWFuZCBQYWxldHRlXHJcbiAgICAvLyBhc3NpZ24gcm93IGFuZCBjb2x1bW4gdmFsdWVzIHRvIGdyaWQgYmxvY2tzXHJcbiAgICBmb3IgKHZhciByID0gMDsgciA8IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfaGVpZ2h0XCJdOyByKyspIHtcclxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfd2lkdGhcIl07IGMrKykge1xyXG4gICAgICAgICAgICBuZXcgR3JpZEJsb2NrKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCByLCBjLCBwYWxldHRlQ29sb3IpO1xyXG4gICAgICAgICAgICB4T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIG1heFhPZmZzZXQgPSB4T2Zmc2V0O1xyXG4gICAgICAgIHhPZmZzZXQgPSA1O1xyXG4gICAgfVxyXG5cclxuICAgIG1heFlPZmZzZXQgPSB5T2Zmc2V0O1xyXG4gICAgeU9mZnNldCA9IG1heFlPZmZzZXQgKyAyMDtcclxuXHJcbiAgICAvLyBzZXQgdXAgQ29tbWFuZCBCbG9jayBCdXR0b25zXHJcbiAgICAvLyBDT05TSURFUjogQWNjb21tb2RhdGluZyBmb3IgY29tbWFuZCBwYWxldHRlIHdpZHRoXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl0ubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgc3dpdGNoKGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl1baV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuTW92ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImFuZ2xlXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuQW5nbGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0aHJlYWRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5UaHJlYWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsYXNlclwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJncmVlblwiLCBDb21tYW5kQmxvY2tUeXBlcy5MYXNlcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNjYW5cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwiZGFya2JsdWVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuU2Nhbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImdyYXBwbGVcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwibWFyb29uXCIsIENvbW1hbmRCbG9ja1R5cGVzLkdyYXBwbGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhPZmZzZXQgKz0gNTU7XHJcbiAgICB9XHJcblxyXG4gICAgeE9mZnNldCA9IG1heFhPZmZzZXQgKyAyMDtcclxuICAgIHlPZmZzZXQgPSA1O1xyXG5cclxuICAgIC8vIHNldCB1cCBGbG93IEJsb2NrIEJ1dHRvbnNcclxuICAgIC8vIENPTlNJREVSOiBBY2NvbW1vZGF0aW5nIGZvciBjb21tYW5kIHBhbGV0dGUgaGVpZ2h0XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsT2JqW1wiZmxvd19ibG9ja3NcIl0ubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgc3dpdGNoKGxldmVsT2JqW1wiZmxvd19ibG9ja3NcIl1baV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcInVwXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93QmxvY2tUeXBlcy5VcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dCbG9ja1R5cGVzLkxlZnQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IEZsb3dCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ5ZWxsb3dcIiwgRmxvd0Jsb2NrVHlwZXMuUmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkb3duXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93QmxvY2tUeXBlcy5Eb3duKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9jaywgQ29tbWFuZEJsb2NrQnV0dG9uIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2ssIEZsb3dCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tUeXBlcywgRmxvd0Jsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBzdGFydE5ld1RocmVhZENhbGwgfSBmcm9tIFwiLi9Qcm9ncmFtRXhlY3V0aW9uXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU2V0VXBFdmVudExpc3RlbmVycyhnYW1lU3RhdGU6IEdhbWVTdGF0ZSkge1xyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gQ29sbGlzaW9uIGRldGVjdGlvbiBiZXR3ZWVuIGNsaWNrZWQgb2Zmc2V0IGFuZCBibG9jay5cclxuICAgICAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLm1vdXNlWSA+IGJsb2NrLnkgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IGJsb2NrLnkgKyBibG9jay5oXHJcbiAgICAgICAgICAgICAgICAmJiBnYW1lU3RhdGUubW91c2VYID4gYmxvY2sueCAmJiBnYW1lU3RhdGUubW91c2VYIDwgYmxvY2sueCArIGJsb2NrLncpIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9jayAmJiBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja0J1dHRvbiAmJiBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jayAmJiBnYW1lU3RhdGUuZmxvd0NvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9ja0J1dHRvbiAmJiBnYW1lU3RhdGUuZmxvd0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayByYWRpbyBidXR0b24gZm9yIGZsb3cgb3IgY29tbWFuZCBjb250cm9sXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kVHlwZSA9IENvbW1hbmRCbG9ja1R5cGVzLkVtcHR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUuZmxvd0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suZmxvd1R5cGUgPSBGbG93QmxvY2tUeXBlcy5FbXB0eTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIHNsaWRlcnMgYmVpbmcgY2xpY2tlZFxyXG4gICAgICAgIGdhbWVTdGF0ZS5zbGlkZXJzLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gcy5zbGlkZXJZICYmIGdhbWVTdGF0ZS5tb3VzZVkgPCBzLnNsaWRlclkgKyBzLnNsaWRlckhcclxuICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBzLnNsaWRlclggJiYgZ2FtZVN0YXRlLm1vdXNlWCA8IHMuc2xpZGVyWCArIHMuc2xpZGVyVykge1xyXG4gICAgICAgICAgICAgICAgcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIC8vIG1ha2Ugc3VyZSBhbGwgY2xpY2thYmxlIGVudGl0aWVzIGFyZW4ndCBjbGlja2FibGUgb24gbW91c2V1cFxyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBnYW1lU3RhdGUuc2xpZGVycy5mb3JFYWNoKHMgPT4ge1xyXG4gICAgICAgICAgICBzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZ0OiBNb3VzZUV2ZW50KSA6IHZvaWQge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5tb3VzZVggPSAoZXZ0LmNsaWVudFggLSBnYW1lU3RhdGUucmVjdC5sZWZ0KSAvIChnYW1lU3RhdGUucmVjdC5yaWdodCAtIGdhbWVTdGF0ZS5yZWN0LmxlZnQpICogZ2FtZVN0YXRlLmNhbnZhcy53aWR0aDtcclxuICAgICAgICBnYW1lU3RhdGUubW91c2VZID0gKGV2dC5jbGllbnRZIC0gZ2FtZVN0YXRlLnJlY3QudG9wKSAvIChnYW1lU3RhdGUucmVjdC5ib3R0b20gLSBnYW1lU3RhdGUucmVjdC50b3ApICogZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgd2luZG93Lm9ua2V5dXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgLy8gaS5lLiBTcGFjZUJhciBwcmVzc2VkXHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzIpIHtcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmZsb3dDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21tYW5kIENvbnRyb2whXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuZmxvd0NvbnRyb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGbG93IENvbnRyb2whXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpLmUuIFMga2V5IHByZXNzZWRcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSA4Mykge1xyXG4gICAgICAgICAgICBpZiAoIWdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TmV3VGhyZWFkQ2FsbChnYW1lU3RhdGUsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==