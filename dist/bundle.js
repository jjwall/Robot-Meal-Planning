!function(t){var e={};function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle"],flow_blocks:["up","down","left","right"]}},function(t,e,a){"use strict";a.r(e);var n,o,s=function(){return function(t){this.canvas=t&&t.canvas||document.getElementById("gameScreen"),this.ctx=t&&t.ctx||this.canvas.getContext("2d"),this.rect=t&&t.rect||this.canvas.getBoundingClientRect(),this.blocks=t&&t.blocks||[],this.sliders=t&&t.sliders||[],this.mouseX=t&&t.mouseX||0,this.mouseY=t&&t.mouseY||0,this.commandControl=t&&t.commandControl||!0,this.flowControl=t&&t.flowControl||!1,this.nextStack=t&&t.nextStack||[],this.programRunning=t&&t.programRunning||!1}}(),i=a(0),r=function(){function t(t,e,a,n,o,s){this.GameState=t,this.X=e,this.Y=a,this.H=n,this.W=o,this.Color=s,this.gameState=t,this.x=e,this.y=a,this.h=n,this.w=o,this.color=s}return t.prototype.draw=function(){},t.prototype.update=function(){},t}();!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Thread=4]="Thread",t[t.Scan=5]="Scan",t[t.Laser=6]="Laser",t[t.Grapple=7]="Grapple"}(n||(n={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(o||(o={}));var c=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function n(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),l=function(t){function e(e,a,s,i,r,c,l,h){var u=t.call(this,e,a,s,i,r,h)||this;return u.r=c,u.c=l,u.flowType=o.Empty,u.gameState.blocks.push(u),u.commandData={baseUnits:0,totalUnits:0,callCount:0,type:n.Empty},u}return c(e,t),e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},e}(r),h=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function n(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),u=function(t){function e(e,a,o,s,i,r,c,l,h){var u=t.call(this,e,a,o,s,i,l)||this;switch(u.baseUnits=r,u.callCount=c,u.totalUnits=u.baseUnits*u.callCount,u.mouseDown=!0,u.set=!1,u.type=h,u.image=new Image,h){case n.Start:u.image.src="data/textures/StartBlock.png";break;case n.Move:u.image.src="data/textures/MoveBlock.png";break;case n.Angle:u.image.src="data/textures/AngleBlock.png";break;case n.Thread:u.image.src="data/textures/ThreadBlock.png"}return u.gameState.blocks.push(u),u}return h(e,t),e.prototype.mouseUp=function(){var t=this;if(this.gameState.blocks.forEach(function(e){e instanceof l&&e.commandData.type===n.Empty&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.x=e.x,t.y=e.y,t.set=!0,e.commandData.type=t.type,e.commandData.baseUnits=t.baseUnits,e.commandData.callCount=t.callCount,e.commandData.totalUnits=t.totalUnits,e.currentCallCount=t.callCount)}),!this.set){var e=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(e,1)}},e.prototype.update=function(){this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1)},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},e}(r),m=function(t){function e(e,a,o,s,i,r,c){var l=t.call(this,e,a,o,s,i,r)||this;switch(l.updateData=function(t,e){l.callCount=t,l.baseUnits=e,l.totalUnits=l.baseUnits*l.callCount},l.mouseDown=!1,l.type=c,l.image=new Image,l.baseUnits=0,l.callCount=0,l.totalUnits=0,c){case n.Start:l.image.src="data/textures/StartBlock.png";break;case n.Move:l.image.src="data/textures/MoveBlock.png";break;case n.Angle:l.image.src="data/textures/AngleBlock.png";break;case n.Thread:l.image.src="data/textures/ThreadBlock.png"}return l.gameState.blocks.push(l),l}return h(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new u(this.gameState,this.x,this.y,this.h,this.w,this.baseUnits,this.callCount,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},e}(r),p=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function n(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),f=function(t){function e(e,a,n,s,i,r,c){var l=t.call(this,e,a,n,s,i,r)||this;switch(l.gameState=e,l.type=c,l.mouseDown=!0,l.set=!1,l.image=new Image,c){case o.Up:l.image.src="data/textures/UpArrow.png";break;case o.Down:l.image.src="data/textures/DownArrow.png";break;case o.Left:l.image.src="data/textures/LeftArrow.png";break;case o.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return p(e,t),e.prototype.mouseUp=function(){var t=this;if(this.gameState.blocks.forEach(function(e){e instanceof l&&e.flowType===o.Empty&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.x=e.x,t.y=e.y,t.set=!0,e.flowType=t.type)}),!this.set){var e=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(e,1)}},e.prototype.update=function(){this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1)},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),g=function(t){function e(e,a,n,s,i,r,c){var l=t.call(this,e,a,n,s,i,r)||this;switch(l.type=c,l.mouseDown=!1,l.image=new Image,c){case o.Up:l.image.src="data/textures/UpArrow.png";break;case o.Down:l.image.src="data/textures/DownArrow.png";break;case o.Left:l.image.src="data/textures/LeftArrow.png";break;case o.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return p(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new f(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),d=function(){function t(t,e,a,n,o,s,i){void 0===i&&(i=10),this.gameState=t,this.mouseDown=!1,this.maxUnits=n,this.snapAmount=i,this.updateDataCallBack=s,this.baseUnits=Math.round(this.maxUnits/this.snapAmount),this.type=o,this.barH=75,this.barW=10,this.barX=e,this.barY=a,this.barColor="thistle",this.sliderH=10,this.sliderW=15,this.sliderX=e,this.sliderY=a+this.barH/2-this.sliderH/2,this.sliderColor="purple",this.percentage=1-(this.sliderY-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.gameState.sliders.push(this);var r=Math.round(this.value*this.maxUnits/this.baseUnits);this.updateDataCallBack(r,this.baseUnits)}return t.prototype.update=function(){if(this.mouseDown&&this.barY-this.sliderH/2<this.gameState.mouseY&&this.barY+this.barH-this.sliderH/2>this.gameState.mouseY){var t=this.gameState.mouseY;this.percentage=1-(t-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.sliderY=this.barH+this.barY-this.sliderH/2-this.value*this.barH;var e=Math.round(this.value*this.maxUnits/this.baseUnits);this.updateDataCallBack(e,this.baseUnits)}},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.barColor,this.gameState.ctx.fillRect(this.barX,this.barY,this.barW,this.barH),this.gameState.ctx.fillStyle=this.sliderColor,this.gameState.ctx.fillRect(this.sliderX-this.sliderH/4,this.sliderY,this.sliderW,this.sliderH)},t}();function w(t,e){var a,s;switch(e.currentCallCount=e.commandData.callCount,e.flowType){case o.Up:a=e.r-1,s=e.c;break;case o.Down:a=e.r+1,s=e.c;break;case o.Right:s=e.c+1,a=e.r;break;case o.Left:s=e.c-1,a=e.r}t.blocks.forEach(function(e){if(e instanceof l&&e.r===a&&e.c===s&&e.commandData.type!==n.Empty&&e.flowType!==o.Empty)switch(e.commandData.type){case n.Angle:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("angle"),e.currentCallCount--):w(t,e)}(t,e)},t.nextStack.push(e);break;case n.Move:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("move"),e.currentCallCount--):w(t,e)}(t,e)},t.nextStack.push(e);break;case n.Start:e.call=function(){return function(t,e){console.log("start"),w(t,e)}(t,e)},t.nextStack.push(e)}})}var y=new s;!function(t,e,a){for(var s=5,i=5,r=0,c=0;c<e.command_palette.block_height;c++){for(var h=0;h<e.command_palette.block_width;h++)new l(t,i,s,50,50,c,h,a),i+=55;s+=55,r=i,i=5}s+=20;for(var u=0;u<e.command_blocks.length;u++){switch(e.command_blocks[u]){case"start":new m(t,i,s,50,50,"thistle",n.Start);break;case"move":var p=new m(t,i,s,50,50,"thistle",n.Move);new d(t,i+20,s+60,100,n.Move,p.updateData);break;case"angle":var f=new m(t,i,s,50,50,"thistle",n.Angle);new d(t,i+20,s+60,360,n.Angle,f.updateData,8);break;case"thread":new m(t,i,s,50,50,"thistle",n.Thread);break;case"laser":new m(t,i,s,50,50,"green",n.Laser);break;case"scan":new m(t,i,s,50,50,"darkblue",n.Scan);break;case"grapple":new m(t,i,s,50,50,"maroon",n.Grapple)}i+=55}for(i=r+20,s=5,u=0;u<e.flow_blocks.length;u++){switch(e.flow_blocks[u]){case"up":new g(t,i,s,50,50,"yellow",o.Up);break;case"left":new g(t,i,s,50,50,"yellow",o.Left);break;case"right":new g(t,i,s,50,50,"yellow",o.Right);break;case"down":new g(t,i,s,50,50,"yellow",o.Down)}s+=55}}(y,i,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof u&&t.commandControl||e instanceof m&&t.commandControl||e instanceof f&&t.flowControl||e instanceof g&&t.flowControl?e.mouseDown=!0:e instanceof l&&(t.commandControl?e.commandData.type=n.Empty:t.flowControl&&(e.flowType=o.Empty)))}),t.sliders.forEach(function(e){t.mouseY>e.sliderY&&t.mouseY<e.sliderY+e.sliderH&&t.mouseX>e.sliderX&&t.mouseX<e.sliderX+e.sliderW&&(e.mouseDown=!0)})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof u||t instanceof f)&&t.mouseDown&&(t.mouseDown=!1,t.mouseUp())}),t.sliders.forEach(function(t){t.mouseDown=!1})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning?(t.programRunning=!1,t.nextStack=[]):(t.programRunning=!0,function(t,e){t.blocks.forEach(function(e){e instanceof l&&e.commandData.type===n.Start&&e.flowType!==o.Empty&&w(t,e)})}(t)))}}(y),setInterval(function(){y.blocks.forEach(function(t){t.update()}),y.sliders.forEach(function(t){t.update()}),y.ctx.clearRect(0,0,y.canvas.width,y.canvas.height),y.ctx.beginPath(),y.sliders.forEach(function(t){t.draw()}),y.blocks.forEach(function(t){t instanceof f||t.draw()}),y.blocks.forEach(function(t){t instanceof f&&t.draw()}),y.ctx.stroke();var t=y.nextStack;y.nextStack=[],t.length>0&&y.programRunning?t.forEach(function(t){t.currentCallCount>0?(t.call(),y.nextStack.push(t)):t.call()}):y.programRunning=!1},12)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Jhc2VCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR3JpZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21tYW5kQmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Zsb3dCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Qcm9ncmFtRXhlY3V0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9HZW5lcmF0ZUxldmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9TZXRVcEV2ZW50TGlzdGVuZXJzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tbWFuZFR5cGVzIiwiRmxvd1R5cGVzIiwiR2FtZVN0YXRlX0dhbWVTdGF0ZSIsIm9iaiIsInRoaXMiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJibG9ja3MiLCJzbGlkZXJzIiwibW91c2VYIiwibW91c2VZIiwiY29tbWFuZENvbnRyb2wiLCJmbG93Q29udHJvbCIsIm5leHRTdGFjayIsInByb2dyYW1SdW5uaW5nIiwiQmFzZUJsb2NrIiwiR2FtZVN0YXRlIiwiWCIsIlkiLCJIIiwiVyIsIkNvbG9yIiwiZ2FtZVN0YXRlIiwieCIsInkiLCJoIiwidyIsImNvbG9yIiwiZHJhdyIsInVwZGF0ZSIsIkdyaWRCbG9ja19HcmlkQmxvY2siLCJfc3VwZXIiLCJHcmlkQmxvY2siLCJSb3ciLCJDb2x1bW4iLCJfdGhpcyIsImZsb3dUeXBlIiwiRW1wdHkiLCJwdXNoIiwiY29tbWFuZERhdGEiLCJiYXNlVW5pdHMiLCJ0b3RhbFVuaXRzIiwiY2FsbENvdW50IiwidHlwZSIsIl9fZXh0ZW5kcyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiQ29tbWFuZEJsb2NrX0NvbW1hbmRCbG9jayIsIkNvbW1hbmRCbG9jayIsIlVuaXRzIiwiQ2FsbENvdW50IiwiVHlwZSIsIm1vdXNlRG93biIsInNldCIsImltYWdlIiwiSW1hZ2UiLCJTdGFydCIsInNyYyIsIk1vdmUiLCJBbmdsZSIsIlRocmVhZCIsIkNvbW1hbmRCbG9ja19leHRlbmRzIiwibW91c2VVcCIsImZvckVhY2giLCJibG9jayIsImN1cnJlbnRDYWxsQ291bnQiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJ0cmFuc2xhdGUiLCJkcmF3SW1hZ2UiLCJmb250Iiwib2Zmc2V0WCIsImZpbGxUZXh0IiwidG9TdHJpbmciLCJDb21tYW5kQmxvY2tfQ29tbWFuZEJsb2NrQnV0dG9uIiwiQ29tbWFuZEJsb2NrQnV0dG9uIiwidXBkYXRlRGF0YSIsImNhbGN1bGF0ZWRDYWxsQ291bnQiLCJGbG93QmxvY2tfRmxvd0Jsb2NrIiwiRmxvd0Jsb2NrIiwiVXAiLCJEb3duIiwiTGVmdCIsIlJpZ2h0IiwiRmxvd0Jsb2NrX2V4dGVuZHMiLCJzdHJva2VTdHlsZSIsIkZsb3dCbG9ja19GbG93QmxvY2tCdXR0b24iLCJGbG93QmxvY2tCdXR0b24iLCJTbGlkZXIiLCJNYXhVbml0cyIsIlVwZGF0ZURhdGFDYWxsQmFjayIsIlNuYXBBbW91bnQiLCJtYXhVbml0cyIsInNuYXBBbW91bnQiLCJ1cGRhdGVEYXRhQ2FsbEJhY2siLCJNYXRoIiwicm91bmQiLCJiYXJIIiwiYmFyVyIsImJhclgiLCJiYXJZIiwiYmFyQ29sb3IiLCJzbGlkZXJIIiwic2xpZGVyVyIsInNsaWRlclgiLCJzbGlkZXJZIiwic2xpZGVyQ29sb3IiLCJwZXJjZW50YWdlIiwidGVtcFNsaWRlclkiLCJmaW5kTmV4dENhbGwiLCJwcmV2QmxvY2siLCJ0YXJnZXRSb3ciLCJ0YXJnZXRDb2wiLCJjb25zb2xlIiwibG9nIiwiYW5nbGVDYWxsIiwibW92ZUNhbGwiLCJzdGFydENhbGwiLCJtYWluX2dhbWVTdGF0ZSIsImxldmVsT2JqIiwicGFsZXR0ZUNvbG9yIiwieU9mZnNldCIsInhPZmZzZXQiLCJtYXhYT2Zmc2V0IiwibGVuZ3RoIiwibW92ZUJsb2NrIiwiYW5nbGVCbG9jayIsIkxhc2VyIiwiU2NhbiIsIkdyYXBwbGUiLCJHZW5lcmF0ZUxldmVsIiwibGV2ZWwxIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsImNsaWVudFgiLCJsZWZ0IiwicmlnaHQiLCJ3aWR0aCIsImNsaWVudFkiLCJ0b3AiLCJib3R0b20iLCJoZWlnaHQiLCJ3aW5kb3ciLCJvbmtleXVwIiwiZSIsImtleUNvZGUiLCJ0aHJlYWQiLCJzdGFydE5ld1RocmVhZENhbGwiLCJTZXRVcEV2ZW50TGlzdGVuZXJzIiwic2V0SW50ZXJ2YWwiLCJzbGlkZXIiLCJjbGVhclJlY3QiLCJiZWdpblBhdGgiLCJzdHJva2UiLCJjYWxsU3RhY2siXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVB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SCxNRjlEbkMrSCxDQUFvQjlCLEdBc0NwQitCLFlBQVksV0FUUi9CLEVBQVVoSCxPQUFPd0QsUUFBUSxTQUFBQyxHQUNyQkEsRUFBTW5DLFdBR1YwRixFQUFVL0csUUFBUXVELFFBQVEsU0FBQXdGLEdBQ3RCQSxFQUFPMUgsV0EvQlgwRixFQUFVcEgsSUFBSXFKLFVBQVUsRUFBRyxFQUFHakMsRUFBVXZILE9BQU8wSSxNQUFPbkIsRUFBVXZILE9BQU84SSxRQUN2RXZCLEVBQVVwSCxJQUFJc0osWUFHZGxDLEVBQVUvRyxRQUFRdUQsUUFBUSxTQUFBd0YsR0FDdEJBLEVBQU8zSCxTQUlYMkYsRUFBVWhILE9BQU93RCxRQUFRLFNBQUFDLEdBQ2ZBLGFBQWlCZSxHQUNuQmYsRUFBTXBDLFNBS2QyRixFQUFVaEgsT0FBT3dELFFBQVEsU0FBQUMsR0FDakJBLGFBQWlCZSxHQUNqQmYsRUFBTXBDLFNBSWQyRixFQUFVcEgsSUFBSXVKLFNBaUJkLElBQU1DLEVBQVlwQyxFQUFVMUcsVUFDNUIwRyxFQUFVMUcsYUFFTjhJLEVBQVU5QixPQUFTLEdBQUtOLEVBQVV6RyxlQUNsQzZJLEVBQVU1RixRQUFRLFNBQUFDLEdBRVZBLEVBQU1DLGlCQUFtQixHQUN6QkQsRUFBTWxHLE9BQ055SixFQUFVMUcsVUFBVXlCLEtBQUswQixJQUl6QkEsRUFBTWxHLFNBS2R5SixFQUFVekcsZ0JBQWlCLEdBRWhDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4vU2xpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIHtcclxuICAgIHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICByZWFkb25seSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHJlYWRvbmx5IHJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0O1xyXG4gICAgcHVibGljIGJsb2NrczogQmFzZUJsb2NrW107XHJcbiAgICBwdWJsaWMgc2xpZGVyczogU2xpZGVyW107XHJcbiAgICBwdWJsaWMgbW91c2VYOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbW91c2VZOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY29tbWFuZENvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZmxvd0NvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgbmV4dFN0YWNrOiBHcmlkQmxvY2tbXTtcclxuICAgIHB1YmxpYyBwcm9ncmFtUnVubmluZzogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKG9iaj86IElHYW1lU3RhdGUpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG9iaiAmJiBvYmouY2FudmFzIHx8IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lU2NyZWVuXCIpO1xyXG4gICAgICAgIHRoaXMuY3R4ID0gb2JqICYmIG9iai5jdHggfHwgPENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD4gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMucmVjdCA9IG9iaiAmJiBvYmoucmVjdCB8fCA8Q2xpZW50UmVjdCB8IERPTVJlY3Q+IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHRoaXMuYmxvY2tzID0gb2JqICYmIG9iai5ibG9ja3MgfHwgW107XHJcbiAgICAgICAgdGhpcy5zbGlkZXJzID0gb2JqICYmIG9iai5zbGlkZXJzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMubW91c2VYID0gb2JqICYmIG9iai5tb3VzZVggfHwgMDtcclxuICAgICAgICB0aGlzLm1vdXNlWSA9IG9iaiAmJiBvYmoubW91c2VZIHx8IDA7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ29udHJvbCA9IG9iaiAmJiBvYmouY29tbWFuZENvbnRyb2wgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLmZsb3dDb250cm9sID0gb2JqICYmIG9iai5mbG93Q29udHJvbCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLm5leHRTdGFjayA9IG9iaiAmJiBvYmoubmV4dFN0YWNrIHx8IFtdO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbVJ1bm5pbmcgPSBvYmogJiYgb2JqLnByb2dyYW1SdW5uaW5nIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHYW1lU3RhdGUge1xyXG4gICAgcmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHJlYWRvbmx5IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcmVhZG9ubHkgcmVjdDogQ2xpZW50UmVjdCB8IERPTVJlY3Q7XHJcbiAgICBibG9ja3M6IEJhc2VCbG9ja1tdO1xyXG4gICAgc2xpZGVyczogU2xpZGVyW107XHJcbiAgICBtb3VzZVg6IG51bWJlcjtcclxuICAgIG1vdXNlWTogbnVtYmVyO1xyXG4gICAgY29tbWFuZENvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBmbG93Q29udHJvbDogYm9vbGVhbjtcclxuICAgIG5leHRTdGFjazogYW55W107XHJcbiAgICBwcm9ncmFtUnVubmluZzogYm9vbGVhbjtcclxufSIsImV4cG9ydCBlbnVtIENvbW1hbmRUeXBlcyB7XHJcbiAgICBFbXB0eSxcclxuICAgIFN0YXJ0LFxyXG4gICAgTW92ZSxcclxuICAgIEFuZ2xlLFxyXG4gICAgVGhyZWFkLFxyXG4gICAgU2NhbixcclxuICAgIExhc2VyLFxyXG4gICAgR3JhcHBsZVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBGbG93VHlwZXMge1xyXG4gICAgRW1wdHksXHJcbiAgICBVcCxcclxuICAgIERvd24sXHJcbiAgICBMZWZ0LFxyXG4gICAgUmlnaHQsXHJcbiAgICBDb25kaXRpb25hbExlZnRSaWdodCxcclxuICAgIENvbmRpdGlvbmFsTGVmdFVwLFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0RG93bixcclxuICAgIENvbmRpdGlvbmFsVXBSaWdodCxcclxuICAgIENvbmRpdGlvbmFsVXBEb3duLFxyXG4gICAgQ29uZGl0aW9uYWxEb3duUmlnaHRcclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VCbG9jayB7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgR2FtZVN0YXRlOiBHYW1lU3RhdGUsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgWDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIFk6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBIOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgVzogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIENvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLnggPSBYO1xyXG4gICAgICAgIHRoaXMueSA9IFk7XHJcbiAgICAgICAgdGhpcy5oID0gSDtcclxuICAgICAgICB0aGlzLncgPSBXO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBDb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCk6IHZvaWQge30gXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7fVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMsIEZsb3dUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZEJsb2NrIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIHByb3RlY3RlZCBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdzogbnVtYmVyO1xyXG4gICAgcHVibGljIHI6IG51bWJlcjtcclxuICAgIHB1YmxpYyBjOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY29tbWFuZERhdGE6IElDb21tYW5kRGF0YTtcclxuICAgIHB1YmxpYyBjdXJyZW50Q2FsbENvdW50OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgZmxvd1R5cGU6IEZsb3dUeXBlcztcclxuICAgIHB1YmxpYyBjYWxsOiBhbnk7IC8vIGNoYW5nZSB0eXBlIGhlcmUgdG8gZ2VuZXJpYyBtZXRob2Qgc2lnbmF0dXJlXHJcbiAgICByZWFkb25seSBjb2xvcjogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgUm93OiBudW1iZXIsIENvbHVtbjogbnVtYmVyLCBDb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy5yID0gUm93O1xyXG4gICAgICAgIHRoaXMuYyA9IENvbHVtbjtcclxuICAgICAgICB0aGlzLmZsb3dUeXBlID0gRmxvd1R5cGVzLkVtcHR5O1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZERhdGEgPSB7XHJcbiAgICAgICAgICAgIGJhc2VVbml0czogMCxcclxuICAgICAgICAgICAgdG90YWxVbml0czogMCxcclxuICAgICAgICAgICAgY2FsbENvdW50OiAwLFxyXG4gICAgICAgICAgICB0eXBlOiBDb21tYW5kVHlwZXMuRW1wdHlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBJbnRlcmZhY2UgdG8gY29tbXVuaWNhdGUgY29tbWFuZCBkYXRhLlxyXG4qL1xyXG5leHBvcnQgaW50ZXJmYWNlIElDb21tYW5kRGF0YSB7XHJcbiAgICAvKipcclxuICAgICogQW1vdW50IG9mIHVuaXRzIHBlciBjYWxsLlxyXG4gICAgKi9cclxuICAgIGJhc2VVbml0czogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAqIFRvdGFsIHVuaXRzIGFmdGVyIGFsbCBjYWxsKHMpLlxyXG4gICAgKi9cclxuICAgIHRvdGFsVW5pdHM6IG51bWJlcjtcclxuICAgIC8qKlxyXG4gICAgKiBBbW91bnQgb2YgY2FsbHMgZm9yIGEgc2luZ2xlIHBhc3Mgb2YgZXhlY3V0aW9uLlxyXG4gICAgKi9cclxuICAgIGNhbGxDb3VudDogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAqIFR5cGUgb2YgY29tbWFuZCBmb3IgdGhlIGV4ZWN1dGlvbiBwcm9jZXNzLlxyXG4gICAgKi9cclxuICAgIHR5cGU6IENvbW1hbmRUeXBlcztcclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuaW1wb3J0IHsgSUNvbW1hbmREYXRhLCBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sgaW1wbGVtZW50cyBJQ29tbWFuZERhdGEge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBiYXNlVW5pdHM6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGNhbGxDb3VudDogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdG90YWxVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgc2V0OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogQ29tbWFuZFR5cGVzO1xyXG4gICAgcmVhZG9ubHkgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBVbml0czogbnVtYmVyLCBDYWxsQ291bnQ6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogQ29tbWFuZFR5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy5iYXNlVW5pdHMgPSBVbml0cztcclxuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IENhbGxDb3VudDtcclxuICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSB0aGlzLmJhc2VVbml0cyAqIHRoaXMuY2FsbENvdW50O1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTW92ZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvQW5nbGVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1ldGhvZCBjYWxsZWQgaW4gU2V0VXBFdmVudExpc3RlbmVycy50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbW91c2VVcCgpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gaS5lLiBkcm9wcGluZyBibG9ja1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrICYmIGJsb2NrLmNvbW1hbmREYXRhLnR5cGUgPT09IENvbW1hbmRUeXBlcy5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLnggPCB0aGlzLnggKyB0aGlzLncgJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay54ICsgYmxvY2sudyA+IHRoaXMueCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPCB0aGlzLnkgKyB0aGlzLmggJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5oICsgYmxvY2sueSA+IHRoaXMueSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzbmFwIHRoaXMgY29tbWFuZCBibG9jayB0byBlbXB0eSBHcmlkQmxvY2tcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSBibG9jay54O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSA9IGJsb2NrLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBHcmlkQmxvY2sncyBjb21tYW5kRGF0YSBhbmQgY3VycmVudENhbGxDb3VudCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY29tbWFuZERhdGEudHlwZSA9IHRoaXMudHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS5iYXNlVW5pdHMgPSB0aGlzLmJhc2VVbml0cztcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS5jYWxsQ291bnQgPSB0aGlzLmNhbGxDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS50b3RhbFVuaXRzID0gdGhpcy50b3RhbFVuaXRzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmN1cnJlbnRDYWxsQ291bnQgPSB0aGlzLmNhbGxDb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBkZWxldGUgaWYgZHJvcHBpbmcgYmxvY2sgYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhIGVtcHR5IGdyaWQgYmxvY2sgdG8gYmUgc2V0IG9uXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYWcgY29tbWFuZCBibG9ja1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVggLSB0aGlzLncvMjtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lU3RhdGUubW91c2VZIC0gdGhpcy5oLzI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZm9udCA9IFwiMTVweCBBcmlhbFwiO1xyXG4gICAgICAgIGxldCBvZmZzZXRYID0gMzA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsVW5pdHMgPiA5OSkge1xyXG4gICAgICAgICAgICBvZmZzZXRYID0gMjU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG90YWxVbml0cyA8IDEwKSB7XHJcbiAgICAgICAgICAgIG9mZnNldFggPSAzNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsVGV4dCgodGhpcy50b3RhbFVuaXRzKS50b1N0cmluZygpLCB0aGlzLnggKyBvZmZzZXRYLCB0aGlzLnkgKyA0OCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENPTlNJREVSOiBleHRlbmRpbmcgQ29tbWFuZEJsb2NrIGNsYXNzXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sgaW1wbGVtZW50cyBJQ29tbWFuZERhdGEge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYmFzZVVuaXRzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdG90YWxVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICByZWFkb25seSB0eXBlOiBDb21tYW5kVHlwZXM7XHJcbiAgICByZWFkb25seSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IENvbW1hbmRUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5iYXNlVW5pdHMgPSAwO1xyXG4gICAgICAgIHRoaXMuY2FsbENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSAwO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTW92ZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvQW5nbGVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIHBhc3NlZCBpbiBhcyByZWZlcmVuY2UgdG8gY29ycmVzcG9uZGluZyBVSS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZURhdGEgPSAoY2FsY3VsYXRlZENhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FsbENvdW50ID0gY2FsY3VsYXRlZENhbGxDb3VudDtcclxuICAgICAgICB0aGlzLmJhc2VVbml0cyA9IGJhc2VVbml0cztcclxuICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSB0aGlzLmJhc2VVbml0cyAqIHRoaXMuY2FsbENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrKHRoaXMuZ2FtZVN0YXRlLCB0aGlzLngsIHRoaXMueSwgdGhpcy5oLCB0aGlzLncsIHRoaXMuYmFzZVVuaXRzLCB0aGlzLmNhbGxDb3VudCwgdGhpcy5Db2xvciwgdGhpcy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5mb250ID0gXCIxNXB4IEFyaWFsXCI7XHJcbiAgICAgICAgbGV0IG9mZnNldFggPSAzMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxVbml0cyA+IDk5KSB7XHJcbiAgICAgICAgICAgIG9mZnNldFggPSAyNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG90YWxVbml0cyA8IDEwKSB7XHJcbiAgICAgICAgICAgIG9mZnNldFggPSAzNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsVGV4dCgodGhpcy50b3RhbFVuaXRzKS50b1N0cmluZygpLCB0aGlzLnggKyBvZmZzZXRYLCB0aGlzLnkgKyA0OCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3dCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICByZWFkb25seSB0eXBlOiBGbG93VHlwZXM7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgc2V0OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBGbG93VHlwZXMpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5VcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1VwQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuRG93bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0Rvd25BcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvUmlnaHRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1ldGhvZCBjYWxsZWQgaW4gU2V0VXBFdmVudExpc3RlbmVycy50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbW91c2VVcCgpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gZHJvcCBmbG93IGJsb2NrXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2sgJiYgYmxvY2suZmxvd1R5cGUgPT09IEZsb3dUeXBlcy5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLnggPCB0aGlzLnggKyB0aGlzLncgJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay54ICsgYmxvY2sudyA+IHRoaXMueCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPCB0aGlzLnkgKyB0aGlzLmggJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5oICsgYmxvY2sueSA+IHRoaXMueSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzbmFwIHRoaXMgZmxvdyBibG9jayB0byBlbXB0eSBHcmlkQmxvY2tcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSBibG9jay54O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSA9IGJsb2NrLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmZsb3dUeXBlID0gdGhpcy50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBjb25kaXRpb25hbCBwcm9wZXJ0aWVzIGhlcmUgaWYgY29uZGl0aW9uYWwgYmxvY2tcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBkZWxldGUgaWYgZHJvcHBpbmcgYmxvY2sgYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhbiBlbXB0eSBncmlkIGJsb2NrIHRvIGJlIHNldCBvblxyXG4gICAgICAgIGlmICghdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBkcmFnIGZsb3cgYmxvY2tcclxuICAgICAgICBpZiAodGhpcy5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5nYW1lU3RhdGUubW91c2VYIC0gdGhpcy53LzI7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWSAtIHRoaXMuaC8yO1xyXG4gICAgICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gQ09OU0lERVI6IEV4dGVuZGluZyBGbG93QmxvY2sgaGVyZVxyXG5leHBvcnQgY2xhc3MgRmxvd0Jsb2NrQnV0dG9uIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIHByb3RlY3RlZCBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdzogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICByZWFkb25seSB0eXBlOiBGbG93VHlwZXM7XHJcbiAgICByZWFkb25seSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IEZsb3dUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgc3dpdGNoKFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuVXA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9VcEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Eb3duQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuTGVmdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0xlZnRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5SaWdodDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1JpZ2h0QXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBuZXcgRmxvd0Jsb2NrKHRoaXMuZ2FtZVN0YXRlLCB0aGlzLngsIHRoaXMueSwgdGhpcy5oLCB0aGlzLncsIHRoaXMuQ29sb3IsIHRoaXMudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IENvbW1hbmRUeXBlcywgRmxvd1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbi8vIG1heWJlIGFkZCBzdXBwb3J0IGZvciB0aHJlYWQgc3RhcnRlcj9cclxuZXhwb3J0IGNsYXNzIFNsaWRlciB7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBzbmFwQW1vdW50OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBlcmNlbnRhZ2U6IG51bWJlcjtcclxuICAgIHB1YmxpYyB2YWx1ZTogbnVtYmVyO1xyXG4gICAgcHVibGljIHVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGN1bGF0ZWRDYWxsQ291bnQ6IG51bWJlciwgYmFzZVVuaXRzOiBudW1iZXIpID0+IHZvaWQgO1xyXG4gICAgcmVhZG9ubHkgbWF4VW5pdHM6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhc2VVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogQ29tbWFuZFR5cGVzIHwgRmxvd1R5cGVzO1xyXG4gICAgcHVibGljIHNsaWRlclg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBzbGlkZXJZOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBzbGlkZXJIOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBzbGlkZXJXOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBzbGlkZXJDb2xvcjogc3RyaW5nO1xyXG4gICAgcHVibGljIGJhclg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBiYXJZOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBiYXJIOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBiYXJXOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBiYXJDb2xvcjogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFggOm51bWJlciwgWTogbnVtYmVyLCBNYXhVbml0czogbnVtYmVyLCBUeXBlOiBDb21tYW5kVHlwZXMgfCBGbG93VHlwZXMsIFVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGN1bGF0ZWRDYWxsQ291bnQ6IG51bWJlciwgYmFzZVVuaXRzOiBudW1iZXIpID0+IHZvaWQsIFNuYXBBbW91bnQ6IG51bWJlciA9IDEwKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1heFVuaXRzID0gTWF4VW5pdHM7XHJcbiAgICAgICAgdGhpcy5zbmFwQW1vdW50ID0gU25hcEFtb3VudDtcclxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayA9IFVwZGF0ZURhdGFDYWxsQmFjaztcclxuICAgICAgICB0aGlzLmJhc2VVbml0cyA9IE1hdGgucm91bmQodGhpcy5tYXhVbml0cyAvIHRoaXMuc25hcEFtb3VudCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLmJhckggPSA3NTtcclxuICAgICAgICB0aGlzLmJhclcgPSAxMDtcclxuICAgICAgICB0aGlzLmJhclggPSBYO1xyXG4gICAgICAgIHRoaXMuYmFyWSA9IFk7XHJcbiAgICAgICAgdGhpcy5iYXJDb2xvciA9IFwidGhpc3RsZVwiO1xyXG4gICAgICAgIHRoaXMuc2xpZGVySCA9IDEwO1xyXG4gICAgICAgIHRoaXMuc2xpZGVyVyA9IDE1O1xyXG4gICAgICAgIHRoaXMuc2xpZGVyWCA9IFg7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJZID0gWSArIHRoaXMuYmFySC8yIC0gdGhpcy5zbGlkZXJILzI7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJDb2xvciA9IFwicHVycGxlXCI7XHJcbiAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gMSAtICh0aGlzLnNsaWRlclkgLSB0aGlzLmJhclkgKyB0aGlzLnNsaWRlckgvMikgLyB0aGlzLmJhckg7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IE1hdGgucm91bmQodGhpcy5wZXJjZW50YWdlICogdGhpcy5zbmFwQW1vdW50KSAvIHRoaXMuc25hcEFtb3VudDtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuc2xpZGVycy5wdXNoKHRoaXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgZGF0YVxyXG4gICAgICAgIGxldCBjYWxjdWxhdGVkQ2FsbENvdW50ID0gTWF0aC5yb3VuZCgodGhpcy52YWx1ZSAqIHRoaXMubWF4VW5pdHMpL3RoaXMuYmFzZVVuaXRzKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayhjYWxjdWxhdGVkQ2FsbENvdW50LCB0aGlzLmJhc2VVbml0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhclkgLSB0aGlzLnNsaWRlckgvMiA8IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJZICsgdGhpcy5iYXJIIC0gdGhpcy5zbGlkZXJILzIgPiB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBTbGlkZXJZID0gdGhpcy5nYW1lU3RhdGUubW91c2VZO1xyXG4gICAgICAgICAgICAgICAgLy8gZmluZCBwZXJjZW50YWdlIHNsaWRlciBpcyB1cCB2ZXJ0aWNhbCBvbiBiYXJcclxuICAgICAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IDEgLSAodGVtcFNsaWRlclkgLSB0aGlzLmJhclkgKyB0aGlzLnNsaWRlckgvMikgLyB0aGlzLmJhckg7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIHRvIGJlIHRoZSByb3VuZGVkIHBlcmNlbnRhZ2UgYmFzZWQgb24gc25hcCBhbW91bnRcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBNYXRoLnJvdW5kKHRoaXMucGVyY2VudGFnZSAqIHRoaXMuc25hcEFtb3VudCkgLyB0aGlzLnNuYXBBbW91bnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgc2xpZGVyWSB2YWx1ZSBiYXNlZCBvbiBuZXcgdmFsdWUgZnJvbSB0aGUgcm91bmRlZCBwZXJjYW50YWdlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlclkgPSB0aGlzLmJhckggKyB0aGlzLmJhclkgLSAodGhpcy5zbGlkZXJILzIpIC0gKHRoaXMudmFsdWUgKiB0aGlzLmJhckgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjYWxjdWxhdGVkQ2FsbENvdW50ID0gTWF0aC5yb3VuZCgodGhpcy52YWx1ZSAqIHRoaXMubWF4VW5pdHMpL3RoaXMuYmFzZVVuaXRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayhjYWxjdWxhdGVkQ2FsbENvdW50LCB0aGlzLmJhc2VVbml0cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYXcgYmFyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuYmFyWCwgdGhpcy5iYXJZLCB0aGlzLmJhclcsIHRoaXMuYmFySCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgc2xpZGVyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2xpZGVyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuc2xpZGVyWCAtIHRoaXMuc2xpZGVySC80LCB0aGlzLnNsaWRlclksIHRoaXMuc2xpZGVyVywgdGhpcy5zbGlkZXJIKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZnVuY3Rpb24gbW92ZUNhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGlmIChibG9jay5jdXJyZW50Q2FsbENvdW50ID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibW92ZVwiKTtcclxuICAgICAgICBibG9jay5jdXJyZW50Q2FsbENvdW50LS07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuZ2xlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgaWYgKGJsb2NrLmN1cnJlbnRDYWxsQ291bnQgPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhbmdsZVwiKTtcclxuICAgICAgICBibG9jay5jdXJyZW50Q2FsbENvdW50LS07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHdpbGwgb25seSBoYXZlIGZpbmROZXh0RXhlY3V0aW9uIGJpdFxyXG4vLyB3b24ndCBkbyBhbnl0aGluZyBleGNlcHQgY29udGludWUgZXhlY3V0aW9uIGlmIHBsYXllcnMgdXNlIGl0IGxpa2UgYSBub3JtYWwgY29tbWFuZCBibG9ja1xyXG5mdW5jdGlvbiBzdGFydENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XHJcbiAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE5ld1RocmVhZENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHRocmVhZDogbnVtYmVyKSB7XHJcbiAgICAvLyBsb2NhdGUgdGhyZWFkXHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2suY29tbWFuZERhdGEudHlwZSA9PT0gQ29tbWFuZFR5cGVzLlN0YXJ0IC8vJiYgdGhyZWFkTnVtYmVyID09PSB0aHJlYWRcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93VHlwZXMuRW1wdHkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHRocmVhZFxyXG4gICAgICAgICAgICAgICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmROZXh0Q2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgcHJldkJsb2NrOiBHcmlkQmxvY2spIDogdm9pZCB7XHJcbiAgICBsZXQgdGFyZ2V0Um93OiBudW1iZXI7XHJcbiAgICBsZXQgdGFyZ2V0Q29sOiBudW1iZXI7XHJcbiAgICAvLyByZXNldCBjYWxsIGNvdW50XHJcbiAgICBwcmV2QmxvY2suY3VycmVudENhbGxDb3VudCA9IHByZXZCbG9jay5jb21tYW5kRGF0YS5jYWxsQ291bnQ7XHJcbiAgICAvLyBUT0RPOiBhZGQgY29uZGl0aW9uYWxzXHJcbiAgICAvLyB0aGlzIHdpbGwgd29yayB3ZWxsIGhlcmUgc2luY2UgZWFjaCBjYWxsIGZpbmRzIHRoZSBuZXh0IGNhbGxcclxuICAgIC8vIGFmdGVyIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXHJcbiAgICBzd2l0Y2gocHJldkJsb2NrLmZsb3dUeXBlKSB7XHJcbiAgICAgICAgY2FzZSBGbG93VHlwZXMuVXA6XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yIC0gMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gcHJldkJsb2NrLmM7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yICsgMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gcHJldkJsb2NrLmM7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYyArIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEZsb3dUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYyAtIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2suciA9PT0gdGFyZ2V0Um93ICYmIGJsb2NrLmMgPT09IHRhcmdldENvbFxyXG4gICAgICAgICAgICAgICAgJiYgYmxvY2suY29tbWFuZERhdGEudHlwZSAhPT0gQ29tbWFuZFR5cGVzLkVtcHR5XHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5mbG93VHlwZSAhPT0gRmxvd1R5cGVzLkVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goYmxvY2suY29tbWFuZERhdGEudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gYW5nbGVDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gbW92ZUNhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gc3RhcnRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vZGVjbGFyYXRpb25zL2pzb24uZC50c1wiIC8+XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgbGV2ZWwxIGZyb20gJy4uL2RhdGEvbGV2ZWxzL2xldmVsMS5qc29uJztcclxuaW1wb3J0IHsgR2VuZXJhdGVMZXZlbCB9IGZyb20gXCIuL0dlbmVyYXRlTGV2ZWxcIjtcclxuaW1wb3J0IHsgU2V0VXBFdmVudExpc3RlbmVycyB9IGZyb20gXCIuL1NldFVwRXZlbnRMaXN0ZW5lcnNcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrIH0gZnJvbSBcIi4vRmxvd0Jsb2NrXCI7XHJcblxyXG4vLyBUT0RPOiBhZGQgc3BlY2lhbCB1bml0IGxvZ2ljIGZvciBzdGFydCBibG9jayAvIHRocmVhZCBibG9ja3Mgc2luY2UgdGhleSBkb24ndCBmb2xsb3cgc2FtZSBydWxlc1xyXG4vLyAtPiBpLmUuIHdpbGwgbmVlZCB0byBkbyBhIHN3aXRjaCBvbiB0eXBlIHdoZW4gdXBkYXRpbmcgdW5pdCB2YWx1ZXMgd2l0aGluIGNvbW1hbmQgYmxvY2sgYnV0dG9ucyB1cGRhdGUgbWV0aG9kXHJcbi8vIFRPRE86IGFkZCBiaWcgeWVsbG93IGJsb2NrIHRoYXQgcmVuZGVycyBiZWhpbmQgZ3JpZCBibG9ja3MgdG8gaW5kaWNhdGUgd2hpY2ggYmxvY2sgaXMgY3VycmVudGx5IGJlaW5nIGV4ZWN1dGVkXHJcbi8vIFRPRE86IGhhdmUgRmxvd0Jsb2NrQnV0dG9uIGFuZCBDb21tYW5kQmxvY2tCdXR0b25zIGV4dGVuZCBmcm9tIHRoZWlyIHJlc3BlY3RpdmUgYmxvY2tzXHJcbi8vIFRPRE86IHB1c2ggbW9zdCByZWNlbnRseSBjbGlja2VkIGNvbW1hbmQgLyBmbG93IGJsb2NrIHRvIHRvcCBvZiBibG9jayBhcnJheSB0byByZW5kZXIgaXQgb24gdG9wIG9mIGV2ZXJ5dGhpbmcgZWxzZVxyXG4vLyBUT0RPOiBzd2l0Y2ggc3BhY2ViYXIgY29udHJvbCBidXR0b24gdG8gY2xpY2thYmxlIHJhZGlvIGJ1dHRvblxyXG4vLyBUT0RPOiBhZGQgYmFzZSBVSSBjbGFzcyAvIHN3aXRjaCBzbGlkZXJbXSB0byBiYXNlVUlFbGVtZW50W10gaW4gR2FtZVN0YXRlXHJcbi8vIFRPRE86IGFkZCBleGVjdXRlIHByb2dyYW0gLyBzdG9wIHByb2dyYW0gYnV0dG9uc1xyXG4vLyBUT0RPOiBhZGQgbWFuaWZvbGQgY29sbGlzaW9uIHN5c3RlbSBmb3IgZ3JpZGJsb2NrIGNvbGxpc2lvbiB3aXRoIGZsb3cgYW5kIGNvbW1hbmQgYmxvY2tzLlxyXG4vLyAtPiBpLmUuIHNuYXAgY29tbWFuZCBibG9jayB0byBncmlkIGJsb2NrIHRoYXQgaGFzIHRoZSBiaWdnZXN0IG1hbmlmb2xkXHJcblxyXG4vLyBzZXQgdXAgZ2FtZSBzdGF0ZVxyXG52YXIgZ2FtZVN0YXRlID0gbmV3IEdhbWVTdGF0ZSgpO1xyXG5HZW5lcmF0ZUxldmVsKGdhbWVTdGF0ZSwgbGV2ZWwxLCBcImxpZ2h0Ymx1ZVwiKTtcclxuU2V0VXBFdmVudExpc3RlbmVycyhnYW1lU3RhdGUpO1xyXG5cclxuZnVuY3Rpb24gZHJhdygpIDogdm9pZCB7XHJcbiAgICBnYW1lU3RhdGUuY3R4LmNsZWFyUmVjdCgwLCAwLCBnYW1lU3RhdGUuY2FudmFzLndpZHRoLCBnYW1lU3RhdGUuY2FudmFzLmhlaWdodCk7XHJcbiAgICBnYW1lU3RhdGUuY3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgIC8vIHJlbmRlciBVSSBlbGVtZW50c1xyXG4gICAgZ2FtZVN0YXRlLnNsaWRlcnMuZm9yRWFjaChzbGlkZXIgPT4ge1xyXG4gICAgICAgIHNsaWRlci5kcmF3KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIG5vbi1mbG93IGJsb2NrcyBmaXJzdFxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoIShibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykpIHtcclxuICAgICAgICAgICAgYmxvY2suZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHJlbmRlciBhbGwgZmxvdyBibG9ja3MgbGFzdCB0byBsYXllciB0aGVtIG9uIHRvcCBvZiBjb21tYW5kIGJsb2Nrc1xyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgYmxvY2suZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jdHguc3Ryb2tlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGJsb2NrLnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZ2FtZVN0YXRlLnNsaWRlcnMuZm9yRWFjaChzbGlkZXIgPT4ge1xyXG4gICAgICAgIHNsaWRlci51cGRhdGUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5zZXRJbnRlcnZhbChmdW5jdGlvbigpIDogdm9pZCB7XHJcbiAgICB1cGRhdGUoKTtcclxuICAgIGRyYXcoKTtcclxuXHJcbiAgICBjb25zdCBjYWxsU3RhY2sgPSBnYW1lU3RhdGUubmV4dFN0YWNrO1xyXG4gICAgZ2FtZVN0YXRlLm5leHRTdGFjayA9IFtdO1xyXG5cclxuICAgIGlmIChjYWxsU3RhY2subGVuZ3RoID4gMCAmJiBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcpIHtcclxuICAgICAgICBjYWxsU3RhY2suZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIC8vIHdpbGwgY2FsbCBjb21tYW5kIGFuZCBwdXNoIGl0IGJhY2sgb24gc3RhY2tcclxuICAgICAgICAgICAgaWYgKGJsb2NrLmN1cnJlbnRDYWxsQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBibG9jay5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVsc2UganVzdCBjYWxsIG9uY2UgYW5kIGZpbmQgbmV4dCBjYWxsXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmxvY2suY2FsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxufSwgMTIpOyIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrQnV0dG9uIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMsIEZsb3dUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuL1NsaWRlclwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdlbmVyYXRlTGV2ZWwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGxldmVsT2JqOiBvYmplY3QsIHBhbGV0dGVDb2xvcjogc3RyaW5nKSB7XHJcbiAgICBsZXQgeU9mZnNldDogbnVtYmVyID0gNTtcclxuICAgIGxldCB4T2Zmc2V0OiBudW1iZXIgPSA1O1xyXG4gICAgbGV0IG1heFhPZmZzZXQ6IG51bWJlciA9IDA7XHJcbiAgICBsZXQgbWF4WU9mZnNldDogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvLyBzZXQgdXAgZ3JpZCBmb3IgQ29tbWFuZCBQYWxldHRlXHJcbiAgICAvLyBhc3NpZ24gcm93IGFuZCBjb2x1bW4gdmFsdWVzIHRvIGdyaWQgYmxvY2tzXHJcbiAgICBmb3IgKHZhciByID0gMDsgciA8IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfaGVpZ2h0XCJdOyByKyspIHtcclxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfd2lkdGhcIl07IGMrKykge1xyXG4gICAgICAgICAgICBuZXcgR3JpZEJsb2NrKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCByLCBjLCBwYWxldHRlQ29sb3IpO1xyXG4gICAgICAgICAgICB4T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIG1heFhPZmZzZXQgPSB4T2Zmc2V0O1xyXG4gICAgICAgIHhPZmZzZXQgPSA1O1xyXG4gICAgfVxyXG5cclxuICAgIG1heFlPZmZzZXQgPSB5T2Zmc2V0O1xyXG4gICAgeU9mZnNldCA9IG1heFlPZmZzZXQgKyAyMDtcclxuXHJcbiAgICAvLyBzZXQgdXAgQ29tbWFuZCBCbG9jayBCdXR0b25zXHJcbiAgICAvLyBDT05TSURFUjogQWNjb21tb2RhdGluZyBmb3IgY29tbWFuZCBwYWxldHRlIHdpZHRoXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl0ubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgc3dpdGNoKGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl1baV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZFR5cGVzLlN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmVCbG9jayA9IG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kVHlwZXMuTW92ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdXAgc2xpZGVyLCBwYXNzIGluIHJlZmVyZW5jZSB0byBtb3ZlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBuZXcgU2xpZGVyKGdhbWVTdGF0ZSwgeE9mZnNldCArIDIwLCB5T2Zmc2V0ICsgNjAsIDEwMCwgQ29tbWFuZFR5cGVzLk1vdmUsIG1vdmVCbG9jay51cGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYW5nbGVcIjpcclxuICAgICAgICAgICAgICAgIGxldCBhbmdsZUJsb2NrID0gbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRUeXBlcy5BbmdsZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdXAgc2xpZGVyLCBwYXNzIGluIHJlZmVyZW5jZSB0byBhbmdsZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgbmV3IFNsaWRlcihnYW1lU3RhdGUsIHhPZmZzZXQgKyAyMCwgeU9mZnNldCArIDYwLCAzNjAsIENvbW1hbmRUeXBlcy5BbmdsZSwgYW5nbGVCbG9jay51cGRhdGVEYXRhLCA4KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidGhyZWFkXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZFR5cGVzLlRocmVhZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxhc2VyXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcImdyZWVuXCIsIENvbW1hbmRUeXBlcy5MYXNlcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNjYW5cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwiZGFya2JsdWVcIiwgQ29tbWFuZFR5cGVzLlNjYW4pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJncmFwcGxlXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcIm1hcm9vblwiLCBDb21tYW5kVHlwZXMuR3JhcHBsZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgeE9mZnNldCArPSA1NTtcclxuICAgIH1cclxuXHJcbiAgICB4T2Zmc2V0ID0gbWF4WE9mZnNldCArIDIwO1xyXG4gICAgeU9mZnNldCA9IDU7XHJcblxyXG4gICAgLy8gc2V0IHVwIEZsb3cgQmxvY2sgQnV0dG9uc1xyXG4gICAgLy8gQ09OU0lERVI6IEFjY29tbW9kYXRpbmcgZm9yIGNvbW1hbmQgcGFsZXR0ZSBoZWlnaHRcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXS5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBzd2l0Y2gobGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXVtpXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidXBcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5VcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5MZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5SaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5Eb3duKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9jaywgQ29tbWFuZEJsb2NrQnV0dG9uIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2ssIEZsb3dCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMsIEZsb3dUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcbmltcG9ydCB7IHN0YXJ0TmV3VGhyZWFkQ2FsbCB9IGZyb20gXCIuL1Byb2dyYW1FeGVjdXRpb25cIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRVcEV2ZW50TGlzdGVuZXJzKGdhbWVTdGF0ZTogR2FtZVN0YXRlKSB7XHJcbiAgICBnYW1lU3RhdGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBDb2xsaXNpb24gZGV0ZWN0aW9uIGJldHdlZW4gY2xpY2tlZCBvZmZzZXQgYW5kIGJsb2NrLlxyXG4gICAgICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gYmxvY2sueSAmJiBnYW1lU3RhdGUubW91c2VZIDwgYmxvY2sueSArIGJsb2NrLmhcclxuICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBibG9jay54ICYmIGdhbWVTdGF0ZS5tb3VzZVggPCBibG9jay54ICsgYmxvY2sudykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHJhZGlvIGJ1dHRvbiBmb3IgZmxvdyBvciBjb21tYW5kIGNvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNvbW1hbmREYXRhLnR5cGUgPSBDb21tYW5kVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5mbG93VHlwZSA9IEZsb3dUeXBlcy5FbXB0eTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIHNsaWRlcnMgYmVpbmcgY2xpY2tlZFxyXG4gICAgICAgIGdhbWVTdGF0ZS5zbGlkZXJzLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gcy5zbGlkZXJZICYmIGdhbWVTdGF0ZS5tb3VzZVkgPCBzLnNsaWRlclkgKyBzLnNsaWRlckhcclxuICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBzLnNsaWRlclggJiYgZ2FtZVN0YXRlLm1vdXNlWCA8IHMuc2xpZGVyWCArIHMuc2xpZGVyVykge1xyXG4gICAgICAgICAgICAgICAgcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIC8vIG1ha2Ugc3VyZSBhbGwgY2xpY2thYmxlIGVudGl0aWVzIGFyZW4ndCBjbGlja2FibGUgb24gbW91c2V1cFxyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5tb3VzZVVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZ2FtZVN0YXRlLnNsaWRlcnMuZm9yRWFjaChzID0+IHtcclxuICAgICAgICAgICAgcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICBnYW1lU3RhdGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uKGV2dDogTW91c2VFdmVudCkgOiB2b2lkIHtcclxuICAgICAgICBnYW1lU3RhdGUubW91c2VYID0gKGV2dC5jbGllbnRYIC0gZ2FtZVN0YXRlLnJlY3QubGVmdCkgLyAoZ2FtZVN0YXRlLnJlY3QucmlnaHQgLSBnYW1lU3RhdGUucmVjdC5sZWZ0KSAqIGdhbWVTdGF0ZS5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgZ2FtZVN0YXRlLm1vdXNlWSA9IChldnQuY2xpZW50WSAtIGdhbWVTdGF0ZS5yZWN0LnRvcCkgLyAoZ2FtZVN0YXRlLnJlY3QuYm90dG9tIC0gZ2FtZVN0YXRlLnJlY3QudG9wKSAqIGdhbWVTdGF0ZS5jYW52YXMuaGVpZ2h0O1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIHdpbmRvdy5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIC8vIGkuZS4gU3BhY2VCYXIgcHJlc3NlZFxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDMyKSB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUuZmxvd0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5mbG93Q29udHJvbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tbWFuZCBDb250cm9sIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmZsb3dDb250cm9sID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmxvdyBDb250cm9sIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaS5lLiBTIGtleSBwcmVzc2VkXHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gODMpIHtcclxuICAgICAgICAgICAgaWYgKCFnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHByb2dyYW1cclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzdGFydE5ld1RocmVhZENhbGwoZ2FtZVN0YXRlLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0b3AgcHJvZ3JhbTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjayA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==