!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle"],flow_blocks:["up","down","left","right"]}},function(t,e,n){"use strict";n.r(e);var o,a,s=function(){return function(t){this.canvas=t&&t.canvas||document.getElementById("gameScreen"),this.ctx=t&&t.ctx||this.canvas.getContext("2d"),this.rect=t&&t.rect||this.canvas.getBoundingClientRect(),this.blocks=t&&t.blocks||[],this.sliders=t&&t.sliders||[],this.mouseX=t&&t.mouseX||0,this.mouseY=t&&t.mouseY||0,this.commandControl=t&&t.commandControl||!0,this.flowControl=t&&t.flowControl||!1,this.nextStack=t&&t.nextStack||[],this.programRunning=t&&t.programRunning||!1}}(),i=n(0),r=function(){function t(t,e,n,o,a,s){this.GameState=t,this.X=e,this.Y=n,this.H=o,this.W=a,this.Color=s,this.gameState=t,this.x=e,this.y=n,this.h=o,this.w=a,this.color=s}return t.prototype.draw=function(){},t.prototype.update=function(){},t}();!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Thread=4]="Thread",t[t.Scan=5]="Scan",t[t.Laser=6]="Laser",t[t.Grapple=7]="Grapple"}(o||(o={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(a||(a={}));var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(e,n,a,s,i,r,c,l,h){var u=t.call(this,e,n,a,s,i,l)||this;switch(u.units=r,u.callCount=c,u.totalUnits=u.units*u.callCount,u.mouseDown=!0,u.set=!1,u.type=h,u.image=new Image,h){case o.Start:u.image.src="data/textures/StartBlock.png";break;case o.Move:u.image.src="data/textures/MoveBlock.png";break;case o.Angle:u.image.src="data/textures/AngleBlock.png";break;case o.Thread:u.image.src="data/textures/ThreadBlock.png"}return u.gameState.blocks.push(u),u}return c(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},e}(r),h=function(t){function e(e,n,a,s,i,r,c){var l=t.call(this,e,n,a,s,i,r)||this;switch(l.mouseDown=!1,l.type=c,l.image=new Image,l.units=0,l.callCount=0,l.totalUnits=0,c){case o.Start:l.image.src="data/textures/StartBlock.png";break;case o.Move:l.image.src="data/textures/MoveBlock.png";break;case o.Angle:l.image.src="data/textures/AngleBlock.png";break;case o.Thread:l.image.src="data/textures/ThreadBlock.png"}return l.gameState.blocks.push(l),l}return c(e,t),e.prototype.update=function(){var t=this;this.gameState.sliders.forEach(function(e){e.type===t.type&&(t.callCount=Math.round(e.value*e.maxUnits/e.baseUnits),t.units=e.baseUnits,t.totalUnits=t.units*t.callCount)}),this.mouseDown&&(this.mouseDown=!1,new l(this.gameState,this.x,this.y,this.h,this.w,this.units,this.callCount,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},e}(r),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(t){function e(e,n,o,s,i,r,c){var l=t.call(this,e,n,o,s,i,r)||this;switch(l.gameState=e,l.type=c,l.mouseDown=!0,l.set=!1,l.image=new Image,c){case a.Up:l.image.src="data/textures/UpArrow.png";break;case a.Down:l.image.src="data/textures/DownArrow.png";break;case a.Left:l.image.src="data/textures/LeftArrow.png";break;case a.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return u(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),f=function(t){function e(e,n,o,s,i,r,c){var l=t.call(this,e,n,o,s,i,r)||this;switch(l.type=c,l.mouseDown=!1,l.image=new Image,c){case a.Up:l.image.src="data/textures/UpArrow.png";break;case a.Down:l.image.src="data/textures/DownArrow.png";break;case a.Left:l.image.src="data/textures/LeftArrow.png";break;case a.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return u(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new m(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(t){function e(e,n,s,i,r,c,l,h){var u=t.call(this,e,n,s,i,r,h)||this;return u.r=c,u.c=l,u.commandType=o.Empty,u.flowType=a.Empty,u.gameState.blocks.push(u),u}return p(e,t),e.prototype.update=function(){var t=this;this.gameState.blocks.forEach(function(e){(e instanceof l||e instanceof m)&&!1===e.mouseDown&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.commandType===o.Empty&&e instanceof l?(e.x=t.x,e.y=t.y,e.set=!0,t.commandType=e.type,t.units=e.units,t.callCount=e.callCount,t.currentCallCount=e.callCount):t.flowType===a.Empty&&e instanceof m&&(e.x=t.x,e.y=t.y,e.set=!0,t.flowType=e.type))})},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},e}(r);function d(t,e){var n,s;switch(e.currentCallCount=e.callCount,e.flowType){case a.Up:n=e.r-1,s=e.c;break;case a.Down:n=e.r+1,s=e.c;break;case a.Right:s=e.c+1,n=e.r;break;case a.Left:s=e.c-1,n=e.r}t.blocks.forEach(function(e){if(e instanceof g&&e.r===n&&e.c===s&&e.commandType!==o.Empty&&e.flowType!==a.Empty)switch(e.commandType){case o.Angle:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("angle"),e.currentCallCount--):d(t,e)}(t,e)},t.nextStack.push(e);break;case o.Move:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("move"),e.currentCallCount--):d(t,e)}(t,e)},t.nextStack.push(e);break;case o.Start:e.call=function(){return function(t,e){console.log("start"),d(t,e)}(t,e)},t.nextStack.push(e)}})}var w=function(){function t(t,e,n,o,a,s){void 0===s&&(s=10),this.gameState=t,this.mouseDown=!1,this.maxUnits=o,this.snapAmount=s,this.baseUnits=Math.round(this.maxUnits/this.snapAmount),this.type=a,this.barH=75,this.barW=10,this.barX=e,this.barY=n,this.barColor="thistle",this.sliderH=10,this.sliderW=15,this.sliderX=e,this.sliderY=n+this.barH/2-this.sliderH/2,this.sliderColor="purple",this.percentage=1-(this.sliderY-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount}return t.prototype.update=function(){if(this.mouseDown&&this.barY-this.sliderH/2<this.gameState.mouseY&&this.barY+this.barH-this.sliderH/2>this.gameState.mouseY){var t=this.gameState.mouseY;this.percentage=1-(t-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.sliderY=this.barH+this.barY-this.sliderH/2-this.value*this.barH}},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.barColor,this.gameState.ctx.fillRect(this.barX,this.barY,this.barW,this.barH),this.gameState.ctx.fillStyle=this.sliderColor,this.gameState.ctx.fillRect(this.sliderX-this.sliderH/4,this.sliderY,this.sliderW,this.sliderH)},t}(),y=new s;!function(t,e,n){for(var s=5,i=5,r=0,c=0;c<e.command_palette.block_height;c++){for(var l=0;l<e.command_palette.block_width;l++)new g(t,i,s,50,50,c,l,n),i+=55;s+=55,r=i,i=5}s+=20;for(var u=0;u<e.command_blocks.length;u++){switch(e.command_blocks[u]){case"start":new h(t,i,s,50,50,"thistle",o.Start);break;case"move":new h(t,i,s,50,50,"thistle",o.Move);break;case"angle":new h(t,i,s,50,50,"thistle",o.Angle);break;case"thread":new h(t,i,s,50,50,"thistle",o.Thread);break;case"laser":new h(t,i,s,50,50,"green",o.Laser);break;case"scan":new h(t,i,s,50,50,"darkblue",o.Scan);break;case"grapple":new h(t,i,s,50,50,"maroon",o.Grapple)}i+=55}for(i=r+20,s=5,u=0;u<e.flow_blocks.length;u++){switch(e.flow_blocks[u]){case"up":new f(t,i,s,50,50,"yellow",a.Up);break;case"left":new f(t,i,s,50,50,"yellow",a.Left);break;case"right":new f(t,i,s,50,50,"yellow",a.Right);break;case"down":new f(t,i,s,50,50,"yellow",a.Down)}s+=55}}(y,i,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof l&&t.commandControl||e instanceof h&&t.commandControl||e instanceof m&&t.flowControl||e instanceof f&&t.flowControl?e.mouseDown=!0:e instanceof g&&(t.commandControl?e.commandType=o.Empty:t.flowControl&&(e.flowType=a.Empty)))}),t.sliders.forEach(function(e){t.mouseY>e.sliderY&&t.mouseY<e.sliderY+e.sliderH&&t.mouseX>e.sliderX&&t.mouseX<e.sliderX+e.sliderW&&(e.mouseDown=!0)})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof l||t instanceof m)&&t.mouseDown&&(t.mouseDown=!1)}),t.sliders.forEach(function(t){t.mouseDown=!1})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning||(t.programRunning=!0,function(t,e){t.blocks.forEach(function(e){e instanceof g&&e.commandType===o.Start&&e.flowType!==a.Empty&&d(t,e)})}(t)))}}(y),y.sliders.push(new w(y,80,365,100,o.Move)),y.sliders.push(new w(y,130,365,360,o.Angle,8)),setInterval(function(){y.blocks.forEach(function(t){t.update()}),y.sliders.forEach(function(t){t.update()}),y.ctx.clearRect(0,0,y.canvas.width,y.canvas.height),y.ctx.beginPath(),y.sliders.forEach(function(t){t.draw()}),y.blocks.forEach(function(t){t instanceof m||t.draw()}),y.blocks.forEach(function(t){t instanceof m&&t.draw()}),y.ctx.stroke();var t=y.nextStack;y.nextStack=[],t.length>0?t.forEach(function(t){t.currentCallCount>0?(t.call(),y.nextStack.push(t)):t.call()}):y.programRunning=!1},12)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Jhc2VCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbWFuZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9GbG93QmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyaWRCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUHJvZ3JhbUV4ZWN1dGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9HZW5lcmF0ZUxldmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9TZXRVcEV2ZW50TGlzdGVuZXJzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tbWFuZEJsb2NrVHlwZXMiLCJGbG93QmxvY2tUeXBlcyIsIkdhbWVTdGF0ZV9HYW1lU3RhdGUiLCJvYmoiLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmxvY2tzIiwic2xpZGVycyIsIm1vdXNlWCIsIm1vdXNlWSIsImNvbW1hbmRDb250cm9sIiwiZmxvd0NvbnRyb2wiLCJuZXh0U3RhY2siLCJwcm9ncmFtUnVubmluZyIsIkJhc2VCbG9jayIsIkdhbWVTdGF0ZSIsIlgiLCJZIiwiSCIsIlciLCJDb2xvciIsImdhbWVTdGF0ZSIsIngiLCJ5IiwiaCIsInciLCJjb2xvciIsImRyYXciLCJ1cGRhdGUiLCJDb21tYW5kQmxvY2tfQ29tbWFuZEJsb2NrIiwiX3N1cGVyIiwiQ29tbWFuZEJsb2NrIiwiVW5pdHMiLCJDYWxsQ291bnQiLCJUeXBlIiwiX3RoaXMiLCJ1bml0cyIsImNhbGxDb3VudCIsInRvdGFsVW5pdHMiLCJtb3VzZURvd24iLCJzZXQiLCJ0eXBlIiwiaW1hZ2UiLCJJbWFnZSIsIlN0YXJ0Iiwic3JjIiwiTW92ZSIsIkFuZ2xlIiwiVGhyZWFkIiwicHVzaCIsIl9fZXh0ZW5kcyIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwidHJhbnNsYXRlIiwiZHJhd0ltYWdlIiwiZm9udCIsIm9mZnNldFgiLCJmaWxsVGV4dCIsInRvU3RyaW5nIiwiQ29tbWFuZEJsb2NrX0NvbW1hbmRCbG9ja0J1dHRvbiIsIkNvbW1hbmRCbG9ja0J1dHRvbiIsImZvckVhY2giLCJzbGlkZXIiLCJNYXRoIiwicm91bmQiLCJtYXhVbml0cyIsImJhc2VVbml0cyIsIkZsb3dCbG9ja19GbG93QmxvY2siLCJGbG93QmxvY2siLCJVcCIsIkRvd24iLCJMZWZ0IiwiUmlnaHQiLCJGbG93QmxvY2tfZXh0ZW5kcyIsInN0cm9rZVN0eWxlIiwiRmxvd0Jsb2NrX0Zsb3dCbG9ja0J1dHRvbiIsIkZsb3dCbG9ja0J1dHRvbiIsIkdyaWRCbG9ja19HcmlkQmxvY2siLCJHcmlkQmxvY2siLCJSb3ciLCJDb2x1bW4iLCJjb21tYW5kVHlwZSIsIkVtcHR5IiwiZmxvd1R5cGUiLCJHcmlkQmxvY2tfZXh0ZW5kcyIsImJsb2NrIiwiY3VycmVudENhbGxDb3VudCIsImZpbmROZXh0Q2FsbCIsInByZXZCbG9jayIsInRhcmdldFJvdyIsInRhcmdldENvbCIsImNvbnNvbGUiLCJsb2ciLCJhbmdsZUNhbGwiLCJtb3ZlQ2FsbCIsInN0YXJ0Q2FsbCIsIlNsaWRlciIsIk1heFVuaXRzIiwiU25hcEFtb3VudCIsInNuYXBBbW91bnQiLCJiYXJIIiwiYmFyVyIsImJhclgiLCJiYXJZIiwiYmFyQ29sb3IiLCJzbGlkZXJIIiwic2xpZGVyVyIsInNsaWRlclgiLCJzbGlkZXJZIiwic2xpZGVyQ29sb3IiLCJwZXJjZW50YWdlIiwidGVtcFNsaWRlclkiLCJtYWluX2dhbWVTdGF0ZSIsImxldmVsT2JqIiwicGFsZXR0ZUNvbG9yIiwieU9mZnNldCIsInhPZmZzZXQiLCJtYXhYT2Zmc2V0IiwibGVuZ3RoIiwiTGFzZXIiLCJTY2FuIiwiR3JhcHBsZSIsIkdlbmVyYXRlTGV2ZWwiLCJsZXZlbDEiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xpZW50WCIsImxlZnQiLCJyaWdodCIsIndpZHRoIiwiY2xpZW50WSIsInRvcCIsImJvdHRvbSIsImhlaWdodCIsIndpbmRvdyIsIm9ua2V5dXAiLCJlIiwia2V5Q29kZSIsInRocmVhZCIsInN0YXJ0TmV3VGhyZWFkQ2FsbCIsIlNldFVwRXZlbnRMaXN0ZW5lcnMiLCJzZXRJbnRlcnZhbCIsImNsZWFyUmVjdCIsImJlZ2luUGF0aCIsInN0cm9rZSIsImNhbGxTdGFjayJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFB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biBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4vU2xpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIHtcclxuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0O1xyXG4gICAgYmxvY2tzOiBCYXNlQmxvY2tbXTtcclxuICAgIHNsaWRlcnM6IFNsaWRlcltdO1xyXG4gICAgbW91c2VYOiBudW1iZXI7XHJcbiAgICBtb3VzZVk6IG51bWJlcjtcclxuICAgIGNvbW1hbmRDb250cm9sOiBib29sZWFuO1xyXG4gICAgZmxvd0NvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBuZXh0U3RhY2s6IEdyaWRCbG9ja1tdO1xyXG4gICAgcHJvZ3JhbVJ1bm5pbmc6IGJvb2xlYW47XHJcbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBJR2FtZVN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBvYmogJiYgb2JqLmNhbnZhcyB8fCA8SFRNTENhbnZhc0VsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVNjcmVlblwiKTtcclxuICAgICAgICB0aGlzLmN0eCA9IG9iaiAmJiBvYmouY3R4IHx8IDxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ+IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLnJlY3QgPSBvYmogJiYgb2JqLnJlY3QgfHwgPENsaWVudFJlY3QgfCBET01SZWN0PiB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB0aGlzLmJsb2NrcyA9IG9iaiAmJiBvYmouYmxvY2tzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuc2xpZGVycyA9IG9iaiAmJiBvYmouc2xpZGVycyB8fCBbXTtcclxuICAgICAgICB0aGlzLm1vdXNlWCA9IG9iaiAmJiBvYmoubW91c2VYIHx8IDA7XHJcbiAgICAgICAgdGhpcy5tb3VzZVkgPSBvYmogJiYgb2JqLm1vdXNlWSB8fCAwO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZENvbnRyb2wgPSBvYmogJiYgb2JqLmNvbW1hbmRDb250cm9sIHx8IHRydWU7XHJcbiAgICAgICAgdGhpcy5mbG93Q29udHJvbCA9IG9iaiAmJiBvYmouZmxvd0NvbnRyb2wgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5uZXh0U3RhY2sgPSBvYmogJiYgb2JqLm5leHRTdGFjayB8fCBbXTtcclxuICAgICAgICB0aGlzLnByb2dyYW1SdW5uaW5nID0gb2JqICYmIG9iai5wcm9ncmFtUnVubmluZyB8fCBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJR2FtZVN0YXRlIHtcclxuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0O1xyXG4gICAgYmxvY2tzOiBCYXNlQmxvY2tbXTtcclxuICAgIHNsaWRlcnM6IFNsaWRlcltdO1xyXG4gICAgbW91c2VYOiBudW1iZXI7XHJcbiAgICBtb3VzZVk6IG51bWJlcjtcclxuICAgIGNvbW1hbmRDb250cm9sOiBib29sZWFuO1xyXG4gICAgZmxvd0NvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBuZXh0U3RhY2s6IGFueVtdO1xyXG4gICAgcHJvZ3JhbVJ1bm5pbmc6IGJvb2xlYW47XHJcbn0iLCJleHBvcnQgZW51bSBDb21tYW5kQmxvY2tUeXBlcyB7XHJcbiAgICBFbXB0eSxcclxuICAgIFN0YXJ0LFxyXG4gICAgTW92ZSxcclxuICAgIEFuZ2xlLFxyXG4gICAgVGhyZWFkLFxyXG4gICAgU2NhbixcclxuICAgIExhc2VyLFxyXG4gICAgR3JhcHBsZVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBGbG93QmxvY2tUeXBlcyB7XHJcbiAgICBFbXB0eSxcclxuICAgIFVwLFxyXG4gICAgRG93bixcclxuICAgIExlZnQsXHJcbiAgICBSaWdodCxcclxuICAgIENvbmRpdGlvbmFsTGVmdFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0VXAsXHJcbiAgICBDb25kaXRpb25hbExlZnREb3duLFxyXG4gICAgQ29uZGl0aW9uYWxVcFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxVcERvd24sXHJcbiAgICBDb25kaXRpb25hbERvd25SaWdodFxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUJsb2NrIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBHYW1lU3RhdGU6IEdhbWVTdGF0ZSxcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBYOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgWTogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIEg6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBXOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgQ29sb3I6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLmggPSBIO1xyXG4gICAgICAgIHRoaXMudyA9IFc7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IENvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKTogdm9pZCB7fSBcclxuICAgIHVwZGF0ZSgpOiB2b2lkIHt9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSB1bml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB0b3RhbFVuaXRzOiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgc2V0OiBib29sZWFuO1xyXG4gICAgdHlwZTogQ29tbWFuZEJsb2NrVHlwZXM7XHJcbiAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIFVuaXRzOiBudW1iZXIsIENhbGxDb3VudDogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBDb21tYW5kQmxvY2tUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMudW5pdHMgPSBVbml0cztcclxuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IENhbGxDb3VudDtcclxuICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSB0aGlzLnVuaXRzICogdGhpcy5jYWxsQ291bnQ7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgc3dpdGNoKFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5TdGFydDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1N0YXJ0QmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTW92ZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuQW5nbGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9BbmdsZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuVGhyZWFkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVGhyZWFkQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBkcmFnIGNvbW1hbmQgYmxvY2tcclxuICAgICAgICBpZiAodGhpcy5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5nYW1lU3RhdGUubW91c2VYIC0gdGhpcy53LzI7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWSAtIHRoaXMuaC8yO1xyXG4gICAgICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZGVsZXRlIGlmIGRyb3BwaW5nIGJsb2NrIGFuZCBpdCBkb2Vzbid0IGhhdmUgYSBlbXB0eSBncmlkIGJsb2NrIHRvIGJlIHNldCBvblxyXG4gICAgICAgIGlmICghdGhpcy5tb3VzZURvd24gJiYgIXRoaXMuc2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZvbnQgPSBcIjE1cHggQXJpYWxcIjtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IDMwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFVuaXRzID4gOTkpIHtcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDI1O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnRvdGFsVW5pdHMgPCAxMCkge1xyXG4gICAgICAgICAgICBvZmZzZXRYID0gMzU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFRleHQoKHRoaXMudG90YWxVbml0cykudG9TdHJpbmcoKSwgdGhpcy54ICsgb2Zmc2V0WCwgdGhpcy55ICsgNDgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG9uQ2xpY2soKSB7XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbi8vIENPTlNJREVSOiBleHRlbmRpbmcgQ29tbWFuZEJsb2NrIGNsYXNzXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICB1bml0czogbnVtYmVyO1xyXG4gICAgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICB0b3RhbFVuaXRzOiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgdHlwZTogQ29tbWFuZEJsb2NrVHlwZXM7XHJcbiAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IENvbW1hbmRCbG9ja1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnVuaXRzID0gMDtcclxuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbFVuaXRzID0gMDtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Nb3ZlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0FuZ2xlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLnNsaWRlcnMuZm9yRWFjaChzbGlkZXIgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc2xpZGVyLnR5cGUgPT09IHRoaXMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsQ291bnQgPSBNYXRoLnJvdW5kKChzbGlkZXIudmFsdWUgKiBzbGlkZXIubWF4VW5pdHMpL3NsaWRlci5iYXNlVW5pdHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bml0cyA9IHNsaWRlci5iYXNlVW5pdHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSB0aGlzLnVuaXRzICogdGhpcy5jYWxsQ291bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy51bml0cywgdGhpcy5jYWxsQ291bnQsIHRoaXMuQ29sb3IsIHRoaXMudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5mb250ID0gXCIxNXB4IEFyaWFsXCI7XHJcbiAgICAgICAgbGV0IG9mZnNldFggPSAzMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxVbml0cyA+IDk5KSB7XHJcbiAgICAgICAgICAgIG9mZnNldFggPSAyNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG90YWxVbml0cyA8IDEwKSB7XHJcbiAgICAgICAgICAgIG9mZnNldFggPSAzNTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxUZXh0KCh0aGlzLnRvdGFsVW5pdHMpLnRvU3RyaW5nKCksIHRoaXMueCArIG9mZnNldFgsIHRoaXMueSArIDQ4KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIGV4cG9ydCBmdW5jdGlvbiBpc0NvbW1hbmRCbG9jayhvYmo6IG9iamVjdCkgOiBvYmogaXMgQ29tbWFuZEJsb2NrIHtcclxuLy8gICAgIHZhciBjb21tYW5kQmxvY2tPYmogOiBDb21tYW5kQmxvY2sgPSA8Q29tbWFuZEJsb2NrPm9iajtcclxuICAgIFxyXG4vLyAgICAgcmV0dXJuIGNvbW1hbmRCbG9ja09iai5tb3VzZURvd24gIT09IHVuZGVmaW5lZDtcclxuLy8gfSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3dCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHR5cGU6IEZsb3dCbG9ja1R5cGVzO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgc2V0OiBib29sZWFuO1xyXG4gICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBGbG93QmxvY2tUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuVXA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9VcEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuRG93bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0Rvd25BcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkxlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9MZWZ0QXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5SaWdodDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1JpZ2h0QXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBkcmFnIGZsb3cgYmxvY2tcclxuICAgICAgICBpZiAodGhpcy5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5nYW1lU3RhdGUubW91c2VYIC0gdGhpcy53LzI7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWSAtIHRoaXMuaC8yO1xyXG4gICAgICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZGVsZXRlIGlmIGRyb3BwaW5nIGJsb2NrIGFuZCBpdCBkb2Vzbid0IGhhdmUgYSBlbXB0eSBncmlkIGJsb2NrIHRvIGJlIHNldCBvblxyXG4gICAgICAgIGlmICghdGhpcy5tb3VzZURvd24gJiYgIXRoaXMuc2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gQ09OU0lERVI6IEV4dGVuZGluZyBGbG93QmxvY2sgaGVyZVxyXG5leHBvcnQgY2xhc3MgRmxvd0Jsb2NrQnV0dG9uIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHR5cGU6IEZsb3dCbG9ja1R5cGVzO1xyXG4gICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBGbG93QmxvY2tUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgc3dpdGNoKFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5VcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1VwQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvRG93bkFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuTGVmdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0xlZnRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvUmlnaHRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBuZXcgRmxvd0Jsb2NrKHRoaXMuZ2FtZVN0YXRlLCB0aGlzLngsIHRoaXMueSwgdGhpcy5oLCB0aGlzLncsIHRoaXMuQ29sb3IsIHRoaXMudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9jayB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2sgfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMsIEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkQmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICByOiBudW1iZXI7XHJcbiAgICBjOiBudW1iZXI7XHJcbiAgICB1bml0czogbnVtYmVyOyAvLyBcInJlYWRvbmx5XCJcclxuICAgIGNhbGxDb3VudDogbnVtYmVyOyAvLyBcInJlYWRvbmx5XCJcclxuICAgIGN1cnJlbnRDYWxsQ291bnQ6IG51bWJlcjtcclxuICAgIGNvbW1hbmRUeXBlOiBDb21tYW5kQmxvY2tUeXBlcztcclxuICAgIGZsb3dUeXBlOiBGbG93QmxvY2tUeXBlcztcclxuICAgIGNhbGw6IGFueTtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBSb3c6IG51bWJlciwgQ29sdW1uOiBudW1iZXIsIENvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLnIgPSBSb3c7XHJcbiAgICAgICAgdGhpcy5jID0gQ29sdW1uO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFR5cGUgPSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eTtcclxuICAgICAgICB0aGlzLmZsb3dUeXBlID0gRmxvd0Jsb2NrVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBzZWUgaWYgY29tbWFuZCBibG9jayBpcyBiZWluZyBkcm9wcGVkIG9uIGVtcHR5IGdyaWQgYmxvY2tcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5tb3VzZURvd24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLnggPCB0aGlzLnggKyB0aGlzLncgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueCArIGJsb2NrLncgPiB0aGlzLnggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueSA8IHRoaXMueSArIHRoaXMuaCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5oICsgYmxvY2sueSA+IHRoaXMueSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbW1hbmRUeXBlID09PSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnggPSB0aGlzLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFR5cGUgPSBibG9jay50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bml0cyA9IGJsb2NrLnVuaXRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsQ291bnQgPSBibG9jay5jYWxsQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDYWxsQ291bnQgPSBibG9jay5jYWxsQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5mbG93VHlwZSA9PT0gRmxvd0Jsb2NrVHlwZXMuRW1wdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueCA9IHRoaXMueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPSB0aGlzLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay5zZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbG93VHlwZSA9IGJsb2NrLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgY29uZGl0aW9uYWwgcHJvcGVydGllcyBoZXJlIGlmIGNvbmRpdGlvbmFsIGJsb2NrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMsIEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmZ1bmN0aW9uIG1vdmVDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBpZiAoYmxvY2suY3VycmVudENhbGxDb3VudCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm1vdmVcIik7XHJcbiAgICAgICAgYmxvY2suY3VycmVudENhbGxDb3VudC0tO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhbmdsZUNhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGlmIChibG9jay5jdXJyZW50Q2FsbENvdW50ID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYW5nbGVcIik7XHJcbiAgICAgICAgYmxvY2suY3VycmVudENhbGxDb3VudC0tO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBmdW5jdGlvbiB3aWxsIG9ubHkgaGF2ZSBmaW5kTmV4dEV4ZWN1dGlvbiBiaXRcclxuLy8gd29uJ3QgZG8gYW55dGhpbmcgZXhjZXB0IGNvbnRpbnVlIGV4ZWN1dGlvbiBpZiBwbGF5ZXJzIHVzZSBpdCBsaWtlIGEgbm9ybWFsIGNvbW1hbmQgYmxvY2tcclxuZnVuY3Rpb24gc3RhcnRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnROZXdUaHJlYWRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCB0aHJlYWQ6IG51bWJlcikge1xyXG4gICAgLy8gbG9jYXRlIHRocmVhZFxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2spIHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrLmNvbW1hbmRUeXBlID09PSBDb21tYW5kQmxvY2tUeXBlcy5TdGFydCAvLyYmIHRocmVhZE51bWJlciA9PT0gdGhyZWFkXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5mbG93VHlwZSAhPT0gRmxvd0Jsb2NrVHlwZXMuRW1wdHkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHRocmVhZFxyXG4gICAgICAgICAgICAgICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmROZXh0Q2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgcHJldkJsb2NrOiBHcmlkQmxvY2spIDogdm9pZCB7XHJcbiAgICBsZXQgdGFyZ2V0Um93OiBudW1iZXI7XHJcbiAgICBsZXQgdGFyZ2V0Q29sOiBudW1iZXI7XHJcbiAgICAvLyByZXNldCBjYWxsIGNvdW50XHJcbiAgICBwcmV2QmxvY2suY3VycmVudENhbGxDb3VudCA9IHByZXZCbG9jay5jYWxsQ291bnQ7XHJcbiAgICAvLyBUT0RPOiBhZGQgY29uZGl0aW9uYWxzXHJcbiAgICAvLyB0aGlzIHdpbGwgd29yayB3ZWxsIGhlcmUgc2luY2UgZWFjaCBjYWxsIGZpbmRzIHRoZSBuZXh0IGNhbGxcclxuICAgIC8vIGFmdGVyIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXHJcbiAgICBzd2l0Y2gocHJldkJsb2NrLmZsb3dUeXBlKSB7XHJcbiAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5VcDpcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnIgLSAxO1xyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICB0YXJnZXRSb3cgPSBwcmV2QmxvY2suciArIDE7XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYyArIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkxlZnQ6XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jIC0gMTtcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5yID09PSB0YXJnZXRSb3cgJiYgYmxvY2suYyA9PT0gdGFyZ2V0Q29sXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5jb21tYW5kVHlwZSAhPT0gQ29tbWFuZEJsb2NrVHlwZXMuRW1wdHlcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93QmxvY2tUeXBlcy5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGJsb2NrLmNvbW1hbmRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suY2FsbCA9ICgpID0+IGFuZ2xlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjay5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gbW92ZUNhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuU3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBzdGFydENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMsIEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbi8vIGFkZCBjb21tYW5kIGFuZCBjb25kaXRpb25hbCBzbGlkZXIgdHlwZXMgYXMgYSBwYXJhbSBhbmQgdG8gRW51bXMudHNcclxuLy8gYWRkIHRvIEdlbmVyYXRlTGV2ZWxcclxuLy8gbWF5YmUgYWRkIHN1cHBvcnQgZm9yIHRocmVhZCBzdGFydGVyP1xyXG5leHBvcnQgY2xhc3MgU2xpZGVyIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgc25hcEFtb3VudDogbnVtYmVyO1xyXG4gICAgcGVyY2VudGFnZTogbnVtYmVyO1xyXG4gICAgdmFsdWU6IG51bWJlcjtcclxuICAgIG1heFVuaXRzOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBiYXNlVW5pdHM6IG51bWJlcjtcclxuICAgIHR5cGU6IENvbW1hbmRCbG9ja1R5cGVzIHwgRmxvd0Jsb2NrVHlwZXM7XHJcbiAgICBzbGlkZXJYOiBudW1iZXI7XHJcbiAgICBzbGlkZXJZOiBudW1iZXI7XHJcbiAgICBzbGlkZXJIOiBudW1iZXI7XHJcbiAgICBzbGlkZXJXOiBudW1iZXI7XHJcbiAgICBzbGlkZXJDb2xvcjogc3RyaW5nO1xyXG4gICAgYmFyWDogbnVtYmVyO1xyXG4gICAgYmFyWTogbnVtYmVyO1xyXG4gICAgYmFySDogbnVtYmVyO1xyXG4gICAgYmFyVzogbnVtYmVyO1xyXG4gICAgYmFyQ29sb3I6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYIDpudW1iZXIsIFk6IG51bWJlciwgTWF4VW5pdHM6IG51bWJlciwgVHlwZTogQ29tbWFuZEJsb2NrVHlwZXMgfCBGbG93QmxvY2tUeXBlcywgU25hcEFtb3VudDogbnVtYmVyID0gMTApIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWF4VW5pdHMgPSBNYXhVbml0cztcclxuICAgICAgICB0aGlzLnNuYXBBbW91bnQgPSBTbmFwQW1vdW50O1xyXG4gICAgICAgIHRoaXMuYmFzZVVuaXRzID0gTWF0aC5yb3VuZCh0aGlzLm1heFVuaXRzIC8gdGhpcy5zbmFwQW1vdW50KTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMuYmFySCA9IDc1O1xyXG4gICAgICAgIHRoaXMuYmFyVyA9IDEwO1xyXG4gICAgICAgIHRoaXMuYmFyWCA9IFg7XHJcbiAgICAgICAgdGhpcy5iYXJZID0gWTtcclxuICAgICAgICB0aGlzLmJhckNvbG9yID0gXCJ0aGlzdGxlXCI7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJIID0gMTA7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJXID0gMTU7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJYID0gWDtcclxuICAgICAgICB0aGlzLnNsaWRlclkgPSBZICsgdGhpcy5iYXJILzIgLSB0aGlzLnNsaWRlckgvMjtcclxuICAgICAgICB0aGlzLnNsaWRlckNvbG9yID0gXCJwdXJwbGVcIjtcclxuICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxIC0gKHRoaXMuc2xpZGVyWSAtIHRoaXMuYmFyWSArIHRoaXMuc2xpZGVySC8yKSAvIHRoaXMuYmFySDtcclxuICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnBlcmNlbnRhZ2UgKiB0aGlzLnNuYXBBbW91bnQpIC8gdGhpcy5zbmFwQW1vdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhclkgLSB0aGlzLnNsaWRlckgvMiA8IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJZICsgdGhpcy5iYXJIIC0gdGhpcy5zbGlkZXJILzIgPiB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBTbGlkZXJZID0gdGhpcy5nYW1lU3RhdGUubW91c2VZO1xyXG4gICAgICAgICAgICAgICAgLy8gZmluZCBwZXJjZW50YWdlIHNsaWRlciBpcyB1cCB2ZXJ0aWNhbCBvbiBiYXJcclxuICAgICAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IDEgLSAodGVtcFNsaWRlclkgLSB0aGlzLmJhclkgKyB0aGlzLnNsaWRlckgvMikgLyB0aGlzLmJhckg7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIHRvIGJlIHRoZSByb3VuZGVkIHBlcmNlbnRhZ2UgYmFzZWQgb24gc25hcCBhbW91bnRcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBNYXRoLnJvdW5kKHRoaXMucGVyY2VudGFnZSAqIHRoaXMuc25hcEFtb3VudCkgLyB0aGlzLnNuYXBBbW91bnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgc2xpZGVyWSB2YWx1ZSBiYXNlZCBvbiBuZXcgdmFsdWUgZnJvbSB0aGUgcm91bmRlZCBwZXJjYW50YWdlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlclkgPSB0aGlzLmJhckggKyB0aGlzLmJhclkgLSAodGhpcy5zbGlkZXJILzIpIC0gKHRoaXMudmFsdWUgKiB0aGlzLmJhckgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYXcgYmFyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuYmFyWCwgdGhpcy5iYXJZLCB0aGlzLmJhclcsIHRoaXMuYmFySCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgc2xpZGVyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2xpZGVyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuc2xpZGVyWCAtIHRoaXMuc2xpZGVySC80LCB0aGlzLnNsaWRlclksIHRoaXMuc2xpZGVyVywgdGhpcy5zbGlkZXJIKTtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2RlY2xhcmF0aW9ucy9qc29uLmQudHNcIiAvPlxyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IGxldmVsMSBmcm9tICcuLi9kYXRhL2xldmVscy9sZXZlbDEuanNvbic7XHJcbmltcG9ydCB7IEdlbmVyYXRlTGV2ZWwgfSBmcm9tIFwiLi9HZW5lcmF0ZUxldmVsXCI7XHJcbmltcG9ydCB7IFNldFVwRXZlbnRMaXN0ZW5lcnMgfSBmcm9tIFwiLi9TZXRVcEV2ZW50TGlzdGVuZXJzXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jayB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tIFwiLi9TbGlkZXJcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuLy8gVE9ETzogYWRkIHNwZWNpYWwgdW5pdCBsb2dpYyBmb3Igc3RhcnQgYmxvY2sgLyB0aHJlYWQgYmxvY2tzIHNpbmNlIHRoZXkgZG9uJ3QgZm9sbG93IHNhbWUgcnVsZXNcclxuLy8gLT4gaS5lLiB3aWxsIG5lZWQgdG8gZG8gYSBzd2l0Y2ggb24gdHlwZSB3aGVuIHVwZGF0aW5nIHVuaXQgdmFsdWVzIHdpdGhpbiBjb21tYW5kIGJsb2NrIGJ1dHRvbnMgdXBkYXRlIG1ldGhvZFxyXG4vLyBUT0RPOiBhZGQgYmlnIHllbGxvdyBibG9jayB0aGF0IHJlbmRlcnMgYmVoaW5kIGdyaWQgYmxvY2tzIHRvIGluZGljYXRlIHdoaWNoIGJsb2NrIGlzIGN1cnJlbnRseSBiZWluZyBleGVjdXRlZFxyXG4vLyBUT0RPOiBoYXZlIEZsb3dCbG9ja0J1dHRvbiBhbmQgQ29tbWFuZEJsb2NrQnV0dG9ucyBleHRlbmQgZnJvbSB0aGVpciByZXNwZWN0aXZlIGJsb2Nrc1xyXG4vLyBUT0RPOiBwdXNoIG1vc3QgcmVjZW50bHkgY2xpY2tlZCBjb21tYW5kIC8gZmxvdyBibG9jayB0byB0b3Agb2YgYmxvY2sgYXJyYXkgdG8gcmVuZGVyIGl0IG9uIHRvcCBvZiBldmVyeXRoaW5nIGVsc2VcclxuLy8gVE9ETzogc3dpdGNoIHNwYWNlYmFyIGNvbnRyb2wgYnV0dG9uIHRvIGNsaWNrYWJsZSByYWRpbyBidXR0b25cclxuLy8gVE9ETzogYWRkIGJhc2UgVUkgY2xhc3MgLyBzd2l0Y2ggc2xpZGVyW10gdG8gYmFzZVVJRWxlbWVudFtdIGluIEdhbWVTdGF0ZVxyXG4vLyBUT0RPOiBhZGQgZXhlY3V0ZSBwcm9ncmFtIC8gc3RvcCBwcm9ncmFtIGJ1dHRvbnNcclxuLy8gVE9ETzogYWRkIG1hbmlmb2xkIGNvbGxpc2lvbiBzeXN0ZW0gZm9yIGdyaWRibG9jayBjb2xsaXNpb24gd2l0aCBmbG93IGFuZCBjb21tYW5kIGJsb2Nrcy5cclxuLy8gLT4gaS5lLiBzbmFwIGNvbW1hbmQgYmxvY2sgdG8gZ3JpZCBibG9jayB0aGF0IGhhcyB0aGUgYmlnZ2VzdCBtYW5pZm9sZFxyXG5cclxuLy8gc2V0IHVwIGdhbWUgc3RhdGVcclxudmFyIGdhbWVTdGF0ZSA9IG5ldyBHYW1lU3RhdGUoKTtcclxuR2VuZXJhdGVMZXZlbChnYW1lU3RhdGUsIGxldmVsMSwgXCJsaWdodGJsdWVcIik7XHJcblNldFVwRXZlbnRMaXN0ZW5lcnMoZ2FtZVN0YXRlKTtcclxuXHJcbi8vIHNldCB1cCB0ZXN0IHVpIGVsZW1lbnRzXHJcbmdhbWVTdGF0ZS5zbGlkZXJzLnB1c2gobmV3IFNsaWRlcihnYW1lU3RhdGUsIDgwLCAzNjUsIDEwMCwgQ29tbWFuZEJsb2NrVHlwZXMuTW92ZSkpO1xyXG5nYW1lU3RhdGUuc2xpZGVycy5wdXNoKG5ldyBTbGlkZXIoZ2FtZVN0YXRlLCAxMzAsIDM2NSwgMzYwLCBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZSwgOCkpO1xyXG5cclxuZnVuY3Rpb24gZHJhdygpIDogdm9pZCB7XHJcbiAgICBnYW1lU3RhdGUuY3R4LmNsZWFyUmVjdCgwLCAwLCBnYW1lU3RhdGUuY2FudmFzLndpZHRoLCBnYW1lU3RhdGUuY2FudmFzLmhlaWdodCk7XHJcbiAgICBnYW1lU3RhdGUuY3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgIC8vIHJlbmRlciBVSSBlbGVtZW50c1xyXG4gICAgZ2FtZVN0YXRlLnNsaWRlcnMuZm9yRWFjaChzbGlkZXIgPT4ge1xyXG4gICAgICAgIHNsaWRlci5kcmF3KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIG5vbi1mbG93IGJsb2NrcyBmaXJzdFxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoIShibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykpIHtcclxuICAgICAgICAgICAgYmxvY2suZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHJlbmRlciBhbGwgZmxvdyBibG9ja3MgbGFzdCB0byBsYXllciB0aGVtIG9uIHRvcCBvZiBjb21tYW5kIGJsb2Nrc1xyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgYmxvY2suZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jdHguc3Ryb2tlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGJsb2NrLnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZ2FtZVN0YXRlLnNsaWRlcnMuZm9yRWFjaChzbGlkZXIgPT4ge1xyXG4gICAgICAgIHNsaWRlci51cGRhdGUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5zZXRJbnRlcnZhbChmdW5jdGlvbigpIDogdm9pZCB7XHJcbiAgICB1cGRhdGUoKTtcclxuICAgIGRyYXcoKTtcclxuXHJcbiAgICBjb25zdCBjYWxsU3RhY2sgPSBnYW1lU3RhdGUubmV4dFN0YWNrO1xyXG4gICAgZ2FtZVN0YXRlLm5leHRTdGFjayA9IFtdO1xyXG5cclxuICAgIGlmIChjYWxsU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNhbGxTdGFjay5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgLy8gd2lsbCBjYWxsIGNvbW1hbmQgYW5kIHB1c2ggaXQgYmFjayBvbiBzdGFja1xyXG4gICAgICAgICAgICBpZiAoYmxvY2suY3VycmVudENhbGxDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwoKTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZWxzZSBqdXN0IGNhbGwgb25jZSBhbmQgZmluZCBuZXh0IGNhbGxcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBibG9jay5jYWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG59LCAxMik7IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tCdXR0b24gfSBmcm9tIFwiLi9Db21tYW5kQmxvY2tcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrQnV0dG9uIH0gZnJvbSBcIi4vRmxvd0Jsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzLCBGbG93QmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2VuZXJhdGVMZXZlbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgbGV2ZWxPYmo6IG9iamVjdCwgcGFsZXR0ZUNvbG9yOiBzdHJpbmcpIHtcclxuICAgIGxldCB5T2Zmc2V0OiBudW1iZXIgPSA1O1xyXG4gICAgbGV0IHhPZmZzZXQ6IG51bWJlciA9IDU7XHJcbiAgICBsZXQgbWF4WE9mZnNldDogbnVtYmVyID0gMDtcclxuICAgIGxldCBtYXhZT2Zmc2V0OiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8vIHNldCB1cCBncmlkIGZvciBDb21tYW5kIFBhbGV0dGVcclxuICAgIC8vIGFzc2lnbiByb3cgYW5kIGNvbHVtbiB2YWx1ZXMgdG8gZ3JpZCBibG9ja3NcclxuICAgIGZvciAodmFyIHIgPSAwOyByIDwgbGV2ZWxPYmpbXCJjb21tYW5kX3BhbGV0dGVcIl1bXCJibG9ja19oZWlnaHRcIl07IHIrKykge1xyXG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgbGV2ZWxPYmpbXCJjb21tYW5kX3BhbGV0dGVcIl1bXCJibG9ja193aWR0aFwiXTsgYysrKSB7XHJcbiAgICAgICAgICAgIG5ldyBHcmlkQmxvY2soZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIHIsIGMsIHBhbGV0dGVDb2xvcik7XHJcbiAgICAgICAgICAgIHhPZmZzZXQgKz0gNTU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHlPZmZzZXQgKz0gNTU7XHJcbiAgICAgICAgbWF4WE9mZnNldCA9IHhPZmZzZXQ7XHJcbiAgICAgICAgeE9mZnNldCA9IDU7XHJcbiAgICB9XHJcblxyXG4gICAgbWF4WU9mZnNldCA9IHlPZmZzZXQ7XHJcbiAgICB5T2Zmc2V0ID0gbWF4WU9mZnNldCArIDIwO1xyXG5cclxuICAgIC8vIHNldCB1cCBDb21tYW5kIEJsb2NrIEJ1dHRvbnNcclxuICAgIC8vIENPTlNJREVSOiBBY2NvbW1vZGF0aW5nIGZvciBjb21tYW5kIHBhbGV0dGUgd2lkdGhcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxPYmpbXCJjb21tYW5kX2Jsb2Nrc1wiXS5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBzd2l0Y2gobGV2ZWxPYmpbXCJjb21tYW5kX2Jsb2Nrc1wiXVtpXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwic3RhcnRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5TdGFydCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1vdmVcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5Nb3ZlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYW5nbGVcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInRocmVhZFwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRCbG9ja1R5cGVzLlRocmVhZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxhc2VyXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcImdyZWVuXCIsIENvbW1hbmRCbG9ja1R5cGVzLkxhc2VyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2NhblwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJkYXJrYmx1ZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5TY2FuKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZ3JhcHBsZVwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJtYXJvb25cIiwgQ29tbWFuZEJsb2NrVHlwZXMuR3JhcHBsZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgeE9mZnNldCArPSA1NTtcclxuICAgIH1cclxuXHJcbiAgICB4T2Zmc2V0ID0gbWF4WE9mZnNldCArIDIwO1xyXG4gICAgeU9mZnNldCA9IDU7XHJcblxyXG4gICAgLy8gc2V0IHVwIEZsb3cgQmxvY2sgQnV0dG9uc1xyXG4gICAgLy8gQ09OU0lERVI6IEFjY29tbW9kYXRpbmcgZm9yIGNvbW1hbmQgcGFsZXR0ZSBoZWlnaHRcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXS5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBzd2l0Y2gobGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXVtpXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidXBcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dCbG9ja1R5cGVzLlVwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibGVmdFwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IEZsb3dCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ5ZWxsb3dcIiwgRmxvd0Jsb2NrVHlwZXMuTGVmdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93QmxvY2tUeXBlcy5SaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dCbG9ja1R5cGVzLkRvd24pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHlPZmZzZXQgKz0gNTU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrLCBDb21tYW5kQmxvY2tCdXR0b24gfSBmcm9tIFwiLi9Db21tYW5kQmxvY2tcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jaywgRmxvd0Jsb2NrQnV0dG9uIH0gZnJvbSBcIi4vRmxvd0Jsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzLCBGbG93QmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcbmltcG9ydCB7IHN0YXJ0TmV3VGhyZWFkQ2FsbCB9IGZyb20gXCIuL1Byb2dyYW1FeGVjdXRpb25cIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRVcEV2ZW50TGlzdGVuZXJzKGdhbWVTdGF0ZTogR2FtZVN0YXRlKSB7XHJcbiAgICBnYW1lU3RhdGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBDb2xsaXNpb24gZGV0ZWN0aW9uIGJldHdlZW4gY2xpY2tlZCBvZmZzZXQgYW5kIGJsb2NrLlxyXG4gICAgICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gYmxvY2sueSAmJiBnYW1lU3RhdGUubW91c2VZIDwgYmxvY2sueSArIGJsb2NrLmhcclxuICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBibG9jay54ICYmIGdhbWVTdGF0ZS5tb3VzZVggPCBibG9jay54ICsgYmxvY2sudykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHJhZGlvIGJ1dHRvbiBmb3IgZmxvdyBvciBjb21tYW5kIGNvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNvbW1hbmRUeXBlID0gQ29tbWFuZEJsb2NrVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5mbG93VHlwZSA9IEZsb3dCbG9ja1R5cGVzLkVtcHR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBjaGVjayBmb3Igc2xpZGVycyBiZWluZyBjbGlja2VkXHJcbiAgICAgICAgZ2FtZVN0YXRlLnNsaWRlcnMuZm9yRWFjaChzID0+IHtcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5tb3VzZVkgPiBzLnNsaWRlclkgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IHMuc2xpZGVyWSArIHMuc2xpZGVySFxyXG4gICAgICAgICAgICAgICAgJiYgZ2FtZVN0YXRlLm1vdXNlWCA+IHMuc2xpZGVyWCAmJiBnYW1lU3RhdGUubW91c2VYIDwgcy5zbGlkZXJYICsgcy5zbGlkZXJXKSB7XHJcbiAgICAgICAgICAgICAgICBzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgLy8gbWFrZSBzdXJlIGFsbCBjbGlja2FibGUgZW50aXRpZXMgYXJlbid0IGNsaWNrYWJsZSBvbiBtb3VzZXVwXHJcbiAgICBnYW1lU3RhdGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpIDogdm9pZCB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrXHJcbiAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGdhbWVTdGF0ZS5zbGlkZXJzLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgIHMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihldnQ6IE1vdXNlRXZlbnQpIDogdm9pZCB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLm1vdXNlWCA9IChldnQuY2xpZW50WCAtIGdhbWVTdGF0ZS5yZWN0LmxlZnQpIC8gKGdhbWVTdGF0ZS5yZWN0LnJpZ2h0IC0gZ2FtZVN0YXRlLnJlY3QubGVmdCkgKiBnYW1lU3RhdGUuY2FudmFzLndpZHRoO1xyXG4gICAgICAgIGdhbWVTdGF0ZS5tb3VzZVkgPSAoZXZ0LmNsaWVudFkgLSBnYW1lU3RhdGUucmVjdC50b3ApIC8gKGdhbWVTdGF0ZS5yZWN0LmJvdHRvbSAtIGdhbWVTdGF0ZS5yZWN0LnRvcCkgKiBnYW1lU3RhdGUuY2FudmFzLmhlaWdodDtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICB3aW5kb3cub25rZXl1cCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyBpLmUuIFNwYWNlQmFyIHByZXNzZWRcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzMikge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmZsb3dDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuZmxvd0NvbnRyb2wgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbW1hbmQgQ29udHJvbCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5mbG93Q29udHJvbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZsb3cgQ29udHJvbCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGkuZS4gUyBrZXkgcHJlc3NlZFxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDgzKSB7XHJcbiAgICAgICAgICAgIGlmICghZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3RhcnROZXdUaHJlYWRDYWxsKGdhbWVTdGF0ZSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9