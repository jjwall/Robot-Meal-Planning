!function(t){var e={};function a(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle"],flow_blocks:["up","down","left","right"]}},function(t,e,a){"use strict";a.r(e);var s,n,o=function(){return function(t){this.canvas=t&&t.canvas||document.getElementById("gameScreen"),this.ctx=t&&t.ctx||this.canvas.getContext("2d"),this.rect=t&&t.rect||this.canvas.getBoundingClientRect(),this.blocks=t&&t.blocks||[],this.userInterfaces=t&&t.userInterfaces||[],this.mouseX=t&&t.mouseX||0,this.mouseY=t&&t.mouseY||0,this.commandControl=t&&t.commandControl||!0,this.flowControl=t&&t.flowControl||!1,this.nextStack=t&&t.nextStack||[],this.programRunning=t&&t.programRunning||!1}}(),i=a(0),r=function(){function t(t,e,a,s,n,o){this.GameState=t,this.X=e,this.Y=a,this.H=s,this.W=n,this.Color=o,this.gameState=t,this.x=e,this.y=a,this.h=s,this.w=n,this.color=o}return t.prototype.draw=function(){},t.prototype.update=function(){},t}();!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Thread=4]="Thread",t[t.Scan=5]="Scan",t[t.Laser=6]="Laser",t[t.Grapple=7]="Grapple"}(s||(s={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(n||(n={}));var c=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),h=function(t){function e(e,a,o,i,r,c,h,l){var u=t.call(this,e,a,o,i,r,l)||this;return u.r=c,u.c=h,u.flowType=n.Empty,u.gameState.blocks.push(u),u.commandData={baseUnits:0,totalUnits:0,callCount:0,type:s.Empty},u}return c(e,t),e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},e}(r),l=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),u=function(t){function e(e,a,n,o,i,r,c,h,l){var u=t.call(this,e,a,n,o,i,h)||this;switch(u.baseUnits=r,u.callCount=c,u.totalUnits=u.baseUnits*u.callCount,u.mouseDown=!0,u.set=!1,u.type=l,u.image=new Image,l){case s.Start:u.image.src="data/textures/StartBlock.png";break;case s.Move:u.image.src="data/textures/MoveBlock.png";break;case s.Angle:u.image.src="data/textures/AngleBlock.png";break;case s.Thread:u.image.src="data/textures/ThreadBlock.png"}return u.gameState.blocks.push(u),u}return l(e,t),e.prototype.mouseUp=function(){var t=this;if(this.gameState.blocks.forEach(function(e){e instanceof h&&e.commandData.type===s.Empty&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.x=e.x,t.y=e.y,t.set=!0,e.commandData.type=t.type,e.commandData.baseUnits=t.baseUnits,e.commandData.callCount=t.callCount,e.commandData.totalUnits=t.totalUnits,e.currentCallCount=t.callCount)}),!this.set){var e=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(e,1)}},e.prototype.update=function(){this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1)},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},e}(r),m=function(t){function e(e,a,n,o,i,r,c){var h=t.call(this,e,a,n,o,i,r)||this;switch(h.updateData=function(t,e){h.callCount=t,h.baseUnits=e,h.totalUnits=h.baseUnits*h.callCount},h.mouseDown=!1,h.type=c,h.image=new Image,h.baseUnits=0,h.callCount=0,h.totalUnits=0,c){case s.Start:h.image.src="data/textures/StartBlock.png";break;case s.Move:h.image.src="data/textures/MoveBlock.png";break;case s.Angle:h.image.src="data/textures/AngleBlock.png";break;case s.Thread:h.image.src="data/textures/ThreadBlock.png"}return h.gameState.blocks.push(h),h}return l(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new u(this.gameState,this.x,this.y,this.h,this.w,this.baseUnits,this.callCount,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},e}(r),f=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),p=function(t){function e(e,a,s,o,i,r,c){var h=t.call(this,e,a,s,o,i,r)||this;switch(h.gameState=e,h.type=c,h.mouseDown=!0,h.set=!1,h.image=new Image,c){case n.Up:h.image.src="data/textures/UpArrow.png";break;case n.Down:h.image.src="data/textures/DownArrow.png";break;case n.Left:h.image.src="data/textures/LeftArrow.png";break;case n.Right:h.image.src="data/textures/RightArrow.png"}return h.gameState.blocks.push(h),h}return f(e,t),e.prototype.mouseUp=function(){var t=this;if(this.gameState.blocks.forEach(function(e){e instanceof h&&e.flowType===n.Empty&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.x=e.x,t.y=e.y,t.set=!0,e.flowType=t.type)}),!this.set){var e=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(e,1)}},e.prototype.update=function(){this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1)},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),g=function(t){function e(e,a,s,o,i,r,c){var h=t.call(this,e,a,s,o,i,r)||this;switch(h.type=c,h.mouseDown=!1,h.image=new Image,c){case n.Up:h.image.src="data/textures/UpArrow.png";break;case n.Down:h.image.src="data/textures/DownArrow.png";break;case n.Left:h.image.src="data/textures/LeftArrow.png";break;case n.Right:h.image.src="data/textures/RightArrow.png"}return h.gameState.blocks.push(h),h}return f(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new p(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),d=function(){function t(t,e,a,s,n,o,i){void 0===i&&(i=10),this.gameState=t,this.mouseDown=!1,this.maxUnits=s,this.snapAmount=i,this.updateDataCallBack=o,this.baseUnits=Math.round(this.maxUnits/this.snapAmount),this.type=n,this.barH=75,this.barW=10,this.barX=e,this.barY=a,this.barColor="thistle",this.sliderH=10,this.sliderW=15,this.sliderX=e,this.sliderY=a+this.barH/2-this.sliderH/2,this.sliderColor="purple",this.percentage=1-(this.sliderY-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.gameState.userInterfaces.push(this);var r=Math.round(this.value*this.maxUnits/this.baseUnits);this.updateDataCallBack(r,this.baseUnits)}return t.prototype.update=function(){if(this.mouseDown&&this.barY-this.sliderH/2<this.gameState.mouseY&&this.barY+this.barH-this.sliderH/2>this.gameState.mouseY){var t=this.gameState.mouseY;this.percentage=1-(t-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.sliderY=this.barH+this.barY-this.sliderH/2-this.value*this.barH;var e=Math.round(this.value*this.maxUnits/this.baseUnits);this.updateDataCallBack(e,this.baseUnits)}},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.barColor,this.gameState.ctx.fillRect(this.barX,this.barY,this.barW,this.barH),this.gameState.ctx.fillStyle=this.sliderColor,this.gameState.ctx.fillRect(this.sliderX-this.sliderH/4,this.sliderY,this.sliderW,this.sliderH)},t}(),w=function(){function t(t,e,a,s,n,o,i){this.gameState=t,this.x=e,this.y=a,this.h=s,this.w=n,this.maxUnits=o,this.threads=1,this.baseUnits=1,this.updateDataCallBack=i,this.mouseDown=!1,this.gameState.userInterfaces.push(this),this.updateDataCallBack(this.threads,this.baseUnits)}return t.prototype.recalculateExistingThreadCounts=function(){var t=[];this.gameState.blocks.forEach(function(e){e instanceof u&&e.type===s.Start&&t.push(e)}),t.sort(function(t,e){return t.totalUnits>e.totalUnits?1:e.totalUnits>t.totalUnits?-1:0});for(var e=0;e<t.length;e++)e+1<t[e].totalUnits&&t[e].totalUnits--},t.prototype.mouseUp=function(){var t=1;this.gameState.blocks.forEach(function(e){e instanceof u&&e.type===s.Start&&t++}),this.threads=t,this.updateDataCallBack(this.threads,this.baseUnits),this.recalculateExistingThreadCounts()},t.prototype.update=function(){if(this.mouseDown){this.mouseDown=!1;var t=1;this.gameState.blocks.forEach(function(e){e instanceof u&&e.type===s.Start&&t++}),this.threads=t,this.updateDataCallBack(this.threads,this.baseUnits)}},t.prototype.draw=function(){},t}();function y(t,e){var a,o;switch(e.currentCallCount=e.commandData.callCount,e.flowType){case n.Up:a=e.r-1,o=e.c;break;case n.Down:a=e.r+1,o=e.c;break;case n.Right:o=e.c+1,a=e.r;break;case n.Left:o=e.c-1,a=e.r}t.blocks.forEach(function(e){if(e instanceof h&&e.r===a&&e.c===o&&e.commandData.type!==s.Empty&&e.flowType!==n.Empty)switch(e.commandData.type){case s.Angle:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("angle"),e.currentCallCount--):y(t,e)}(t,e)},t.nextStack.push(e);break;case s.Move:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("move"),e.currentCallCount--):y(t,e)}(t,e)},t.nextStack.push(e);break;case s.Start:e.call=function(){return function(t,e){console.log("start"),y(t,e)}(t,e)},t.nextStack.push(e)}})}var b=new o;!function(t,e,a){for(var o=5,i=5,r=0,c=e.command_palette.block_height,l=e.command_palette.block_width,u=0;u<c;u++){for(var f=0;f<l;f++)new h(t,i,o,50,50,u,f,a),i+=55;o+=55,r=i,i=5}o+=20;for(var p=0;p<e.command_blocks.length;p++){switch(e.command_blocks[p]){case"start":var y=new m(t,i,o,50,50,"thistle",s.Start);new w(t,y.x,y.y,y.h,y.w,c*l,y.updateData);break;case"move":var b=new m(t,i,o,50,50,"thistle",s.Move);new d(t,i+20,o+60,100,s.Move,b.updateData);break;case"angle":var x=new m(t,i,o,50,50,"thistle",s.Angle);new d(t,i+20,o+60,360,s.Angle,x.updateData,8);break;case"thread":new m(t,i,o,50,50,"thistle",s.Thread);break;case"laser":new m(t,i,o,50,50,"green",s.Laser);break;case"scan":new m(t,i,o,50,50,"darkblue",s.Scan);break;case"grapple":new m(t,i,o,50,50,"maroon",s.Grapple)}i+=55}for(i=r+20,o=5,p=0;p<e.flow_blocks.length;p++){switch(e.flow_blocks[p]){case"up":new g(t,i,o,50,50,"yellow",n.Up);break;case"left":new g(t,i,o,50,50,"yellow",n.Left);break;case"right":new g(t,i,o,50,50,"yellow",n.Right);break;case"down":new g(t,i,o,50,50,"yellow",n.Down)}o+=55}}(b,i,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof u&&t.commandControl||e instanceof m&&t.commandControl||e instanceof p&&t.flowControl||e instanceof g&&t.flowControl?e.mouseDown=!0:e instanceof h&&(t.commandControl?e.commandData.type=s.Empty:t.flowControl&&(e.flowType=n.Empty)))}),t.userInterfaces.forEach(function(e){e instanceof d&&t.mouseY>e.sliderY&&t.mouseY<e.sliderY+e.sliderH&&t.mouseX>e.sliderX&&t.mouseX<e.sliderX+e.sliderW&&(e.mouseDown=!0),e instanceof w&&t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e.mouseDown=!0)})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof u||t instanceof p)&&t.mouseDown&&(t.mouseDown=!1,t.mouseUp())}),t.userInterfaces.forEach(function(t){t.mouseDown=!1,t instanceof w&&t.mouseUp()})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning?(t.programRunning=!1,t.nextStack=[]):(t.programRunning=!0,function(t,e){t.blocks.forEach(function(e){e instanceof h&&e.commandData.type===s.Start&&e.flowType!==n.Empty&&y(t,e)})}(t)))}}(b),setInterval(function(){b.blocks.forEach(function(t){t.update()}),b.userInterfaces.forEach(function(t){t.update()}),b.ctx.clearRect(0,0,b.canvas.width,b.canvas.height),b.ctx.beginPath(),b.userInterfaces.forEach(function(t){t.draw()}),b.blocks.forEach(function(t){t instanceof p||t.draw()}),b.blocks.forEach(function(t){t instanceof p&&t.draw()}),b.ctx.stroke();var t=b.nextStack;b.nextStack=[],t.length>0&&b.programRunning?t.forEach(function(t){t.currentCallCount>0?(t.call(),b.nextStack.push(t)):t.call()}):b.programRunning=!1},12)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Jhc2VCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR3JpZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21tYW5kQmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Zsb3dCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UaHJlYWRPYnNlcnZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUHJvZ3JhbUV4ZWN1dGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2VuZXJhdGVMZXZlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2V0VXBFdmVudExpc3RlbmVycy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvbW1hbmRUeXBlcyIsIkZsb3dUeXBlcyIsIkdhbWVTdGF0ZV9HYW1lU3RhdGUiLCJvYmoiLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmxvY2tzIiwidXNlckludGVyZmFjZXMiLCJtb3VzZVgiLCJtb3VzZVkiLCJjb21tYW5kQ29udHJvbCIsImZsb3dDb250cm9sIiwibmV4dFN0YWNrIiwicHJvZ3JhbVJ1bm5pbmciLCJCYXNlQmxvY2siLCJHYW1lU3RhdGUiLCJYIiwiWSIsIkgiLCJXIiwiQ29sb3IiLCJnYW1lU3RhdGUiLCJ4IiwieSIsImgiLCJ3IiwiY29sb3IiLCJkcmF3IiwidXBkYXRlIiwiR3JpZEJsb2NrX0dyaWRCbG9jayIsIl9zdXBlciIsIkdyaWRCbG9jayIsIlJvdyIsIkNvbHVtbiIsIl90aGlzIiwiZmxvd1R5cGUiLCJFbXB0eSIsInB1c2giLCJjb21tYW5kRGF0YSIsImJhc2VVbml0cyIsInRvdGFsVW5pdHMiLCJjYWxsQ291bnQiLCJ0eXBlIiwiX19leHRlbmRzIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJDb21tYW5kQmxvY2tfQ29tbWFuZEJsb2NrIiwiQ29tbWFuZEJsb2NrIiwiVW5pdHMiLCJDYWxsQ291bnQiLCJUeXBlIiwibW91c2VEb3duIiwic2V0IiwiaW1hZ2UiLCJJbWFnZSIsIlN0YXJ0Iiwic3JjIiwiTW92ZSIsIkFuZ2xlIiwiVGhyZWFkIiwiQ29tbWFuZEJsb2NrX2V4dGVuZHMiLCJtb3VzZVVwIiwiZm9yRWFjaCIsImJsb2NrIiwiY3VycmVudENhbGxDb3VudCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsImZvbnQiLCJvZmZzZXRYIiwiZmlsbFRleHQiLCJ0b1N0cmluZyIsIkNvbW1hbmRCbG9ja19Db21tYW5kQmxvY2tCdXR0b24iLCJDb21tYW5kQmxvY2tCdXR0b24iLCJ1cGRhdGVEYXRhIiwibXVsdGlwbGljYXRpdmUiLCJGbG93QmxvY2tfRmxvd0Jsb2NrIiwiRmxvd0Jsb2NrIiwiVXAiLCJEb3duIiwiTGVmdCIsIlJpZ2h0IiwiRmxvd0Jsb2NrX2V4dGVuZHMiLCJzdHJva2VTdHlsZSIsIkZsb3dCbG9ja19GbG93QmxvY2tCdXR0b24iLCJGbG93QmxvY2tCdXR0b24iLCJTbGlkZXIiLCJNYXhVbml0cyIsIlVwZGF0ZURhdGFDYWxsQmFjayIsIlNuYXBBbW91bnQiLCJtYXhVbml0cyIsInNuYXBBbW91bnQiLCJ1cGRhdGVEYXRhQ2FsbEJhY2siLCJNYXRoIiwicm91bmQiLCJiYXJIIiwiYmFyVyIsImJhclgiLCJiYXJZIiwiYmFyQ29sb3IiLCJzbGlkZXJIIiwic2xpZGVyVyIsInNsaWRlclgiLCJzbGlkZXJZIiwic2xpZGVyQ29sb3IiLCJwZXJjZW50YWdlIiwiY2FsY3VsYXRlZENhbGxDb3VudCIsInRlbXBTbGlkZXJZIiwiVGhyZWFkT2JzZXJ2ZXJfVGhyZWFkT2JzZXJ2ZXIiLCJUaHJlYWRPYnNlcnZlciIsInRocmVhZHMiLCJyZWNhbGN1bGF0ZUV4aXN0aW5nVGhyZWFkQ291bnRzIiwidGVtcFRocmVhZEFycmF5Iiwic29ydCIsImEiLCJiIiwibGVuZ3RoIiwidGVtcFRocmVhZENvdW50IiwidGVtcFRocmVhZENvdW50XzEiLCJmaW5kTmV4dENhbGwiLCJwcmV2QmxvY2siLCJ0YXJnZXRSb3ciLCJ0YXJnZXRDb2wiLCJjb25zb2xlIiwibG9nIiwiYW5nbGVDYWxsIiwibW92ZUNhbGwiLCJzdGFydENhbGwiLCJtYWluX2dhbWVTdGF0ZSIsImxldmVsT2JqIiwicGFsZXR0ZUNvbG9yIiwieU9mZnNldCIsInhPZmZzZXQiLCJtYXhYT2Zmc2V0IiwiY29tbWFuZFBhbGV0dGVIIiwiY29tbWFuZFBhbGV0dGVXIiwic3RhcnRCbG9jayIsIm1vdmVCbG9jayIsImFuZ2xlQmxvY2siLCJMYXNlciIsIlNjYW4iLCJHcmFwcGxlIiwiR2VuZXJhdGVMZXZlbCIsImxldmVsMSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1c2VySW50ZXJmYWNlIiwiZXZ0IiwiY2xpZW50WCIsImxlZnQiLCJyaWdodCIsIndpZHRoIiwiY2xpZW50WSIsInRvcCIsImJvdHRvbSIsImhlaWdodCIsIndpbmRvdyIsIm9ua2V5dXAiLCJlIiwia2V5Q29kZSIsInRocmVhZCIsInN0YXJ0TmV3VGhyZWFkQ2FsbCIsIlNldFVwRXZlbnRMaXN0ZW5lcnMiLCJzZXRJbnRlcnZhbCIsImNsZWFyUmVjdCIsImJlZ2luUGF0aCIsInN0cm9rZSIsImNhbGxTdGFjayJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFB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eEMsRUFBVXlDLE9BR2hDcUYsRUFBYXBHLEVBQVcwQyxLRzBEeEJtRyxDQUFtQjdJLE1GM0VuQzhJLENBQW9CakMsR0FzQ3BCa0MsWUFBWSxXQVRSbEMsRUFBVTVILE9BQU93RCxRQUFRLFNBQUFDLEdBQ3JCQSxFQUFNbkMsV0FHVnNHLEVBQVUzSCxlQUFldUQsUUFBUSxTQUFBcUYsR0FDN0JBLEVBQWN2SCxXQS9CbEJzRyxFQUFVaEksSUFBSW1LLFVBQVUsRUFBRyxFQUFHbkMsRUFBVW5JLE9BQU95SixNQUFPdEIsRUFBVW5JLE9BQU82SixRQUN2RTFCLEVBQVVoSSxJQUFJb0ssWUFHZHBDLEVBQVUzSCxlQUFldUQsUUFBUSxTQUFBcUYsR0FDN0JBLEVBQWN4SCxTQUlsQnVHLEVBQVU1SCxPQUFPd0QsUUFBUSxTQUFBQyxHQUNmQSxhQUFpQmUsR0FDbkJmLEVBQU1wQyxTQUtkdUcsRUFBVTVILE9BQU93RCxRQUFRLFNBQUFDLEdBQ2pCQSxhQUFpQmUsR0FDakJmLEVBQU1wQyxTQUlkdUcsRUFBVWhJLElBQUlxSyxTQWlCZCxJQUFNQyxFQUFZdEMsRUFBVXRILFVBQzVCc0gsRUFBVXRILGFBRU40SixFQUFVbEQsT0FBUyxHQUFLWSxFQUFVckgsZUFDbEMySixFQUFVMUcsUUFBUSxTQUFBQyxHQUVWQSxFQUFNQyxpQkFBbUIsR0FDekJELEVBQU1sRyxPQUNOcUssRUFBVXRILFVBQVV5QixLQUFLMEIsSUFJekJBLEVBQU1sRyxTQUtkcUssRUFBVXJILGdCQUFpQixHQUVoQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJpbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuL1NsaWRlclwiO1xyXG5pbXBvcnQgeyBCYXNlVXNlckludGVyZmFjZSB9IGZyb20gXCIuL0Jhc2VVc2VySW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIHtcclxuICAgIHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICByZWFkb25seSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHJlYWRvbmx5IHJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0O1xyXG4gICAgcHVibGljIGJsb2NrczogQmFzZUJsb2NrW107XHJcbiAgICBwdWJsaWMgdXNlckludGVyZmFjZXM6IEJhc2VVc2VySW50ZXJmYWNlW107XHJcbiAgICBwdWJsaWMgbW91c2VYOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbW91c2VZOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY29tbWFuZENvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZmxvd0NvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgbmV4dFN0YWNrOiBHcmlkQmxvY2tbXTtcclxuICAgIHB1YmxpYyBwcm9ncmFtUnVubmluZzogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKG9iaj86IElHYW1lU3RhdGUpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG9iaiAmJiBvYmouY2FudmFzIHx8IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lU2NyZWVuXCIpO1xyXG4gICAgICAgIHRoaXMuY3R4ID0gb2JqICYmIG9iai5jdHggfHwgPENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD4gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMucmVjdCA9IG9iaiAmJiBvYmoucmVjdCB8fCA8Q2xpZW50UmVjdCB8IERPTVJlY3Q+IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHRoaXMuYmxvY2tzID0gb2JqICYmIG9iai5ibG9ja3MgfHwgW107XHJcbiAgICAgICAgdGhpcy51c2VySW50ZXJmYWNlcyA9IG9iaiAmJiBvYmoudXNlckludGVyZmFjZXMgfHwgW107XHJcbiAgICAgICAgdGhpcy5tb3VzZVggPSBvYmogJiYgb2JqLm1vdXNlWCB8fCAwO1xyXG4gICAgICAgIHRoaXMubW91c2VZID0gb2JqICYmIG9iai5tb3VzZVkgfHwgMDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDb250cm9sID0gb2JqICYmIG9iai5jb21tYW5kQ29udHJvbCB8fCB0cnVlO1xyXG4gICAgICAgIHRoaXMuZmxvd0NvbnRyb2wgPSBvYmogJiYgb2JqLmZsb3dDb250cm9sIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubmV4dFN0YWNrID0gb2JqICYmIG9iai5uZXh0U3RhY2sgfHwgW107XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtUnVubmluZyA9IG9iaiAmJiBvYmoucHJvZ3JhbVJ1bm5pbmcgfHwgZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdhbWVTdGF0ZSB7XHJcbiAgICByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcmVhZG9ubHkgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICByZWFkb25seSByZWN0OiBDbGllbnRSZWN0IHwgRE9NUmVjdDtcclxuICAgIGJsb2NrczogQmFzZUJsb2NrW107XHJcbiAgICB1c2VySW50ZXJmYWNlczogQmFzZVVzZXJJbnRlcmZhY2VbXTtcclxuICAgIG1vdXNlWDogbnVtYmVyO1xyXG4gICAgbW91c2VZOiBudW1iZXI7XHJcbiAgICBjb21tYW5kQ29udHJvbDogYm9vbGVhbjtcclxuICAgIGZsb3dDb250cm9sOiBib29sZWFuO1xyXG4gICAgbmV4dFN0YWNrOiBhbnlbXTtcclxuICAgIHByb2dyYW1SdW5uaW5nOiBib29sZWFuO1xyXG59IiwiZXhwb3J0IGVudW0gQ29tbWFuZFR5cGVzIHtcclxuICAgIEVtcHR5LFxyXG4gICAgU3RhcnQsXHJcbiAgICBNb3ZlLFxyXG4gICAgQW5nbGUsXHJcbiAgICBUaHJlYWQsXHJcbiAgICBTY2FuLFxyXG4gICAgTGFzZXIsXHJcbiAgICBHcmFwcGxlXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEZsb3dUeXBlcyB7XHJcbiAgICBFbXB0eSxcclxuICAgIFVwLFxyXG4gICAgRG93bixcclxuICAgIExlZnQsXHJcbiAgICBSaWdodCxcclxuICAgIENvbmRpdGlvbmFsTGVmdFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0VXAsXHJcbiAgICBDb25kaXRpb25hbExlZnREb3duLFxyXG4gICAgQ29uZGl0aW9uYWxVcFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxVcERvd24sXHJcbiAgICBDb25kaXRpb25hbERvd25SaWdodFxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUJsb2NrIHtcclxuICAgIHByb3RlY3RlZCBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdzogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBHYW1lU3RhdGU6IEdhbWVTdGF0ZSxcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBYOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgWTogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIEg6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBXOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgQ29sb3I6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLmggPSBIO1xyXG4gICAgICAgIHRoaXMudyA9IFc7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IENvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKTogdm9pZCB7fSBcclxuICAgIHVwZGF0ZSgpOiB2b2lkIHt9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRUeXBlcywgRmxvd1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkQmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcjogbnVtYmVyO1xyXG4gICAgcHVibGljIGM6IG51bWJlcjtcclxuICAgIHB1YmxpYyBjb21tYW5kRGF0YTogSUNvbW1hbmREYXRhO1xyXG4gICAgcHVibGljIGN1cnJlbnRDYWxsQ291bnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBmbG93VHlwZTogRmxvd1R5cGVzO1xyXG4gICAgcHVibGljIGNhbGw6IGFueTsgLy8gY2hhbmdlIHR5cGUgaGVyZSB0byBnZW5lcmljIG1ldGhvZCBzaWduYXR1cmVcclxuICAgIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBSb3c6IG51bWJlciwgQ29sdW1uOiBudW1iZXIsIENvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLnIgPSBSb3c7XHJcbiAgICAgICAgdGhpcy5jID0gQ29sdW1uO1xyXG4gICAgICAgIHRoaXMuZmxvd1R5cGUgPSBGbG93VHlwZXMuRW1wdHk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kRGF0YSA9IHtcclxuICAgICAgICAgICAgYmFzZVVuaXRzOiAwLFxyXG4gICAgICAgICAgICB0b3RhbFVuaXRzOiAwLFxyXG4gICAgICAgICAgICBjYWxsQ291bnQ6IDAsXHJcbiAgICAgICAgICAgIHR5cGU6IENvbW1hbmRUeXBlcy5FbXB0eVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4qIEludGVyZmFjZSB0byBjb21tdW5pY2F0ZSBjb21tYW5kIGRhdGEuXHJcbiovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbW1hbmREYXRhIHtcclxuICAgIC8qKlxyXG4gICAgKiBBbW91bnQgb2YgdW5pdHMgcGVyIGNhbGwuXHJcbiAgICAqL1xyXG4gICAgYmFzZVVuaXRzOiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICogVG90YWwgdW5pdHMgYWZ0ZXIgYWxsIGNhbGwocykuXHJcbiAgICAqL1xyXG4gICAgdG90YWxVbml0czogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAqIEFtb3VudCBvZiBjYWxscyBmb3IgYSBzaW5nbGUgcGFzcyBvZiBleGVjdXRpb24uXHJcbiAgICAqL1xyXG4gICAgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICogVHlwZSBvZiBjb21tYW5kIGZvciB0aGUgZXhlY3V0aW9uIHByb2Nlc3MuXHJcbiAgICAqL1xyXG4gICAgdHlwZTogQ29tbWFuZFR5cGVzO1xyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBJQ29tbWFuZERhdGEsIEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1hbmRCbG9jayBleHRlbmRzIEJhc2VCbG9jayBpbXBsZW1lbnRzIElDb21tYW5kRGF0YSB7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhc2VVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdG90YWxVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgc2V0OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogQ29tbWFuZFR5cGVzO1xyXG4gICAgcmVhZG9ubHkgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBVbml0czogbnVtYmVyLCBDYWxsQ291bnQ6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogQ29tbWFuZFR5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy5iYXNlVW5pdHMgPSBVbml0cztcclxuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IENhbGxDb3VudDtcclxuICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSB0aGlzLmJhc2VVbml0cyAqIHRoaXMuY2FsbENvdW50O1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTW92ZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvQW5nbGVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1ldGhvZCBjYWxsZWQgaW4gU2V0VXBFdmVudExpc3RlbmVycy50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbW91c2VVcCgpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gaS5lLiBkcm9wcGluZyBibG9ja1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrICYmIGJsb2NrLmNvbW1hbmREYXRhLnR5cGUgPT09IENvbW1hbmRUeXBlcy5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLnggPCB0aGlzLnggKyB0aGlzLncgJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay54ICsgYmxvY2sudyA+IHRoaXMueCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPCB0aGlzLnkgKyB0aGlzLmggJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5oICsgYmxvY2sueSA+IHRoaXMueSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzbmFwIHRoaXMgY29tbWFuZCBibG9jayB0byBlbXB0eSBHcmlkQmxvY2tcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSBibG9jay54O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSA9IGJsb2NrLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBHcmlkQmxvY2sncyBjb21tYW5kRGF0YSBhbmQgY3VycmVudENhbGxDb3VudCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY29tbWFuZERhdGEudHlwZSA9IHRoaXMudHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS5iYXNlVW5pdHMgPSB0aGlzLmJhc2VVbml0cztcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS5jYWxsQ291bnQgPSB0aGlzLmNhbGxDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS50b3RhbFVuaXRzID0gdGhpcy50b3RhbFVuaXRzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmN1cnJlbnRDYWxsQ291bnQgPSB0aGlzLmNhbGxDb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBkZWxldGUgaWYgZHJvcHBpbmcgYmxvY2sgYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhIGVtcHR5IGdyaWQgYmxvY2sgdG8gYmUgc2V0IG9uXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYWcgY29tbWFuZCBibG9ja1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVggLSB0aGlzLncvMjtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lU3RhdGUubW91c2VZIC0gdGhpcy5oLzI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZm9udCA9IFwiMTVweCBBcmlhbFwiO1xyXG4gICAgICAgIGxldCBvZmZzZXRYID0gMzA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsVW5pdHMgPiA5OSkge1xyXG4gICAgICAgICAgICBvZmZzZXRYID0gMjU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG90YWxVbml0cyA8IDEwKSB7XHJcbiAgICAgICAgICAgIG9mZnNldFggPSAzNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsVGV4dCgodGhpcy50b3RhbFVuaXRzKS50b1N0cmluZygpLCB0aGlzLnggKyBvZmZzZXRYLCB0aGlzLnkgKyA0OCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENPTlNJREVSOiBleHRlbmRpbmcgQ29tbWFuZEJsb2NrIGNsYXNzXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sgaW1wbGVtZW50cyBJQ29tbWFuZERhdGEge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYmFzZVVuaXRzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdG90YWxVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICByZWFkb25seSB0eXBlOiBDb21tYW5kVHlwZXM7XHJcbiAgICByZWFkb25seSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IENvbW1hbmRUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5iYXNlVW5pdHMgPSAwO1xyXG4gICAgICAgIHRoaXMuY2FsbENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSAwO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTW92ZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvQW5nbGVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIHBhc3NlZCBpbiBhcyByZWZlcmVuY2UgdG8gY29ycmVzcG9uZGluZyBVSS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZURhdGEgPSAobXVsdGlwbGljYXRpdmU6IG51bWJlciwgYmFzZVVuaXRzOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IG11bHRpcGxpY2F0aXZlO1xyXG4gICAgICAgIHRoaXMuYmFzZVVuaXRzID0gYmFzZVVuaXRzO1xyXG4gICAgICAgIHRoaXMudG90YWxVbml0cyA9IHRoaXMuYmFzZVVuaXRzICogdGhpcy5jYWxsQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy5iYXNlVW5pdHMsIHRoaXMuY2FsbENvdW50LCB0aGlzLkNvbG9yLCB0aGlzLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZvbnQgPSBcIjE1cHggQXJpYWxcIjtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IDMwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFVuaXRzID4gOTkpIHtcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDI1O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy50b3RhbFVuaXRzIDwgMTApIHtcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDM1O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxUZXh0KCh0aGlzLnRvdGFsVW5pdHMpLnRvU3RyaW5nKCksIHRoaXMueCArIG9mZnNldFgsIHRoaXMueSArIDQ4KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgRmxvd1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd0Jsb2NrIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIHByb3RlY3RlZCBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHJlYWRvbmx5IHR5cGU6IEZsb3dUeXBlcztcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdzogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG4gICAgcHVibGljIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBzZXQ6IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IEZsb3dUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLlVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVXBBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvRG93bkFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLkxlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9MZWZ0QXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9SaWdodEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbWV0aG9kIGNhbGxlZCBpbiBTZXRVcEV2ZW50TGlzdGVuZXJzLnRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtb3VzZVVwKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBkcm9wIGZsb3cgYmxvY2tcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jayAmJiBibG9jay5mbG93VHlwZSA9PT0gRmxvd1R5cGVzLkVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sueCA8IHRoaXMueCArIHRoaXMudyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnggKyBibG9jay53ID4gdGhpcy54ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueSA8IHRoaXMueSArIHRoaXMuaCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmggKyBibG9jay55ID4gdGhpcy55KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNuYXAgdGhpcyBmbG93IGJsb2NrIHRvIGVtcHR5IEdyaWRCbG9ja1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueCA9IGJsb2NrLng7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ID0gYmxvY2sueTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suZmxvd1R5cGUgPSB0aGlzLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGNvbmRpdGlvbmFsIHByb3BlcnRpZXMgaGVyZSBpZiBjb25kaXRpb25hbCBibG9ja1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGRlbGV0ZSBpZiBkcm9wcGluZyBibG9jayBhbmQgaXQgZG9lc24ndCBoYXZlIGFuIGVtcHR5IGdyaWQgYmxvY2sgdG8gYmUgc2V0IG9uXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYWcgZmxvdyBibG9ja1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVggLSB0aGlzLncvMjtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lU3RhdGUubW91c2VZIC0gdGhpcy5oLzI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDT05TSURFUjogRXh0ZW5kaW5nIEZsb3dCbG9jayBoZXJlXHJcbmV4cG9ydCBjbGFzcyBGbG93QmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBjb2xvcjogc3RyaW5nO1xyXG4gICAgcHVibGljIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IHR5cGU6IEZsb3dUeXBlcztcclxuICAgIHJlYWRvbmx5IGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogRmxvd1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5VcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1VwQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuRG93bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0Rvd25BcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvUmlnaHRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBGbG93QmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy5Db2xvciwgdGhpcy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBCYXNlVXNlckludGVyZmFjZSB9IGZyb20gXCIuL0Jhc2VVc2VySW50ZXJmYWNlXCI7XHJcblxyXG4vLyBtYXliZSBhZGQgc3VwcG9ydCBmb3IgdGhyZWFkIHN0YXJ0ZXI/XHJcbmV4cG9ydCBjbGFzcyBTbGlkZXIgaW1wbGVtZW50cyBCYXNlVXNlckludGVyZmFjZSB7XHJcbiAgICBwdWJsaWMgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBzbmFwQW1vdW50OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBlcmNlbnRhZ2U6IG51bWJlcjtcclxuICAgIHB1YmxpYyB2YWx1ZTogbnVtYmVyO1xyXG4gICAgcHVibGljIHVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGN1bGF0ZWRDYWxsQ291bnQ6IG51bWJlciwgYmFzZVVuaXRzOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICByZWFkb25seSBtYXhVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgYmFzZVVuaXRzOiBudW1iZXI7XHJcbiAgICByZWFkb25seSB0eXBlOiBDb21tYW5kVHlwZXMgfCBGbG93VHlwZXM7XHJcbiAgICBwdWJsaWMgc2xpZGVyWDogbnVtYmVyO1xyXG4gICAgcHVibGljIHNsaWRlclk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlckg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlclc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlckNvbG9yOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYmFyWDogbnVtYmVyO1xyXG4gICAgcHVibGljIGJhclk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhckg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhclc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhckNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWCA6bnVtYmVyLCBZOiBudW1iZXIsIE1heFVuaXRzOiBudW1iZXIsIFR5cGU6IENvbW1hbmRUeXBlcyB8IEZsb3dUeXBlcywgVXBkYXRlRGF0YUNhbGxCYWNrOiAoY2FsY3VsYXRlZENhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlcikgPT4gdm9pZCwgU25hcEFtb3VudDogbnVtYmVyID0gMTApIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWF4VW5pdHMgPSBNYXhVbml0cztcclxuICAgICAgICB0aGlzLnNuYXBBbW91bnQgPSBTbmFwQW1vdW50O1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrID0gVXBkYXRlRGF0YUNhbGxCYWNrO1xyXG4gICAgICAgIHRoaXMuYmFzZVVuaXRzID0gTWF0aC5yb3VuZCh0aGlzLm1heFVuaXRzIC8gdGhpcy5zbmFwQW1vdW50KTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMuYmFySCA9IDc1O1xyXG4gICAgICAgIHRoaXMuYmFyVyA9IDEwO1xyXG4gICAgICAgIHRoaXMuYmFyWCA9IFg7XHJcbiAgICAgICAgdGhpcy5iYXJZID0gWTtcclxuICAgICAgICB0aGlzLmJhckNvbG9yID0gXCJ0aGlzdGxlXCI7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJIID0gMTA7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJXID0gMTU7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJYID0gWDtcclxuICAgICAgICB0aGlzLnNsaWRlclkgPSBZICsgdGhpcy5iYXJILzIgLSB0aGlzLnNsaWRlckgvMjtcclxuICAgICAgICB0aGlzLnNsaWRlckNvbG9yID0gXCJwdXJwbGVcIjtcclxuICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxIC0gKHRoaXMuc2xpZGVyWSAtIHRoaXMuYmFyWSArIHRoaXMuc2xpZGVySC8yKSAvIHRoaXMuYmFySDtcclxuICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnBlcmNlbnRhZ2UgKiB0aGlzLnNuYXBBbW91bnQpIC8gdGhpcy5zbmFwQW1vdW50O1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5wdXNoKHRoaXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgZGF0YVxyXG4gICAgICAgIGxldCBjYWxjdWxhdGVkQ2FsbENvdW50ID0gTWF0aC5yb3VuZCgodGhpcy52YWx1ZSAqIHRoaXMubWF4VW5pdHMpL3RoaXMuYmFzZVVuaXRzKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayhjYWxjdWxhdGVkQ2FsbENvdW50LCB0aGlzLmJhc2VVbml0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhclkgLSB0aGlzLnNsaWRlckgvMiA8IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJZICsgdGhpcy5iYXJIIC0gdGhpcy5zbGlkZXJILzIgPiB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBTbGlkZXJZID0gdGhpcy5nYW1lU3RhdGUubW91c2VZO1xyXG4gICAgICAgICAgICAgICAgLy8gZmluZCBwZXJjZW50YWdlIHNsaWRlciBpcyB1cCB2ZXJ0aWNhbCBvbiBiYXJcclxuICAgICAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IDEgLSAodGVtcFNsaWRlclkgLSB0aGlzLmJhclkgKyB0aGlzLnNsaWRlckgvMikgLyB0aGlzLmJhckg7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIHRvIGJlIHRoZSByb3VuZGVkIHBlcmNlbnRhZ2UgYmFzZWQgb24gc25hcCBhbW91bnRcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBNYXRoLnJvdW5kKHRoaXMucGVyY2VudGFnZSAqIHRoaXMuc25hcEFtb3VudCkgLyB0aGlzLnNuYXBBbW91bnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgc2xpZGVyWSB2YWx1ZSBiYXNlZCBvbiBuZXcgdmFsdWUgZnJvbSB0aGUgcm91bmRlZCBwZXJjYW50YWdlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlclkgPSB0aGlzLmJhckggKyB0aGlzLmJhclkgLSAodGhpcy5zbGlkZXJILzIpIC0gKHRoaXMudmFsdWUgKiB0aGlzLmJhckgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjYWxjdWxhdGVkQ2FsbENvdW50ID0gTWF0aC5yb3VuZCgodGhpcy52YWx1ZSAqIHRoaXMubWF4VW5pdHMpL3RoaXMuYmFzZVVuaXRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayhjYWxjdWxhdGVkQ2FsbENvdW50LCB0aGlzLmJhc2VVbml0cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYXcgYmFyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuYmFyWCwgdGhpcy5iYXJZLCB0aGlzLmJhclcsIHRoaXMuYmFySCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgc2xpZGVyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2xpZGVyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuc2xpZGVyWCAtIHRoaXMuc2xpZGVySC80LCB0aGlzLnNsaWRlclksIHRoaXMuc2xpZGVyVywgdGhpcy5zbGlkZXJIKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJhc2VVc2VySW50ZXJmYWNlIH0gZnJvbSBcIi4vQmFzZVVzZXJJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCJcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGhyZWFkT2JzZXJ2ZXIgaW1wbGVtZW50cyBCYXNlVXNlckludGVyZmFjZSB7XHJcbiAgICBwdWJsaWMgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHB1YmxpYyBoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdzogbnVtYmVyO1xyXG4gICAgcHVibGljIG1heFVuaXRzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYmFzZVVuaXRzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgcHVibGljIHRocmVhZHM6IG51bWJlcjtcclxuICAgIHVwZGF0ZURhdGFDYWxsQmFjazogKHRvdGFsVGhyZWFkczogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIE1heFVuaXRzOiBudW1iZXIsIFVwZGF0ZURhdGFDYWxsQmFjazogKHRvdGFsVGhyZWFkczogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlcikgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLmggPSBIO1xyXG4gICAgICAgIHRoaXMudyA9IFc7XHJcbiAgICAgICAgdGhpcy5tYXhVbml0cyA9IE1heFVuaXRzO1xyXG4gICAgICAgIHRoaXMudGhyZWFkcyA9IDE7XHJcbiAgICAgICAgdGhpcy5iYXNlVW5pdHMgPSAxO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrID0gVXBkYXRlRGF0YUNhbGxCYWNrO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLnVzZXJJbnRlcmZhY2VzLnB1c2godGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgZGF0YVxyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrKHRoaXMudGhyZWFkcywgdGhpcy5iYXNlVW5pdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVjYWxjdWxhdGVFeGlzdGluZ1RocmVhZENvdW50cygpIDogdm9pZCB7XHJcbiAgICAgICAgbGV0IHRlbXBUaHJlYWRBcnJheTogQ29tbWFuZEJsb2NrW10gPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSBDb21tYW5kVHlwZXMuU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wVGhyZWFkQXJyYXkucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc29ydCB0ZW1wIHRocmVhZCBhcnJheSwgdG90YWxVbml0cyBpcyB0aGUgdGhyZWFkIGNvdW50XHJcbiAgICAgICAgdGVtcFRocmVhZEFycmF5LnNvcnQoKGEsYikgPT4gKGEudG90YWxVbml0cyA+IGIudG90YWxVbml0cykgPyAxIDogKChiLnRvdGFsVW5pdHMgPiBhLnRvdGFsVW5pdHMpID8gLTEgOiAwKSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcFRocmVhZEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpICsgMSA8IHRlbXBUaHJlYWRBcnJheVtpXS50b3RhbFVuaXRzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdWJ0cmFjdCB0aHJlYWQgY291bnQgaWYgbm90IGluIG9yZGVyIGkuZS4gMSwgMiwgNC4gLT4gNCB0dXJucyBpbnRvIDNcclxuICAgICAgICAgICAgICAgIHRlbXBUaHJlYWRBcnJheVtpXS50b3RhbFVuaXRzLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlVXAoKSA6IHZvaWQgeyBcclxuICAgICAgICBsZXQgdGVtcFRocmVhZENvdW50ID0gMTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLnR5cGUgPT09IENvbW1hbmRUeXBlcy5TdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBUaHJlYWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudGhyZWFkcyA9IHRlbXBUaHJlYWRDb3VudDtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2sodGhpcy50aHJlYWRzLCB0aGlzLmJhc2VVbml0cyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVjYWxjdWxhdGVFeGlzdGluZ1RocmVhZENvdW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wVGhyZWFkQ291bnQgPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gQ29tbWFuZFR5cGVzLlN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBUaHJlYWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRocmVhZHMgPSB0ZW1wVGhyZWFkQ291bnQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayh0aGlzLnRocmVhZHMsIHRoaXMuYmFzZVVuaXRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZnVuY3Rpb24gbW92ZUNhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGlmIChibG9jay5jdXJyZW50Q2FsbENvdW50ID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibW92ZVwiKTtcclxuICAgICAgICBibG9jay5jdXJyZW50Q2FsbENvdW50LS07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuZ2xlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgaWYgKGJsb2NrLmN1cnJlbnRDYWxsQ291bnQgPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhbmdsZVwiKTtcclxuICAgICAgICBibG9jay5jdXJyZW50Q2FsbENvdW50LS07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHdpbGwgb25seSBoYXZlIGZpbmROZXh0RXhlY3V0aW9uIGJpdFxyXG4vLyB3b24ndCBkbyBhbnl0aGluZyBleGNlcHQgY29udGludWUgZXhlY3V0aW9uIGlmIHBsYXllcnMgdXNlIGl0IGxpa2UgYSBub3JtYWwgY29tbWFuZCBibG9ja1xyXG5mdW5jdGlvbiBzdGFydENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XHJcbiAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE5ld1RocmVhZENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHRocmVhZDogbnVtYmVyKSB7XHJcbiAgICAvLyBsb2NhdGUgdGhyZWFkXHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2suY29tbWFuZERhdGEudHlwZSA9PT0gQ29tbWFuZFR5cGVzLlN0YXJ0IC8vJiYgdGhyZWFkTnVtYmVyID09PSB0aHJlYWRcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93VHlwZXMuRW1wdHkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHRocmVhZFxyXG4gICAgICAgICAgICAgICAgZmluZE5leHRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmROZXh0Q2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgcHJldkJsb2NrOiBHcmlkQmxvY2spIDogdm9pZCB7XHJcbiAgICBsZXQgdGFyZ2V0Um93OiBudW1iZXI7XHJcbiAgICBsZXQgdGFyZ2V0Q29sOiBudW1iZXI7XHJcbiAgICAvLyByZXNldCBjYWxsIGNvdW50XHJcbiAgICBwcmV2QmxvY2suY3VycmVudENhbGxDb3VudCA9IHByZXZCbG9jay5jb21tYW5kRGF0YS5jYWxsQ291bnQ7XHJcbiAgICAvLyBUT0RPOiBhZGQgY29uZGl0aW9uYWxzXHJcbiAgICAvLyB0aGlzIHdpbGwgd29yayB3ZWxsIGhlcmUgc2luY2UgZWFjaCBjYWxsIGZpbmRzIHRoZSBuZXh0IGNhbGxcclxuICAgIC8vIGFmdGVyIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXHJcbiAgICBzd2l0Y2gocHJldkJsb2NrLmZsb3dUeXBlKSB7XHJcbiAgICAgICAgY2FzZSBGbG93VHlwZXMuVXA6XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yIC0gMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gcHJldkJsb2NrLmM7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yICsgMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gcHJldkJsb2NrLmM7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYyArIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEZsb3dUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYyAtIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2suciA9PT0gdGFyZ2V0Um93ICYmIGJsb2NrLmMgPT09IHRhcmdldENvbFxyXG4gICAgICAgICAgICAgICAgJiYgYmxvY2suY29tbWFuZERhdGEudHlwZSAhPT0gQ29tbWFuZFR5cGVzLkVtcHR5XHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5mbG93VHlwZSAhPT0gRmxvd1R5cGVzLkVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goYmxvY2suY29tbWFuZERhdGEudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gYW5nbGVDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gbW92ZUNhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gc3RhcnRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vZGVjbGFyYXRpb25zL2pzb24uZC50c1wiIC8+XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgbGV2ZWwxIGZyb20gJy4uL2RhdGEvbGV2ZWxzL2xldmVsMS5qc29uJztcclxuaW1wb3J0IHsgR2VuZXJhdGVMZXZlbCB9IGZyb20gXCIuL0dlbmVyYXRlTGV2ZWxcIjtcclxuaW1wb3J0IHsgU2V0VXBFdmVudExpc3RlbmVycyB9IGZyb20gXCIuL1NldFVwRXZlbnRMaXN0ZW5lcnNcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrIH0gZnJvbSBcIi4vRmxvd0Jsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9jayB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5cclxuLy8gVE9ETzogYWRkIHNwZWNpYWwgdW5pdCBsb2dpYyBmb3Igc3RhcnQgYmxvY2sgLyB0aHJlYWQgYmxvY2tzIHNpbmNlIHRoZXkgZG9uJ3QgZm9sbG93IHNhbWUgcnVsZXNcclxuLy8gLT4gaS5lLiB3aWxsIG5lZWQgdG8gZG8gYSBzd2l0Y2ggb24gdHlwZSB3aGVuIHVwZGF0aW5nIHVuaXQgdmFsdWVzIHdpdGhpbiBjb21tYW5kIGJsb2NrIGJ1dHRvbnMgdXBkYXRlIG1ldGhvZFxyXG4vLyBUT0RPOiBhZGQgYmlnIHllbGxvdyBibG9jayB0aGF0IHJlbmRlcnMgYmVoaW5kIGdyaWQgYmxvY2tzIHRvIGluZGljYXRlIHdoaWNoIGJsb2NrIGlzIGN1cnJlbnRseSBiZWluZyBleGVjdXRlZFxyXG4vLyBUT0RPOiBoYXZlIEZsb3dCbG9ja0J1dHRvbiBhbmQgQ29tbWFuZEJsb2NrQnV0dG9ucyBleHRlbmQgZnJvbSB0aGVpciByZXNwZWN0aXZlIGJsb2Nrc1xyXG4vLyBUT0RPOiBwdXNoIG1vc3QgcmVjZW50bHkgY2xpY2tlZCBjb21tYW5kIC8gZmxvdyBibG9jayB0byB0b3Agb2YgYmxvY2sgYXJyYXkgdG8gcmVuZGVyIGl0IG9uIHRvcCBvZiBldmVyeXRoaW5nIGVsc2VcclxuLy8gVE9ETzogc3dpdGNoIHNwYWNlYmFyIGNvbnRyb2wgYnV0dG9uIHRvIGNsaWNrYWJsZSByYWRpbyBidXR0b25cclxuLy8gVE9ETzogYWRkIGJhc2UgVUkgY2xhc3MgLyBzd2l0Y2ggc2xpZGVyW10gdG8gYmFzZVVJRWxlbWVudFtdIGluIEdhbWVTdGF0ZVxyXG4vLyBUT0RPOiBhZGQgZXhlY3V0ZSBwcm9ncmFtIC8gc3RvcCBwcm9ncmFtIGJ1dHRvbnNcclxuLy8gVE9ETzogYWRkIG1hbmlmb2xkIGNvbGxpc2lvbiBzeXN0ZW0gZm9yIGdyaWRibG9jayBjb2xsaXNpb24gd2l0aCBmbG93IGFuZCBjb21tYW5kIGJsb2Nrcy5cclxuLy8gLT4gaS5lLiBzbmFwIGNvbW1hbmQgYmxvY2sgdG8gZ3JpZCBibG9jayB0aGF0IGhhcyB0aGUgYmlnZ2VzdCBtYW5pZm9sZFxyXG5cclxuLy8gc2V0IHVwIGdhbWUgc3RhdGVcclxudmFyIGdhbWVTdGF0ZSA9IG5ldyBHYW1lU3RhdGUoKTtcclxuR2VuZXJhdGVMZXZlbChnYW1lU3RhdGUsIGxldmVsMSwgXCJsaWdodGJsdWVcIik7XHJcblNldFVwRXZlbnRMaXN0ZW5lcnMoZ2FtZVN0YXRlKTtcclxuXHJcbmZ1bmN0aW9uIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5jbGVhclJlY3QoMCwgMCwgZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCwgZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAvLyByZW5kZXIgVUkgZWxlbWVudHNcclxuICAgIGdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5mb3JFYWNoKHVzZXJJbnRlcmZhY2UgPT4ge1xyXG4gICAgICAgIHVzZXJJbnRlcmZhY2UuZHJhdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcmVuZGVyIGFsbCBub24tZmxvdyBibG9ja3MgZmlyc3RcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKCEoYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spKSB7XHJcbiAgICAgICAgICAgIGJsb2NrLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIGZsb3cgYmxvY2tzIGxhc3QgdG8gbGF5ZXIgdGhlbSBvbiB0b3Agb2YgY29tbWFuZCBibG9ja3NcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSB7XHJcbiAgICAgICAgICAgIGJsb2NrLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBnYW1lU3RhdGUuY3R4LnN0cm9rZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBibG9jay51cGRhdGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5mb3JFYWNoKHVzZXJJbnRlcmZhY2UgPT4ge1xyXG4gICAgICAgIHVzZXJJbnRlcmZhY2UudXBkYXRlKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgdXBkYXRlKCk7XHJcbiAgICBkcmF3KCk7XHJcblxyXG4gICAgY29uc3QgY2FsbFN0YWNrID0gZ2FtZVN0YXRlLm5leHRTdGFjaztcclxuICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sgPSBbXTtcclxuXHJcbiAgICBpZiAoY2FsbFN0YWNrLmxlbmd0aCA+IDAgJiYgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nKSB7XHJcbiAgICAgICAgY2FsbFN0YWNrLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAvLyB3aWxsIGNhbGwgY29tbWFuZCBhbmQgcHVzaCBpdCBiYWNrIG9uIHN0YWNrXHJcbiAgICAgICAgICAgIGlmIChibG9jay5jdXJyZW50Q2FsbENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYmxvY2suY2FsbCgpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjay5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBlbHNlIGp1c3QgY2FsbCBvbmNlIGFuZCBmaW5kIG5leHQgY2FsbFxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbn0sIDEyKTsiLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2tCdXR0b24gfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tIFwiLi9TbGlkZXJcIjtcclxuaW1wb3J0IHsgVGhyZWFkT2JzZXJ2ZXIgfSBmcm9tIFwiLi9UaHJlYWRPYnNlcnZlclwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdlbmVyYXRlTGV2ZWwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGxldmVsT2JqOiBvYmplY3QsIHBhbGV0dGVDb2xvcjogc3RyaW5nKSB7XHJcbiAgICBsZXQgeU9mZnNldDogbnVtYmVyID0gNTtcclxuICAgIGxldCB4T2Zmc2V0OiBudW1iZXIgPSA1O1xyXG4gICAgbGV0IG1heFhPZmZzZXQ6IG51bWJlciA9IDA7XHJcbiAgICBsZXQgbWF4WU9mZnNldDogbnVtYmVyID0gMDtcclxuICAgIGxldCBjb21tYW5kUGFsZXR0ZUg6IG51bWJlciA9IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfaGVpZ2h0XCJdO1xyXG4gICAgbGV0IGNvbW1hbmRQYWxldHRlVzogbnVtYmVyID0gbGV2ZWxPYmpbXCJjb21tYW5kX3BhbGV0dGVcIl1bXCJibG9ja193aWR0aFwiXVxyXG5cclxuICAgIC8vIHNldCB1cCBncmlkIGZvciBDb21tYW5kIFBhbGV0dGVcclxuICAgIC8vIGFzc2lnbiByb3cgYW5kIGNvbHVtbiB2YWx1ZXMgdG8gZ3JpZCBibG9ja3NcclxuICAgIGZvciAodmFyIHIgPSAwOyByIDwgY29tbWFuZFBhbGV0dGVIOyByKyspIHtcclxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvbW1hbmRQYWxldHRlVzsgYysrKSB7XHJcbiAgICAgICAgICAgIG5ldyBHcmlkQmxvY2soZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIHIsIGMsIHBhbGV0dGVDb2xvcik7XHJcbiAgICAgICAgICAgIHhPZmZzZXQgKz0gNTU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHlPZmZzZXQgKz0gNTU7XHJcbiAgICAgICAgbWF4WE9mZnNldCA9IHhPZmZzZXQ7XHJcbiAgICAgICAgeE9mZnNldCA9IDU7XHJcbiAgICB9XHJcblxyXG4gICAgbWF4WU9mZnNldCA9IHlPZmZzZXQ7XHJcbiAgICB5T2Zmc2V0ID0gbWF4WU9mZnNldCArIDIwO1xyXG5cclxuICAgIC8vIHNldCB1cCBDb21tYW5kIEJsb2NrIEJ1dHRvbnNcclxuICAgIC8vIENPTlNJREVSOiBBY2NvbW1vZGF0aW5nIGZvciBjb21tYW5kIHBhbGV0dGUgd2lkdGhcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxPYmpbXCJjb21tYW5kX2Jsb2Nrc1wiXS5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBzd2l0Y2gobGV2ZWxPYmpbXCJjb21tYW5kX2Jsb2Nrc1wiXVtpXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwic3RhcnRcIjpcclxuICAgICAgICAgICAgICAgIGxldCBzdGFydEJsb2NrID0gbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRUeXBlcy5TdGFydCk7XHJcbiAgICAgICAgICAgICAgICBuZXcgVGhyZWFkT2JzZXJ2ZXIoZ2FtZVN0YXRlLCBzdGFydEJsb2NrLngsIHN0YXJ0QmxvY2sueSwgc3RhcnRCbG9jay5oLCBzdGFydEJsb2NrLncsIGNvbW1hbmRQYWxldHRlSCAqIGNvbW1hbmRQYWxldHRlVywgc3RhcnRCbG9jay51cGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmVCbG9jayA9IG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kVHlwZXMuTW92ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdXAgc2xpZGVyLCBwYXNzIGluIHJlZmVyZW5jZSB0byBtb3ZlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBuZXcgU2xpZGVyKGdhbWVTdGF0ZSwgeE9mZnNldCArIDIwLCB5T2Zmc2V0ICsgNjAsIDEwMCwgQ29tbWFuZFR5cGVzLk1vdmUsIG1vdmVCbG9jay51cGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYW5nbGVcIjpcclxuICAgICAgICAgICAgICAgIGxldCBhbmdsZUJsb2NrID0gbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRUeXBlcy5BbmdsZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdXAgc2xpZGVyLCBwYXNzIGluIHJlZmVyZW5jZSB0byBhbmdsZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgbmV3IFNsaWRlcihnYW1lU3RhdGUsIHhPZmZzZXQgKyAyMCwgeU9mZnNldCArIDYwLCAzNjAsIENvbW1hbmRUeXBlcy5BbmdsZSwgYW5nbGVCbG9jay51cGRhdGVEYXRhLCA4KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidGhyZWFkXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZFR5cGVzLlRocmVhZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxhc2VyXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcImdyZWVuXCIsIENvbW1hbmRUeXBlcy5MYXNlcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNjYW5cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwiZGFya2JsdWVcIiwgQ29tbWFuZFR5cGVzLlNjYW4pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJncmFwcGxlXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcIm1hcm9vblwiLCBDb21tYW5kVHlwZXMuR3JhcHBsZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgeE9mZnNldCArPSA1NTtcclxuICAgIH1cclxuXHJcbiAgICB4T2Zmc2V0ID0gbWF4WE9mZnNldCArIDIwO1xyXG4gICAgeU9mZnNldCA9IDU7XHJcblxyXG4gICAgLy8gc2V0IHVwIEZsb3cgQmxvY2sgQnV0dG9uc1xyXG4gICAgLy8gQ09OU0lERVI6IEFjY29tbW9kYXRpbmcgZm9yIGNvbW1hbmQgcGFsZXR0ZSBoZWlnaHRcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXS5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBzd2l0Y2gobGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXVtpXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidXBcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5VcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5MZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5SaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5Eb3duKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9jaywgQ29tbWFuZEJsb2NrQnV0dG9uIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2ssIEZsb3dCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMsIEZsb3dUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcbmltcG9ydCB7IHN0YXJ0TmV3VGhyZWFkQ2FsbCB9IGZyb20gXCIuL1Byb2dyYW1FeGVjdXRpb25cIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4vU2xpZGVyXCI7XHJcbmltcG9ydCB7IFRocmVhZE9ic2VydmVyIH0gZnJvbSBcIi4vVGhyZWFkT2JzZXJ2ZXJcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRVcEV2ZW50TGlzdGVuZXJzKGdhbWVTdGF0ZTogR2FtZVN0YXRlKSB7XHJcbiAgICBnYW1lU3RhdGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBDb2xsaXNpb24gZGV0ZWN0aW9uIGJldHdlZW4gY2xpY2tlZCBvZmZzZXQgYW5kIGJsb2NrLlxyXG4gICAgICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gYmxvY2sueSAmJiBnYW1lU3RhdGUubW91c2VZIDwgYmxvY2sueSArIGJsb2NrLmhcclxuICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBibG9jay54ICYmIGdhbWVTdGF0ZS5tb3VzZVggPCBibG9jay54ICsgYmxvY2sudykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHJhZGlvIGJ1dHRvbiBmb3IgZmxvdyBvciBjb21tYW5kIGNvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNvbW1hbmREYXRhLnR5cGUgPSBDb21tYW5kVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5mbG93VHlwZSA9IEZsb3dUeXBlcy5FbXB0eTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIHNsaWRlcnMgYmVpbmcgY2xpY2tlZFxyXG4gICAgICAgIGdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5mb3JFYWNoKHMgPT4ge1xyXG4gICAgICAgICAgICBpZiAocyBpbnN0YW5jZW9mIFNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5tb3VzZVkgPiBzLnNsaWRlclkgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IHMuc2xpZGVyWSArIHMuc2xpZGVySFxyXG4gICAgICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBzLnNsaWRlclggJiYgZ2FtZVN0YXRlLm1vdXNlWCA8IHMuc2xpZGVyWCArIHMuc2xpZGVyVykge1xyXG4gICAgICAgICAgICAgICAgICAgIHMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocyBpbnN0YW5jZW9mIFRocmVhZE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLm1vdXNlWSA+IHMueSAmJiBnYW1lU3RhdGUubW91c2VZIDwgcy55ICsgcy5oXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgZ2FtZVN0YXRlLm1vdXNlWCA+IHMueCAmJiBnYW1lU3RhdGUubW91c2VYIDwgcy54ICsgcy53KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAvLyBtYWtlIHN1cmUgYWxsIGNsaWNrYWJsZSBlbnRpdGllcyBhcmVuJ3QgY2xpY2thYmxlIG9uIG1vdXNldXBcclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgICAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2tcclxuICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2subW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2subW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2subW91c2VVcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5mb3JFYWNoKHVzZXJJbnRlcmZhY2UgPT4ge1xyXG4gICAgICAgICAgICB1c2VySW50ZXJmYWNlLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodXNlckludGVyZmFjZSBpbnN0YW5jZW9mIFRocmVhZE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VySW50ZXJmYWNlLm1vdXNlVXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZ0OiBNb3VzZUV2ZW50KSA6IHZvaWQge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5tb3VzZVggPSAoZXZ0LmNsaWVudFggLSBnYW1lU3RhdGUucmVjdC5sZWZ0KSAvIChnYW1lU3RhdGUucmVjdC5yaWdodCAtIGdhbWVTdGF0ZS5yZWN0LmxlZnQpICogZ2FtZVN0YXRlLmNhbnZhcy53aWR0aDtcclxuICAgICAgICBnYW1lU3RhdGUubW91c2VZID0gKGV2dC5jbGllbnRZIC0gZ2FtZVN0YXRlLnJlY3QudG9wKSAvIChnYW1lU3RhdGUucmVjdC5ib3R0b20gLSBnYW1lU3RhdGUucmVjdC50b3ApICogZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgd2luZG93Lm9ua2V5dXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgLy8gaS5lLiBTcGFjZUJhciBwcmVzc2VkXHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzIpIHtcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmZsb3dDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21tYW5kIENvbnRyb2whXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuZmxvd0NvbnRyb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGbG93IENvbnRyb2whXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpLmUuIFMga2V5IHByZXNzZWRcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSA4Mykge1xyXG4gICAgICAgICAgICBpZiAoIWdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgcHJvZ3JhbVxyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TmV3VGhyZWFkQ2FsbChnYW1lU3RhdGUsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIFMga2V5IGlzIHByZXNzZWQgd2hpbGUgcHJvZ3JhbSBpcyBydW5uaW5nXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc3RvcCBwcm9ncmFtXHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=