!function(t){var e={};function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle"],flow_blocks:["up","down","left","right"]}},function(t,e,o){"use strict";o.r(e);var n,a,s=function(){return function(t){this.canvas=t&&t.canvas||document.getElementById("gameScreen"),this.ctx=t&&t.ctx||this.canvas.getContext("2d"),this.rect=t&&t.rect||this.canvas.getBoundingClientRect(),this.blocks=t&&t.blocks||[],this.mouseX=t&&t.mouseX||0,this.mouseY=t&&t.mouseY||0,this.commandControl=t&&t.commandControl||!0,this.flowControl=t&&t.flowControl||!1,this.callStack=t&&t.callStack||[],this.programRunning=t&&t.programRunning||!1}}(),i=o(0),r=function(){function t(t,e,o,n,a,s){this.GameState=t,this.X=e,this.Y=o,this.H=n,this.W=a,this.Color=s,this.gameState=t,this.x=e,this.y=o,this.h=n,this.w=a,this.color=s}return t.prototype.draw=function(){},t.prototype.update=function(){},t}();!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Thread=4]="Thread",t[t.Scan=5]="Scan",t[t.Laser=6]="Laser",t[t.Grapple=7]="Grapple"}(n||(n={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(a||(a={}));var c=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(t){function e(e,o,a,s,i,r,c){var l=t.call(this,e,o,a,s,i,r)||this;switch(l.mouseDown=!0,l.set=!1,l.type=c,l.image=new Image,c){case n.Start:l.image.src="data/textures/StartBlock.png";break;case n.Move:l.image.src="data/textures/MoveBlock.png";break;case n.Angle:l.image.src="data/textures/AngleBlock.png";break;case n.Thread:l.image.src="data/textures/ThreadBlock.png"}return l.gameState.blocks.push(l),l}return c(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y)},e}(r),h=function(t){function e(e,o,a,s,i,r,c){var l=t.call(this,e,o,a,s,i,r)||this;switch(l.mouseDown=!1,l.type=c,l.image=new Image,c){case n.Start:l.image.src="data/textures/StartBlock.png";break;case n.Move:l.image.src="data/textures/MoveBlock.png";break;case n.Angle:l.image.src="data/textures/AngleBlock.png";break;case n.Thread:l.image.src="data/textures/ThreadBlock.png"}return l.gameState.blocks.push(l),l}return c(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new l(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y)},e}(r),u=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(t){function e(e,o,n,s,i,r,c){var l=t.call(this,e,o,n,s,i,r)||this;switch(l.gameState=e,l.type=c,l.mouseDown=!0,l.set=!1,l.image=new Image,c){case a.Up:l.image.src="data/textures/UpArrow.png";break;case a.Down:l.image.src="data/textures/DownArrow.png";break;case a.Left:l.image.src="data/textures/LeftArrow.png";break;case a.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return u(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),p=function(t){function e(e,o,n,s,i,r,c){var l=t.call(this,e,o,n,s,i,r)||this;switch(l.type=c,l.mouseDown=!1,l.image=new Image,c){case a.Up:l.image.src="data/textures/UpArrow.png";break;case a.Down:l.image.src="data/textures/DownArrow.png";break;case a.Left:l.image.src="data/textures/LeftArrow.png";break;case a.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return u(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new m(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),f=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(t){function e(e,o,s,i,r,c,l,h){var u=t.call(this,e,o,s,i,r,h)||this;return u.r=c,u.c=l,u.commandType=n.Empty,u.flowType=a.Empty,u.gameState.blocks.push(u),u}return f(e,t),e.prototype.update=function(){var t=this;this.gameState.blocks.forEach(function(e){(e instanceof l||e instanceof m)&&!1===e.mouseDown&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.commandType===n.Empty&&e instanceof l?(e.x=t.x,e.y=t.y,e.set=!0,t.commandType=e.type):t.flowType===a.Empty&&e instanceof m&&(e.x=t.x,e.y=t.y,e.set=!0,t.flowType=e.type))})},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},e}(r);function w(t){console.log("stopping thread"),t.callStack=[],t.programRunning=!1}function d(t,e){var o,s;switch(e.flowType){case a.Up:o=e.r-1,s=e.c;break;case a.Down:o=e.r+1,s=e.c;break;case a.Right:s=e.c+1,o=e.r;break;case a.Left:s=e.c-1,o=e.r}return t.blocks.forEach(function(e){if(e instanceof g&&e.r===o&&e.c===s&&e.commandType!==n.Empty&&e.flowType!==a.Empty)switch(e.commandType){case n.Angle:return function(t,e){console.log("angle"),t.callStack.push(d(t,e))}(t,e);case n.Move:return function(t,e){console.log("move"),t.callStack.push(d(t,e))}(t,e);case n.Start:return function(t,e){console.log("start"),t.callStack.push(d(t,e))}(t,e);default:return w(t)}}),w(t)}var y=new s;!function(t,e,o){for(var s=5,i=5,r=0,c=0;c<e.command_palette.block_height;c++){for(var l=0;l<e.command_palette.block_width;l++)new g(t,i,s,50,50,c,l,o),i+=55;s+=55,r=i,i=5}s+=20;for(var u=0;u<e.command_blocks.length;u++){switch(e.command_blocks[u]){case"start":new h(t,i,s,50,50,"thistle",n.Start);break;case"move":new h(t,i,s,50,50,"thistle",n.Move);break;case"angle":new h(t,i,s,50,50,"thistle",n.Angle);break;case"thread":new h(t,i,s,50,50,"thistle",n.Thread);break;case"laser":new h(t,i,s,50,50,"green",n.Laser);break;case"scan":new h(t,i,s,50,50,"darkblue",n.Scan);break;case"grapple":new h(t,i,s,50,50,"maroon",n.Grapple)}i+=55}for(i=r+20,s=5,u=0;u<e.flow_blocks.length;u++){switch(e.flow_blocks[u]){case"up":new p(t,i,s,50,50,"yellow",a.Up);break;case"left":new p(t,i,s,50,50,"yellow",a.Left);break;case"right":new p(t,i,s,50,50,"yellow",a.Right);break;case"down":new p(t,i,s,50,50,"yellow",a.Down)}s+=55}}(y,i,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof l&&t.commandControl||e instanceof h&&t.commandControl||e instanceof m&&t.flowControl||e instanceof p&&t.flowControl?e.mouseDown=!0:e instanceof g&&(t.commandControl?e.commandType=n.Empty:t.flowControl&&(e.flowType=a.Empty)))})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof l||t instanceof m)&&t.mouseDown&&(t.mouseDown=!1)})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning||(t.programRunning=!0,function(t,e){t.blocks.forEach(function(e){e instanceof g&&e.commandType===n.Start&&e.flowType!==a.Empty&&t.callStack.push(d(t,e))})}(t)))}}(y),setInterval(function(){y.blocks.forEach(function(t){t.update()}),y.ctx.clearRect(0,0,y.canvas.width,y.canvas.height),y.ctx.beginPath(),y.blocks.forEach(function(t){t instanceof m||t.draw()}),y.blocks.forEach(function(t){t instanceof m&&t.draw()}),y.ctx.stroke(),y.callStack.length>0&&y.programRunning?y.callStack.forEach(function(t){t(),y.callStack.pop()}):y.programRunning=!1},12)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Jhc2VCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbWFuZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9GbG93QmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyaWRCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUHJvZ3JhbUV4ZWN1dGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2VuZXJhdGVMZXZlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2V0VXBFdmVudExpc3RlbmVycy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvbW1hbmRCbG9ja1R5cGVzIiwiRmxvd0Jsb2NrVHlwZXMiLCJHYW1lU3RhdGVfR2FtZVN0YXRlIiwib2JqIiwidGhpcyIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjdHgiLCJnZXRDb250ZXh0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJsb2NrcyIsIm1vdXNlWCIsIm1vdXNlWSIsImNvbW1hbmRDb250cm9sIiwiZmxvd0NvbnRyb2wiLCJjYWxsU3RhY2siLCJwcm9ncmFtUnVubmluZyIsIkJhc2VCbG9jayIsIkdhbWVTdGF0ZSIsIlgiLCJZIiwiSCIsIlciLCJDb2xvciIsImdhbWVTdGF0ZSIsIngiLCJ5IiwiaCIsInciLCJjb2xvciIsImRyYXciLCJ1cGRhdGUiLCJDb21tYW5kQmxvY2tfQ29tbWFuZEJsb2NrIiwiX3N1cGVyIiwiQ29tbWFuZEJsb2NrIiwiVHlwZSIsIl90aGlzIiwibW91c2VEb3duIiwic2V0IiwidHlwZSIsImltYWdlIiwiSW1hZ2UiLCJTdGFydCIsInNyYyIsIk1vdmUiLCJBbmdsZSIsIlRocmVhZCIsInB1c2giLCJfX2V4dGVuZHMiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsIkNvbW1hbmRCbG9ja19Db21tYW5kQmxvY2tCdXR0b24iLCJDb21tYW5kQmxvY2tCdXR0b24iLCJGbG93QmxvY2tfRmxvd0Jsb2NrIiwiRmxvd0Jsb2NrIiwiVXAiLCJEb3duIiwiTGVmdCIsIlJpZ2h0IiwiRmxvd0Jsb2NrX2V4dGVuZHMiLCJzdHJva2VTdHlsZSIsIkZsb3dCbG9ja19GbG93QmxvY2tCdXR0b24iLCJGbG93QmxvY2tCdXR0b24iLCJHcmlkQmxvY2tfR3JpZEJsb2NrIiwiR3JpZEJsb2NrIiwiUm93IiwiQ29sdW1uIiwiY29tbWFuZFR5cGUiLCJFbXB0eSIsImZsb3dUeXBlIiwiR3JpZEJsb2NrX2V4dGVuZHMiLCJmb3JFYWNoIiwiYmxvY2siLCJzdG9wVGhyZWFkQ2FsbCIsImNvbnNvbGUiLCJsb2ciLCJmaW5kTmV4dENhbGwiLCJ0YXJnZXRSb3ciLCJ0YXJnZXRDb2wiLCJhbmdsZUNhbGwiLCJtb3ZlQ2FsbCIsInN0YXJ0Q2FsbCIsIm1haW5fZ2FtZVN0YXRlIiwibGV2ZWxPYmoiLCJwYWxldHRlQ29sb3IiLCJ5T2Zmc2V0IiwieE9mZnNldCIsIm1heFhPZmZzZXQiLCJsZW5ndGgiLCJMYXNlciIsIlNjYW4iLCJHcmFwcGxlIiwiR2VuZXJhdGVMZXZlbCIsImxldmVsMSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJjbGllbnRYIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJjbGllbnRZIiwidG9wIiwiYm90dG9tIiwiaGVpZ2h0Iiwid2luZG93Iiwib25rZXl1cCIsImUiLCJrZXlDb2RlIiwidGhyZWFkIiwic3RhcnROZXdUaHJlYWRDYWxsIiwiU2V0VXBFdmVudExpc3RlbmVycyIsInNldEludGVydmFsIiwiY2xlYXJSZWN0IiwiYmVnaW5QYXRoIiwic3Ryb2tlIiwicG9wIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEs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aUJuQixHQUNuQm1CLEVBQU0vQyxTQUtkeUQsRUFBVTdFLE9BQU9rRSxRQUFRLFNBQUFDLEdBQ2pCQSxhQUFpQm5CLEdBQ2pCbUIsRUFBTS9DLFNBSWR5RCxFQUFVakYsSUFBSWlILFNBYVZoQyxFQUFVeEUsVUFBVThFLE9BQVMsR0FBS04sRUFBVXZFLGVBQzVDdUUsRUFBVXhFLFVBQVU2RCxRQUFRLFNBQUEzRyxHQUV4QkEsSUFDQXNILEVBQVV4RSxVQUFVeUcsUUFJeEJqQyxFQUFVdkUsZ0JBQWlCLEdBRWhDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSB7XHJcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICByZWN0OiBDbGllbnRSZWN0IHwgRE9NUmVjdDtcclxuICAgIGJsb2NrczogQmFzZUJsb2NrW107XHJcbiAgICBtb3VzZVg6IG51bWJlcjtcclxuICAgIG1vdXNlWTogbnVtYmVyO1xyXG4gICAgY29tbWFuZENvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBmbG93Q29udHJvbDogYm9vbGVhbjtcclxuICAgIGNhbGxTdGFjazogYW55W107XHJcbiAgICBwcm9ncmFtUnVubmluZzogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKG9iaj86IElHYW1lU3RhdGUpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG9iaiAmJiBvYmouY2FudmFzIHx8IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lU2NyZWVuXCIpO1xyXG4gICAgICAgIHRoaXMuY3R4ID0gb2JqICYmIG9iai5jdHggfHwgPENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD4gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMucmVjdCA9IG9iaiAmJiBvYmoucmVjdCB8fCA8Q2xpZW50UmVjdCB8IERPTVJlY3Q+IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHRoaXMuYmxvY2tzID0gb2JqICYmIG9iai5ibG9ja3MgfHwgW107XHJcbiAgICAgICAgdGhpcy5tb3VzZVggPSBvYmogJiYgb2JqLm1vdXNlWCB8fCAwO1xyXG4gICAgICAgIHRoaXMubW91c2VZID0gb2JqICYmIG9iai5tb3VzZVkgfHwgMDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDb250cm9sID0gb2JqICYmIG9iai5jb21tYW5kQ29udHJvbCB8fCB0cnVlO1xyXG4gICAgICAgIHRoaXMuZmxvd0NvbnRyb2wgPSBvYmogJiYgb2JqLmZsb3dDb250cm9sIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FsbFN0YWNrID0gb2JqICYmIG9iai5jYWxsU3RhY2sgfHwgW107XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtUnVubmluZyA9IG9iaiAmJiBvYmoucHJvZ3JhbVJ1bm5pbmcgfHwgZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdhbWVTdGF0ZSB7XHJcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICByZWN0OiBDbGllbnRSZWN0IHwgRE9NUmVjdDtcclxuICAgIGJsb2NrczogQmFzZUJsb2NrW107XHJcbiAgICBtb3VzZVg6IG51bWJlcjtcclxuICAgIG1vdXNlWTogbnVtYmVyO1xyXG4gICAgY29tbWFuZENvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBmbG93Q29udHJvbDogYm9vbGVhbjtcclxuICAgIGNhbGxTdGFjazogYW55W107XHJcbiAgICBwcm9ncmFtUnVubmluZzogYm9vbGVhbjtcclxufSIsImV4cG9ydCBlbnVtIENvbW1hbmRCbG9ja1R5cGVzIHtcclxuICAgIEVtcHR5LFxyXG4gICAgU3RhcnQsXHJcbiAgICBNb3ZlLFxyXG4gICAgQW5nbGUsXHJcbiAgICBUaHJlYWQsXHJcbiAgICBTY2FuLFxyXG4gICAgTGFzZXIsXHJcbiAgICBHcmFwcGxlXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEZsb3dCbG9ja1R5cGVzIHtcclxuICAgIEVtcHR5LFxyXG4gICAgVXAsXHJcbiAgICBEb3duLFxyXG4gICAgTGVmdCxcclxuICAgIFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0UmlnaHQsXHJcbiAgICBDb25kaXRpb25hbExlZnRVcCxcclxuICAgIENvbmRpdGlvbmFsTGVmdERvd24sXHJcbiAgICBDb25kaXRpb25hbFVwUmlnaHQsXHJcbiAgICBDb25kaXRpb25hbFVwRG93bixcclxuICAgIENvbmRpdGlvbmFsRG93blJpZ2h0XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIEdhbWVTdGF0ZTogR2FtZVN0YXRlLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIFg6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBZOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgSDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIFc6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBDb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy54ID0gWDtcclxuICAgICAgICB0aGlzLnkgPSBZO1xyXG4gICAgICAgIHRoaXMuaCA9IEg7XHJcbiAgICAgICAgdGhpcy53ID0gVztcclxuICAgICAgICB0aGlzLmNvbG9yID0gQ29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpOiB2b2lkIHt9IFxyXG4gICAgdXBkYXRlKCk6IHZvaWQge31cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1hbmRCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBzZXQ6IGJvb2xlYW47XHJcbiAgICB0eXBlOiBDb21tYW5kQmxvY2tUeXBlcztcclxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogQ29tbWFuZEJsb2NrVHlwZXMpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Nb3ZlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0FuZ2xlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVggLSB0aGlzLncvMjtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lU3RhdGUubW91c2VZIC0gdGhpcy5oLzI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5tb3VzZURvd24gJiYgIXRoaXMuc2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG9uQ2xpY2soKSB7XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbi8vIENPTlNJREVSOiBleHRlbmRpbmcgQ29tbWFuZEJsb2NrIGNsYXNzXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgdHlwZTogQ29tbWFuZEJsb2NrVHlwZXM7XHJcbiAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IENvbW1hbmRCbG9ja1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Nb3ZlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0FuZ2xlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBBZGQgdHlwZSB0byBDb21tYW5kQmxvY2sgY29uc3RydWN0b3JcclxuICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9jayh0aGlzLmdhbWVTdGF0ZSwgdGhpcy54LCB0aGlzLnksIHRoaXMuaCwgdGhpcy53LCB0aGlzLkNvbG9yLCB0aGlzLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gaXNDb21tYW5kQmxvY2sob2JqOiBvYmplY3QpIDogb2JqIGlzIENvbW1hbmRCbG9jayB7XHJcbi8vICAgICB2YXIgY29tbWFuZEJsb2NrT2JqIDogQ29tbWFuZEJsb2NrID0gPENvbW1hbmRCbG9jaz5vYmo7XHJcbiAgICBcclxuLy8gICAgIHJldHVybiBjb21tYW5kQmxvY2tPYmoubW91c2VEb3duICE9PSB1bmRlZmluZWQ7XHJcbi8vIH0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGbG93QmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB0eXBlOiBGbG93QmxvY2tUeXBlcztcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHNldDogYm9vbGVhbjtcclxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogRmxvd0Jsb2NrVHlwZXMpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVXBBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Eb3duQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9SaWdodEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWCAtIHRoaXMudy8yO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgLSB0aGlzLmgvMjtcclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLm1vdXNlRG93biAmJiAhdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDT05TSURFUjogRXh0ZW5kaW5nIEZsb3dCbG9jayBoZXJlXHJcbmV4cG9ydCBjbGFzcyBGbG93QmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgdHlwZTogRmxvd0Jsb2NrVHlwZXM7XHJcbiAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IEZsb3dCbG9ja1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVXBBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Eb3duQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9SaWdodEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBGbG93QmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy5Db2xvciwgdGhpcy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jayB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tUeXBlcywgRmxvd0Jsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIHI6IG51bWJlcjtcclxuICAgIGM6IG51bWJlcjtcclxuICAgIGNvbW1hbmRUeXBlOiBDb21tYW5kQmxvY2tUeXBlcztcclxuICAgIGZsb3dUeXBlOiBGbG93QmxvY2tUeXBlcztcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBSb3c6IG51bWJlciwgQ29sdW1uOiBudW1iZXIsIENvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLnIgPSBSb3c7XHJcbiAgICAgICAgdGhpcy5jID0gQ29sdW1uO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFR5cGUgPSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eTtcclxuICAgICAgICB0aGlzLmZsb3dUeXBlID0gRmxvd0Jsb2NrVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBzZWUgaWYgY29tbWFuZCBibG9jayBpcyBiZWluZyBkcm9wcGVkIG9uIGVtcHR5IGdyaWQgYmxvY2tcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5tb3VzZURvd24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLnggPCB0aGlzLnggKyB0aGlzLncgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueCArIGJsb2NrLncgPiB0aGlzLnggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueSA8IHRoaXMueSArIHRoaXMuaCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5oICsgYmxvY2sueSA+IHRoaXMueSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbW1hbmRUeXBlID09PSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnggPSB0aGlzLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFR5cGUgPSBibG9jay50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZmxvd1R5cGUgPT09IEZsb3dCbG9ja1R5cGVzLkVtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnggPSB0aGlzLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxvd1R5cGUgPSBibG9jay50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzLCBGbG93QmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5mdW5jdGlvbiBtb3ZlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgY29uc29sZS5sb2coXCJtb3ZlXCIpO1xyXG4gICAgZ2FtZVN0YXRlLmNhbGxTdGFjay5wdXNoKGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIGJsb2NrKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuZ2xlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgY29uc29sZS5sb2coXCJhbmdsZVwiKTtcclxuICAgIGdhbWVTdGF0ZS5jYWxsU3RhY2sucHVzaChmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jaykpO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiB3aWxsIG9ubHkgaGF2ZSBmaW5kTmV4dEV4ZWN1dGlvbiBiaXRcclxuLy8gd29uJ3QgZG8gYW55dGhpbmcgZXhjZXB0IGNvbnRpbnVlIGV4ZWN1dGlvbiBpZiBwbGF5ZXJzIHVzZSBpdCBsaWtlIGEgbm9ybWFsIGNvbW1hbmQgYmxvY2tcclxuZnVuY3Rpb24gc3RhcnRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgZ2FtZVN0YXRlLmNhbGxTdGFjay5wdXNoKGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIGJsb2NrKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3BUaHJlYWRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInN0b3BwaW5nIHRocmVhZFwiKTtcclxuICAgIGdhbWVTdGF0ZS5jYWxsU3RhY2sgPSBbXTtcclxuICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnROZXdUaHJlYWRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCB0aHJlYWQ6IG51bWJlcikge1xyXG4gICAgLy8gbG9jYXRlIHRocmVhZFxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2spIHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrLmNvbW1hbmRUeXBlID09PSBDb21tYW5kQmxvY2tUeXBlcy5TdGFydCAvLyYmIHRocmVhZE51bWJlciA9PT0gdGhyZWFkXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5mbG93VHlwZSAhPT0gRmxvd0Jsb2NrVHlwZXMuRW1wdHkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHRocmVhZFxyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmNhbGxTdGFjay5wdXNoKGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIGJsb2NrKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmluZE5leHRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSA6IGFueSB7XHJcbiAgICBsZXQgdGFyZ2V0Um93OiBudW1iZXI7XHJcbiAgICBsZXQgdGFyZ2V0Q29sOiBudW1iZXI7XHJcbiAgICAvLyBUT0RPOiBhZGQgY29uZGl0aW9uYWxzXHJcbiAgICAvLyB0aGlzIHdpbGwgd29yayB3ZWxsIGhlcmUgc2luY2UgZWFjaCBjYWxsIGZpbmRzIHRoZSBuZXh0IGNhbGxcclxuICAgIC8vIGFmdGVyIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXHJcbiAgICBzd2l0Y2goYmxvY2suZmxvd1R5cGUpIHtcclxuICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlVwOlxyXG4gICAgICAgICAgICB0YXJnZXRSb3cgPSBibG9jay5yIC0gMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gYmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICB0YXJnZXRSb3cgPSBibG9jay5yICsgMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gYmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5SaWdodDpcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gYmxvY2suYyArIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IGJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuTGVmdDpcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gYmxvY2suYyAtIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IGJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5yID09PSB0YXJnZXRSb3cgJiYgYmxvY2suYyA9PT0gdGFyZ2V0Q29sXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5jb21tYW5kVHlwZSAhPT0gQ29tbWFuZEJsb2NrVHlwZXMuRW1wdHlcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93QmxvY2tUeXBlcy5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGJsb2NrLmNvbW1hbmRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ2xlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3ZlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9wVGhyZWFkQ2FsbChnYW1lU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHN0b3BUaHJlYWRDYWxsKGdhbWVTdGF0ZSk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9kZWNsYXJhdGlvbnMvanNvbi5kLnRzXCIgLz5cclxuaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCBsZXZlbDEgZnJvbSAnLi4vZGF0YS9sZXZlbHMvbGV2ZWwxLmpzb24nO1xyXG5pbXBvcnQgeyBHZW5lcmF0ZUxldmVsIH0gZnJvbSBcIi4vR2VuZXJhdGVMZXZlbFwiO1xyXG5pbXBvcnQgeyBTZXRVcEV2ZW50TGlzdGVuZXJzIH0gZnJvbSBcIi4vU2V0VXBFdmVudExpc3RlbmVyc1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2sgfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuXHJcbi8vIFRPRE86IGFkZCB0ZXh0LWJhc2VkIHVpIGVsZW1lbnRzIHRvIGNvbW1hbmQgYmxvY2tzXHJcbi8vIFRPRE86IGhhdmUgRmxvd0Jsb2NrQnV0dG9uIGFuZCBDb21tYW5kQmxvY2tCdXR0b25zIGV4dGVuZCBmcm9tIHRoZWlyIHJlc3BlY3RpdmUgYmxvY2tzXHJcbi8vIFRPRE86IHB1c2ggbW9zdCByZWNlbnRseSBjbGlja2VkIGNvbW1hbmQgLyBmbG93IGJsb2NrIHRvIHRvcCBvZiBibG9jayBhcnJheSB0byByZW5kZXIgaXQgb24gdG9wIG9mIGV2ZXJ5dGhpbmcgZWxzZVxyXG4vLyBUT0RPOiBzd2l0Y2ggc3BhY2ViYXIgY29udHJvbCBidXR0b24gdG8gY2xpY2thYmxlIHJhZGlvIGJ1dHRvblxyXG5cclxuLy8gc2V0IHVwIGdhbWUgc3RhdGVcclxudmFyIGdhbWVTdGF0ZSA9IG5ldyBHYW1lU3RhdGUoKTtcclxuR2VuZXJhdGVMZXZlbChnYW1lU3RhdGUsIGxldmVsMSwgXCJsaWdodGJsdWVcIik7XHJcblNldFVwRXZlbnRMaXN0ZW5lcnMoZ2FtZVN0YXRlKTtcclxuXHJcbmZ1bmN0aW9uIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5jbGVhclJlY3QoMCwgMCwgZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCwgZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIG5vbi1mbG93IGJsb2NrcyBmaXJzdFxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoIShibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykpIHtcclxuICAgICAgICAgICAgYmxvY2suZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHJlbmRlciBhbGwgZmxvdyBibG9ja3MgbGFzdCB0byBsYXllciB0aGVtIG9uIHRvcCBvZiBjb21tYW5kIGJsb2Nrc1xyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgYmxvY2suZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jdHguc3Ryb2tlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGJsb2NrLnVwZGF0ZSgpO1xyXG4gICAgfSlcclxufVxyXG5cclxuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgdXBkYXRlKCk7XHJcbiAgICBkcmF3KCk7XHJcblxyXG4gICAgaWYgKGdhbWVTdGF0ZS5jYWxsU3RhY2subGVuZ3RoID4gMCAmJiBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcpIHtcclxuICAgICAgICBnYW1lU3RhdGUuY2FsbFN0YWNrLmZvckVhY2goY2FsbCA9PiB7XHJcbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgaG93IHRvIG1ha2UgdGhlc2UgYXN5bmNcclxuICAgICAgICAgICAgY2FsbCgpO1xyXG4gICAgICAgICAgICBnYW1lU3RhdGUuY2FsbFN0YWNrLnBvcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbn0sIDEyKTsiLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2tCdXR0b24gfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMsIEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZW5lcmF0ZUxldmVsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBsZXZlbE9iajogb2JqZWN0LCBwYWxldHRlQ29sb3I6IHN0cmluZykge1xyXG4gICAgbGV0IHlPZmZzZXQ6IG51bWJlciA9IDU7XHJcbiAgICBsZXQgeE9mZnNldDogbnVtYmVyID0gNTtcclxuICAgIGxldCBtYXhYT2Zmc2V0OiBudW1iZXIgPSAwO1xyXG4gICAgbGV0IG1heFlPZmZzZXQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLy8gc2V0IHVwIGdyaWQgZm9yIENvbW1hbmQgUGFsZXR0ZVxyXG4gICAgLy8gYXNzaWduIHJvdyBhbmQgY29sdW1uIHZhbHVlcyB0byBncmlkIGJsb2Nrc1xyXG4gICAgZm9yICh2YXIgciA9IDA7IHIgPCBsZXZlbE9ialtcImNvbW1hbmRfcGFsZXR0ZVwiXVtcImJsb2NrX2hlaWdodFwiXTsgcisrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBsZXZlbE9ialtcImNvbW1hbmRfcGFsZXR0ZVwiXVtcImJsb2NrX3dpZHRoXCJdOyBjKyspIHtcclxuICAgICAgICAgICAgbmV3IEdyaWRCbG9jayhnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgciwgYywgcGFsZXR0ZUNvbG9yKTtcclxuICAgICAgICAgICAgeE9mZnNldCArPSA1NTtcclxuICAgICAgICB9XHJcbiAgICAgICAgeU9mZnNldCArPSA1NTtcclxuICAgICAgICBtYXhYT2Zmc2V0ID0geE9mZnNldDtcclxuICAgICAgICB4T2Zmc2V0ID0gNTtcclxuICAgIH1cclxuXHJcbiAgICBtYXhZT2Zmc2V0ID0geU9mZnNldDtcclxuICAgIHlPZmZzZXQgPSBtYXhZT2Zmc2V0ICsgMjA7XHJcblxyXG4gICAgLy8gc2V0IHVwIENvbW1hbmQgQmxvY2sgQnV0dG9uc1xyXG4gICAgLy8gQ09OU0lERVI6IEFjY29tbW9kYXRpbmcgZm9yIGNvbW1hbmQgcGFsZXR0ZSB3aWR0aFxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZXZlbE9ialtcImNvbW1hbmRfYmxvY2tzXCJdLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgIHN3aXRjaChsZXZlbE9ialtcImNvbW1hbmRfYmxvY2tzXCJdW2ldKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzdGFydFwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRCbG9ja1R5cGVzLk1vdmUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhbmdsZVwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRCbG9ja1R5cGVzLkFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidGhyZWFkXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuVGhyZWFkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibGFzZXJcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwiZ3JlZW5cIiwgQ29tbWFuZEJsb2NrVHlwZXMuTGFzZXIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzY2FuXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcImRhcmtibHVlXCIsIENvbW1hbmRCbG9ja1R5cGVzLlNjYW4pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJncmFwcGxlXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcIm1hcm9vblwiLCBDb21tYW5kQmxvY2tUeXBlcy5HcmFwcGxlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB4T2Zmc2V0ICs9IDU1O1xyXG4gICAgfVxyXG5cclxuICAgIHhPZmZzZXQgPSBtYXhYT2Zmc2V0ICsgMjA7XHJcbiAgICB5T2Zmc2V0ID0gNTtcclxuXHJcbiAgICAvLyBzZXQgdXAgRmxvdyBCbG9jayBCdXR0b25zXHJcbiAgICAvLyBDT05TSURFUjogQWNjb21tb2RhdGluZyBmb3IgY29tbWFuZCBwYWxldHRlIGhlaWdodFxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZXZlbE9ialtcImZsb3dfYmxvY2tzXCJdLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgIHN3aXRjaChsZXZlbE9ialtcImZsb3dfYmxvY2tzXCJdW2ldKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ1cFwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IEZsb3dCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ5ZWxsb3dcIiwgRmxvd0Jsb2NrVHlwZXMuVXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93QmxvY2tUeXBlcy5MZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dCbG9ja1R5cGVzLlJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZG93blwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IEZsb3dCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ5ZWxsb3dcIiwgRmxvd0Jsb2NrVHlwZXMuRG93bik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgeU9mZnNldCArPSA1NTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2ssIENvbW1hbmRCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrLCBGbG93QmxvY2tCdXR0b24gfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMsIEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuaW1wb3J0IHsgc3RhcnROZXdUaHJlYWRDYWxsIH0gZnJvbSBcIi4vUHJvZ3JhbUV4ZWN1dGlvblwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFNldFVwRXZlbnRMaXN0ZW5lcnMoZ2FtZVN0YXRlOiBHYW1lU3RhdGUpIHtcclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIENvbGxpc2lvbiBkZXRlY3Rpb24gYmV0d2VlbiBjbGlja2VkIG9mZnNldCBhbmQgYmxvY2suXHJcbiAgICAgICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGZ1bmN0aW9uKGJsb2NrKSA6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLm1vdXNlWSA+IGJsb2NrLnkgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IGJsb2NrLnkgKyBibG9jay5oXHJcbiAgICAgICAgICAgICAgICAmJiBnYW1lU3RhdGUubW91c2VYID4gYmxvY2sueCAmJiBnYW1lU3RhdGUubW91c2VYIDwgYmxvY2sueCArIGJsb2NrLncpIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9jayAmJiBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja0J1dHRvbiAmJiBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jayAmJiBnYW1lU3RhdGUuZmxvd0NvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9ja0J1dHRvbiAmJiBnYW1lU3RhdGUuZmxvd0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayByYWRpbyBidXR0b24gZm9yIGZsb3cgb3IgY29tbWFuZCBjb250cm9sXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kVHlwZSA9IENvbW1hbmRCbG9ja1R5cGVzLkVtcHR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUuZmxvd0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suZmxvd1R5cGUgPSBGbG93QmxvY2tUeXBlcy5FbXB0eTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgICAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goZnVuY3Rpb24oYmxvY2spIHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrXHJcbiAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICBnYW1lU3RhdGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uKGV2dDogTW91c2VFdmVudCkgOiB2b2lkIHtcclxuICAgICAgICBnYW1lU3RhdGUubW91c2VYID0gKGV2dC5jbGllbnRYIC0gZ2FtZVN0YXRlLnJlY3QubGVmdCkgLyAoZ2FtZVN0YXRlLnJlY3QucmlnaHQgLSBnYW1lU3RhdGUucmVjdC5sZWZ0KSAqIGdhbWVTdGF0ZS5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgZ2FtZVN0YXRlLm1vdXNlWSA9IChldnQuY2xpZW50WSAtIGdhbWVTdGF0ZS5yZWN0LnRvcCkgLyAoZ2FtZVN0YXRlLnJlY3QuYm90dG9tIC0gZ2FtZVN0YXRlLnJlY3QudG9wKSAqIGdhbWVTdGF0ZS5jYW52YXMuaGVpZ2h0O1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIHdpbmRvdy5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIC8vIGkuZS4gU3BhY2VCYXIgcHJlc3NlZFxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDMyKSB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUuZmxvd0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5mbG93Q29udHJvbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tbWFuZCBDb250cm9sIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmZsb3dDb250cm9sID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmxvdyBDb250cm9sIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaS5lLiBTIGtleSBwcmVzc2VkXHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gODMpIHtcclxuICAgICAgICAgICAgaWYgKCFnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzdGFydE5ld1RocmVhZENhbGwoZ2FtZVN0YXRlLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=