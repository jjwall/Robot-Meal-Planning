!function(t){var e={};function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle"],flow_blocks:["up","down","left","right"]}},function(t,e,o){"use strict";o.r(e);var n,a,s=function(){return function(t){this.canvas=t&&t.canvas||document.getElementById("gameScreen"),this.ctx=t&&t.ctx||this.canvas.getContext("2d"),this.rect=t&&t.rect||this.canvas.getBoundingClientRect(),this.blocks=t&&t.blocks||[],this.sliders=t&&t.sliders||[],this.mouseX=t&&t.mouseX||0,this.mouseY=t&&t.mouseY||0,this.commandControl=t&&t.commandControl||!0,this.flowControl=t&&t.flowControl||!1,this.nextStack=t&&t.nextStack||[],this.programRunning=t&&t.programRunning||!1}}(),i=o(0),r=function(){function t(t,e,o,n,a,s){this.GameState=t,this.X=e,this.Y=o,this.H=n,this.W=a,this.Color=s,this.gameState=t,this.x=e,this.y=o,this.h=n,this.w=a,this.color=s}return t.prototype.draw=function(){},t.prototype.update=function(){},t}();!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Thread=4]="Thread",t[t.Scan=5]="Scan",t[t.Laser=6]="Laser",t[t.Grapple=7]="Grapple"}(n||(n={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(a||(a={}));var c=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(t){function e(e,o,a,s,i,r,c){var l=t.call(this,e,o,a,s,i,r)||this;switch(l.mouseDown=!0,l.set=!1,l.type=c,l.image=new Image,c){case n.Start:l.image.src="data/textures/StartBlock.png";break;case n.Move:l.image.src="data/textures/MoveBlock.png";break;case n.Angle:l.image.src="data/textures/AngleBlock.png";break;case n.Thread:l.image.src="data/textures/ThreadBlock.png"}return l.gameState.blocks.push(l),l}return c(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y)},e}(r),h=function(t){function e(e,o,a,s,i,r,c){var l=t.call(this,e,o,a,s,i,r)||this;switch(l.mouseDown=!1,l.type=c,l.image=new Image,c){case n.Start:l.image.src="data/textures/StartBlock.png";break;case n.Move:l.image.src="data/textures/MoveBlock.png";break;case n.Angle:l.image.src="data/textures/AngleBlock.png";break;case n.Thread:l.image.src="data/textures/ThreadBlock.png"}return l.gameState.blocks.push(l),l}return c(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new l(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y)},e}(r),u=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(t){function e(e,o,n,s,i,r,c){var l=t.call(this,e,o,n,s,i,r)||this;switch(l.gameState=e,l.type=c,l.mouseDown=!0,l.set=!1,l.image=new Image,c){case a.Up:l.image.src="data/textures/UpArrow.png";break;case a.Down:l.image.src="data/textures/DownArrow.png";break;case a.Left:l.image.src="data/textures/LeftArrow.png";break;case a.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return u(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),f=function(t){function e(e,o,n,s,i,r,c){var l=t.call(this,e,o,n,s,i,r)||this;switch(l.type=c,l.mouseDown=!1,l.image=new Image,c){case a.Up:l.image.src="data/textures/UpArrow.png";break;case a.Down:l.image.src="data/textures/DownArrow.png";break;case a.Left:l.image.src="data/textures/LeftArrow.png";break;case a.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return u(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new m(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),p=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(t){function e(e,o,s,i,r,c,l,h){var u=t.call(this,e,o,s,i,r,h)||this;return u.r=c,u.c=l,u.commandType=n.Empty,u.flowType=a.Empty,u.gameState.blocks.push(u),u}return p(e,t),e.prototype.update=function(){var t=this;this.gameState.blocks.forEach(function(e){(e instanceof l||e instanceof m)&&!1===e.mouseDown&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.commandType===n.Empty&&e instanceof l?(e.x=t.x,e.y=t.y,e.set=!0,t.commandType=e.type):t.flowType===a.Empty&&e instanceof m&&(e.x=t.x,e.y=t.y,e.set=!0,t.flowType=e.type))})},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},e}(r);function d(t,e){var o,s;switch(e.flowType){case a.Up:o=e.r-1,s=e.c;break;case a.Down:o=e.r+1,s=e.c;break;case a.Right:s=e.c+1,o=e.r;break;case a.Left:s=e.c-1,o=e.r}t.blocks.forEach(function(e){if(e instanceof g&&e.r===o&&e.c===s&&e.commandType!==n.Empty&&e.flowType!==a.Empty)switch(e.commandType){case n.Angle:e.call=function(){return function(t,e){e.callCount>0?(console.log("angle"),e.callCount--):d(t,e)}(t,e)},e.callCount=1,t.nextStack.push(e);break;case n.Move:e.call=function(){return function(t,e){e.callCount>0?(console.log("move"),e.callCount--):d(t,e)}(t,e)},e.callCount=20,t.nextStack.push(e);break;case n.Start:e.call=function(){return function(t,e){console.log("start"),d(t,e)}(t,e)},e.callCount=0,t.nextStack.push(e)}})}var w=function(){function t(t,e,o){this.gameState=t,this.mouseDown=!1,this.barH=75,this.barW=10,this.barX=e,this.barY=o,this.barColor="thistle",this.sliderH=10,this.sliderW=15,this.sliderX=e,this.sliderY=o+this.barH/2-this.sliderH/2,this.sliderColor="purple",this.percentage=1-(this.sliderY-this.barY+this.sliderH/2)/this.barH}return t.prototype.update=function(){this.mouseDown&&this.barY-this.sliderH/2<this.gameState.mouseY&&this.barY+this.barH-this.sliderH/2>this.gameState.mouseY&&(this.sliderY=this.gameState.mouseY,this.percentage=1-(this.sliderY-this.barY+this.sliderH/2)/this.barH)},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.barColor,this.gameState.ctx.fillRect(this.barX,this.barY,this.barW,this.barH),this.gameState.ctx.fillStyle=this.sliderColor,this.gameState.ctx.fillRect(this.sliderX-this.sliderH/4,this.sliderY,this.sliderW,this.sliderH)},t}(),y=new s;!function(t,e,o){for(var s=5,i=5,r=0,c=0;c<e.command_palette.block_height;c++){for(var l=0;l<e.command_palette.block_width;l++)new g(t,i,s,50,50,c,l,o),i+=55;s+=55,r=i,i=5}s+=20;for(var u=0;u<e.command_blocks.length;u++){switch(e.command_blocks[u]){case"start":new h(t,i,s,50,50,"thistle",n.Start);break;case"move":new h(t,i,s,50,50,"thistle",n.Move);break;case"angle":new h(t,i,s,50,50,"thistle",n.Angle);break;case"thread":new h(t,i,s,50,50,"thistle",n.Thread);break;case"laser":new h(t,i,s,50,50,"green",n.Laser);break;case"scan":new h(t,i,s,50,50,"darkblue",n.Scan);break;case"grapple":new h(t,i,s,50,50,"maroon",n.Grapple)}i+=55}for(i=r+20,s=5,u=0;u<e.flow_blocks.length;u++){switch(e.flow_blocks[u]){case"up":new f(t,i,s,50,50,"yellow",a.Up);break;case"left":new f(t,i,s,50,50,"yellow",a.Left);break;case"right":new f(t,i,s,50,50,"yellow",a.Right);break;case"down":new f(t,i,s,50,50,"yellow",a.Down)}s+=55}}(y,i,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof l&&t.commandControl||e instanceof h&&t.commandControl||e instanceof m&&t.flowControl||e instanceof f&&t.flowControl?e.mouseDown=!0:e instanceof g&&(t.commandControl?e.commandType=n.Empty:t.flowControl&&(e.flowType=a.Empty)))}),t.sliders.forEach(function(e){t.mouseY>e.sliderY&&t.mouseY<e.sliderY+e.sliderH&&t.mouseX>e.sliderX&&t.mouseX<e.sliderX+e.sliderW&&(e.mouseDown=!0)})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof l||t instanceof m)&&t.mouseDown&&(t.mouseDown=!1)}),t.sliders.forEach(function(t){t.mouseDown=!1})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning||(t.programRunning=!0,function(t,e){t.blocks.forEach(function(e){e instanceof g&&e.commandType===n.Start&&e.flowType!==a.Empty&&d(t,e)})}(t)))}}(y),y.sliders.push(new w(y,80,365)),y.sliders.push(new w(y,130,365)),setInterval(function(){y.blocks.forEach(function(t){t.update()}),y.sliders.forEach(function(t){t.update()}),y.ctx.clearRect(0,0,y.canvas.width,y.canvas.height),y.ctx.beginPath(),y.sliders.forEach(function(t){t.draw()}),y.blocks.forEach(function(t){t instanceof m||t.draw()}),y.blocks.forEach(function(t){t instanceof m&&t.draw()}),y.ctx.stroke();var t=y.nextStack;y.nextStack=[],t.length>0?t.forEach(function(t){t.callCount>0?(t.call(),y.nextStack.push(t)):t.call()}):y.programRunning=!1},12)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Jhc2VCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbWFuZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9GbG93QmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyaWRCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUHJvZ3JhbUV4ZWN1dGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9HZW5lcmF0ZUxldmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9TZXRVcEV2ZW50TGlzdGVuZXJzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tbWFuZEJsb2NrVHlwZXMiLCJGbG93QmxvY2tUeXBlcyIsIkdhbWVTdGF0ZV9HYW1lU3RhdGUiLCJvYmoiLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmxvY2tzIiwic2xpZGVycyIsIm1vdXNlWCIsIm1vdXNlWSIsImNvbW1hbmRDb250cm9sIiwiZmxvd0NvbnRyb2wiLCJuZXh0U3RhY2siLCJwcm9ncmFtUnVubmluZyIsIkJhc2VCbG9jayIsIkdhbWVTdGF0ZSIsIlgiLCJZIiwiSCIsIlciLCJDb2xvciIsImdhbWVTdGF0ZSIsIngiLCJ5IiwiaCIsInciLCJjb2xvciIsImRyYXciLCJ1cGRhdGUiLCJDb21tYW5kQmxvY2tfQ29tbWFuZEJsb2NrIiwiX3N1cGVyIiwiQ29tbWFuZEJsb2NrIiwiVHlwZSIsIl90aGlzIiwibW91c2VEb3duIiwic2V0IiwidHlwZSIsImltYWdlIiwiSW1hZ2UiLCJTdGFydCIsInNyYyIsIk1vdmUiLCJBbmdsZSIsIlRocmVhZCIsInB1c2giLCJfX2V4dGVuZHMiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsIkNvbW1hbmRCbG9ja19Db21tYW5kQmxvY2tCdXR0b24iLCJDb21tYW5kQmxvY2tCdXR0b24iLCJGbG93QmxvY2tfRmxvd0Jsb2NrIiwiRmxvd0Jsb2NrIiwiVXAiLCJEb3duIiwiTGVmdCIsIlJpZ2h0IiwiRmxvd0Jsb2NrX2V4dGVuZHMiLCJzdHJva2VTdHlsZSIsIkZsb3dCbG9ja19GbG93QmxvY2tCdXR0b24iLCJGbG93QmxvY2tCdXR0b24iLCJHcmlkQmxvY2tfR3JpZEJsb2NrIiwiR3JpZEJsb2NrIiwiUm93IiwiQ29sdW1uIiwiY29tbWFuZFR5cGUiLCJFbXB0eSIsImZsb3dUeXBlIiwiR3JpZEJsb2NrX2V4dGVuZHMiLCJmb3JFYWNoIiwiYmxvY2siLCJmaW5kTmV4dENhbGwiLCJwcmV2QmxvY2siLCJ0YXJnZXRSb3ciLCJ0YXJnZXRDb2wiLCJjYWxsQ291bnQiLCJjb25zb2xlIiwibG9nIiwiYW5nbGVDYWxsIiwibW92ZUNhbGwiLCJzdGFydENhbGwiLCJTbGlkZXIiLCJiYXJIIiwiYmFyVyIsImJhclgiLCJiYXJZIiwiYmFyQ29sb3IiLCJzbGlkZXJIIiwic2xpZGVyVyIsInNsaWRlclgiLCJzbGlkZXJZIiwic2xpZGVyQ29sb3IiLCJwZXJjZW50YWdlIiwibWFpbl9nYW1lU3RhdGUiLCJsZXZlbE9iaiIsInBhbGV0dGVDb2xvciIsInlPZmZzZXQiLCJ4T2Zmc2V0IiwibWF4WE9mZnNldCIsImxlbmd0aCIsIkxhc2VyIiwiU2NhbiIsIkdyYXBwbGUiLCJHZW5lcmF0ZUxldmVsIiwibGV2ZWwxIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsImNsaWVudFgiLCJsZWZ0IiwicmlnaHQiLCJ3aWR0aCIsImNsaWVudFkiLCJ0b3AiLCJib3R0b20iLCJoZWlnaHQiLCJ3aW5kb3ciLCJvbmtleXVwIiwiZSIsImtleUNvZGUiLCJ0aHJlYWQiLCJzdGFydE5ld1RocmVhZENhbGwiLCJTZXRVcEV2ZW50TGlzdGVuZXJzIiwic2V0SW50ZXJ2YWwiLCJzbGlkZXIiLCJjbGVhclJlY3QiLCJiZWdpblBhdGgiLCJzdHJva2UiLCJjYWxsU3RhY2siXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FB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QWlCZCxJQUFNQyxFQUFZbEMsRUFBVXJGLFVBQzVCcUYsRUFBVXJGLGFBRU51SCxFQUFVNUIsT0FBUyxFQUNuQjRCLEVBQVUxRCxRQUFRLFNBQUFDLEdBRVZBLEVBQU1LLFVBQVksR0FDbEJMLEVBQU03RyxPQUNOb0ksRUFBVXJGLFVBQVVnQyxLQUFLOEIsSUFJekJBLEVBQU03RyxTQUtkb0ksRUFBVXBGLGdCQUFpQixHQUVoQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJpbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuL1NsaWRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSB7XHJcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICByZWN0OiBDbGllbnRSZWN0IHwgRE9NUmVjdDtcclxuICAgIGJsb2NrczogQmFzZUJsb2NrW107XHJcbiAgICBzbGlkZXJzOiBTbGlkZXJbXTtcclxuICAgIG1vdXNlWDogbnVtYmVyO1xyXG4gICAgbW91c2VZOiBudW1iZXI7XHJcbiAgICBjb21tYW5kQ29udHJvbDogYm9vbGVhbjtcclxuICAgIGZsb3dDb250cm9sOiBib29sZWFuO1xyXG4gICAgbmV4dFN0YWNrOiBHcmlkQmxvY2tbXTtcclxuICAgIHByb2dyYW1SdW5uaW5nOiBib29sZWFuO1xyXG4gICAgY29uc3RydWN0b3Iob2JqPzogSUdhbWVTdGF0ZSkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gb2JqICYmIG9iai5jYW52YXMgfHwgPEhUTUxDYW52YXNFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTY3JlZW5cIik7XHJcbiAgICAgICAgdGhpcy5jdHggPSBvYmogJiYgb2JqLmN0eCB8fCA8Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPiB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5yZWN0ID0gb2JqICYmIG9iai5yZWN0IHx8IDxDbGllbnRSZWN0IHwgRE9NUmVjdD4gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdGhpcy5ibG9ja3MgPSBvYmogJiYgb2JqLmJsb2NrcyB8fCBbXTtcclxuICAgICAgICB0aGlzLnNsaWRlcnMgPSBvYmogJiYgb2JqLnNsaWRlcnMgfHwgW107XHJcbiAgICAgICAgdGhpcy5tb3VzZVggPSBvYmogJiYgb2JqLm1vdXNlWCB8fCAwO1xyXG4gICAgICAgIHRoaXMubW91c2VZID0gb2JqICYmIG9iai5tb3VzZVkgfHwgMDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRDb250cm9sID0gb2JqICYmIG9iai5jb21tYW5kQ29udHJvbCB8fCB0cnVlO1xyXG4gICAgICAgIHRoaXMuZmxvd0NvbnRyb2wgPSBvYmogJiYgb2JqLmZsb3dDb250cm9sIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubmV4dFN0YWNrID0gb2JqICYmIG9iai5uZXh0U3RhY2sgfHwgW107XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtUnVubmluZyA9IG9iaiAmJiBvYmoucHJvZ3JhbVJ1bm5pbmcgfHwgZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdhbWVTdGF0ZSB7XHJcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICByZWN0OiBDbGllbnRSZWN0IHwgRE9NUmVjdDtcclxuICAgIGJsb2NrczogQmFzZUJsb2NrW107XHJcbiAgICBzbGlkZXJzOiBTbGlkZXJbXTtcclxuICAgIG1vdXNlWDogbnVtYmVyO1xyXG4gICAgbW91c2VZOiBudW1iZXI7XHJcbiAgICBjb21tYW5kQ29udHJvbDogYm9vbGVhbjtcclxuICAgIGZsb3dDb250cm9sOiBib29sZWFuO1xyXG4gICAgbmV4dFN0YWNrOiBhbnlbXTtcclxuICAgIHByb2dyYW1SdW5uaW5nOiBib29sZWFuO1xyXG59IiwiZXhwb3J0IGVudW0gQ29tbWFuZEJsb2NrVHlwZXMge1xyXG4gICAgRW1wdHksXHJcbiAgICBTdGFydCxcclxuICAgIE1vdmUsXHJcbiAgICBBbmdsZSxcclxuICAgIFRocmVhZCxcclxuICAgIFNjYW4sXHJcbiAgICBMYXNlcixcclxuICAgIEdyYXBwbGVcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRmxvd0Jsb2NrVHlwZXMge1xyXG4gICAgRW1wdHksXHJcbiAgICBVcCxcclxuICAgIERvd24sXHJcbiAgICBMZWZ0LFxyXG4gICAgUmlnaHQsXHJcbiAgICBDb25kaXRpb25hbExlZnRSaWdodCxcclxuICAgIENvbmRpdGlvbmFsTGVmdFVwLFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0RG93bixcclxuICAgIENvbmRpdGlvbmFsVXBSaWdodCxcclxuICAgIENvbmRpdGlvbmFsVXBEb3duLFxyXG4gICAgQ29uZGl0aW9uYWxEb3duUmlnaHRcclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgR2FtZVN0YXRlOiBHYW1lU3RhdGUsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgWDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIFk6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBIOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgVzogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIENvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLnggPSBYO1xyXG4gICAgICAgIHRoaXMueSA9IFk7XHJcbiAgICAgICAgdGhpcy5oID0gSDtcclxuICAgICAgICB0aGlzLncgPSBXO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBDb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCk6IHZvaWQge30gXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7fVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tbWFuZEJsb2NrIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHNldDogYm9vbGVhbjtcclxuICAgIHR5cGU6IENvbW1hbmRCbG9ja1R5cGVzO1xyXG4gICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBDb21tYW5kQmxvY2tUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuU3RhcnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9TdGFydEJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuTW92ZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL01vdmVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvQW5nbGVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlRocmVhZDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1RocmVhZEJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gZHJhZyBjb21tYW5kIGJsb2NrXHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWCAtIHRoaXMudy8yO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgLSB0aGlzLmgvMjtcclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRlbGV0ZSBpZiBkcm9wcGluZyBibG9jayBhbmQgaXQgZG9lc24ndCBoYXZlIGEgZW1wdHkgZ3JpZCBibG9jayB0byBiZSBzZXQgb25cclxuICAgICAgICBpZiAoIXRoaXMubW91c2VEb3duICYmICF0aGlzLnNldCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbkNsaWNrKCkge1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG4vLyBDT05TSURFUjogZXh0ZW5kaW5nIENvbW1hbmRCbG9jayBjbGFzc1xyXG5leHBvcnQgY2xhc3MgQ29tbWFuZEJsb2NrQnV0dG9uIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHR5cGU6IENvbW1hbmRCbG9ja1R5cGVzO1xyXG4gICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBDb21tYW5kQmxvY2tUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgc3dpdGNoKFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5TdGFydDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1N0YXJ0QmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTW92ZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuQW5nbGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9BbmdsZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuVGhyZWFkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVGhyZWFkQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gVE9ETzogQWRkIHR5cGUgdG8gQ29tbWFuZEJsb2NrIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy5Db2xvciwgdGhpcy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIGlzQ29tbWFuZEJsb2NrKG9iajogb2JqZWN0KSA6IG9iaiBpcyBDb21tYW5kQmxvY2sge1xyXG4vLyAgICAgdmFyIGNvbW1hbmRCbG9ja09iaiA6IENvbW1hbmRCbG9jayA9IDxDb21tYW5kQmxvY2s+b2JqO1xyXG4gICAgXHJcbi8vICAgICByZXR1cm4gY29tbWFuZEJsb2NrT2JqLm1vdXNlRG93biAhPT0gdW5kZWZpbmVkO1xyXG4vLyB9IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd0Jsb2NrIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgdHlwZTogRmxvd0Jsb2NrVHlwZXM7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBzZXQ6IGJvb2xlYW47XHJcbiAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IEZsb3dCbG9ja1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgc3dpdGNoKFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5VcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1VwQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvRG93bkFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuTGVmdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0xlZnRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvUmlnaHRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYWcgZmxvdyBibG9ja1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVggLSB0aGlzLncvMjtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lU3RhdGUubW91c2VZIC0gdGhpcy5oLzI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkZWxldGUgaWYgZHJvcHBpbmcgYmxvY2sgYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhIGVtcHR5IGdyaWQgYmxvY2sgdG8gYmUgc2V0IG9uXHJcbiAgICAgICAgaWYgKCF0aGlzLm1vdXNlRG93biAmJiAhdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDT05TSURFUjogRXh0ZW5kaW5nIEZsb3dCbG9jayBoZXJlXHJcbmV4cG9ydCBjbGFzcyBGbG93QmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgdHlwZTogRmxvd0Jsb2NrVHlwZXM7XHJcbiAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IEZsb3dCbG9ja1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVXBBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Eb3duQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9SaWdodEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBGbG93QmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy5Db2xvciwgdGhpcy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jayB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tUeXBlcywgRmxvd0Jsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIHI6IG51bWJlcjtcclxuICAgIGM6IG51bWJlcjtcclxuICAgIGNvbW1hbmRUeXBlOiBDb21tYW5kQmxvY2tUeXBlcztcclxuICAgIGZsb3dUeXBlOiBGbG93QmxvY2tUeXBlcztcclxuICAgIGNhbGw6IGFueTtcclxuICAgIGNhbGxDb3VudDogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIFJvdzogbnVtYmVyLCBDb2x1bW46IG51bWJlciwgQ29sb3I6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMuciA9IFJvdztcclxuICAgICAgICB0aGlzLmMgPSBDb2x1bW47XHJcbiAgICAgICAgdGhpcy5jb21tYW5kVHlwZSA9IENvbW1hbmRCbG9ja1R5cGVzLkVtcHR5O1xyXG4gICAgICAgIHRoaXMuZmxvd1R5cGUgPSBGbG93QmxvY2tUeXBlcy5FbXB0eTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIHNlZSBpZiBjb21tYW5kIGJsb2NrIGlzIGJlaW5nIGRyb3BwZWQgb24gZW1wdHkgZ3JpZCBibG9ja1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrXHJcbiAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLm1vdXNlRG93biA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2sueCA8IHRoaXMueCArIHRoaXMudyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay54ICsgYmxvY2sudyA+IHRoaXMueCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay55IDwgdGhpcy55ICsgdGhpcy5oICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmggKyBibG9jay55ID4gdGhpcy55KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tbWFuZFR5cGUgPT09IENvbW1hbmRCbG9ja1R5cGVzLkVtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9jaylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueCA9IHRoaXMueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPSB0aGlzLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay5zZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kVHlwZSA9IGJsb2NrLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5mbG93VHlwZSA9PT0gRmxvd0Jsb2NrVHlwZXMuRW1wdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueCA9IHRoaXMueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPSB0aGlzLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay5zZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbG93VHlwZSA9IGJsb2NrLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMsIEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmZ1bmN0aW9uIG1vdmVDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBpZiAoYmxvY2suY2FsbENvdW50ID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibW92ZVwiKTtcclxuICAgICAgICBibG9jay5jYWxsQ291bnQtLTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYW5nbGVDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBpZiAoYmxvY2suY2FsbENvdW50ID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYW5nbGVcIik7XHJcbiAgICAgICAgYmxvY2suY2FsbENvdW50LS07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHdpbGwgb25seSBoYXZlIGZpbmROZXh0RXhlY3V0aW9uIGJpdFxyXG4vLyB3b24ndCBkbyBhbnl0aGluZyBleGNlcHQgY29udGludWUgZXhlY3V0aW9uIGlmIHBsYXllcnMgdXNlIGl0IGxpa2UgYSBub3JtYWwgY29tbWFuZCBibG9ja1xyXG5mdW5jdGlvbiBzdGFydENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XHJcbiAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE5ld1RocmVhZENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHRocmVhZDogbnVtYmVyKSB7XHJcbiAgICAvLyBsb2NhdGUgdGhyZWFkXHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2suY29tbWFuZFR5cGUgPT09IENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0IC8vJiYgdGhyZWFkTnVtYmVyID09PSB0aHJlYWRcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93QmxvY2tUeXBlcy5FbXB0eSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgdGhyZWFkXHJcbiAgICAgICAgICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmluZE5leHRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBwcmV2QmxvY2s6IEdyaWRCbG9jaykgOiB2b2lkIHtcclxuICAgIGxldCB0YXJnZXRSb3c6IG51bWJlcjtcclxuICAgIGxldCB0YXJnZXRDb2w6IG51bWJlcjtcclxuICAgIC8vIFRPRE86IGFkZCBjb25kaXRpb25hbHNcclxuICAgIC8vIHRoaXMgd2lsbCB3b3JrIHdlbGwgaGVyZSBzaW5jZSBlYWNoIGNhbGwgZmluZHMgdGhlIG5leHQgY2FsbFxyXG4gICAgLy8gYWZ0ZXIgaXQgaGFzIGFscmVhZHkgZXhlY3V0ZWRcclxuICAgIHN3aXRjaChwcmV2QmxvY2suZmxvd1R5cGUpIHtcclxuICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlVwOlxyXG4gICAgICAgICAgICB0YXJnZXRSb3cgPSBwcmV2QmxvY2suciAtIDE7XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IHByZXZCbG9jay5yICsgMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gcHJldkJsb2NrLmM7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jICsgMTtcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuTGVmdDpcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gcHJldkJsb2NrLmMgLSAxO1xyXG4gICAgICAgICAgICB0YXJnZXRSb3cgPSBwcmV2QmxvY2sucjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2spIHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrLnIgPT09IHRhcmdldFJvdyAmJiBibG9jay5jID09PSB0YXJnZXRDb2xcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmNvbW1hbmRUeXBlICE9PSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eVxyXG4gICAgICAgICAgICAgICAgJiYgYmxvY2suZmxvd1R5cGUgIT09IEZsb3dCbG9ja1R5cGVzLkVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goYmxvY2suY29tbWFuZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsID0gKCkgPT4gYW5nbGVDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jYWxsQ291bnQgPSAxOyAvLyB0ZXN0IGFtb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBtb3ZlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suY2FsbENvdW50ID0gMjA7IC8vIHRlc3QgYW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuU3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBzdGFydENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGxDb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuXHJcbi8vIHRvIGRvIG1ha2Ugc3VyZSBtaW4gLyBtYXggcGVyY2VudGFnZXMgY2FuIGJlIHJlYWNoZWRcclxuLy8gYWRkIGNvbW1hbmQgYW5kIGNvbmRpdGlvbmFsIHR5cGVzIGFzIGEgcGFyYW0gYW5kIHRvIEVudW1zLnRzXHJcbi8vIGFkZCBvcHRpb25hbCBwYXJhbSBmb3IgXCJzdGlja3lcIiB2YWx1ZXMgc2VwYXJhdGluZyBpbiB2YXJpYWJsZSBhbW91bnRcclxuLy8gbWF5YmUgYWRkIHN1cHBvcnQgZm9yIHRocmVhZCBzdGFydGVyP1xyXG5leHBvcnQgY2xhc3MgU2xpZGVyIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgcGVyY2VudGFnZTogbnVtYmVyO1xyXG4gICAgc2xpZGVyWDogbnVtYmVyO1xyXG4gICAgc2xpZGVyWTogbnVtYmVyO1xyXG4gICAgc2xpZGVySDogbnVtYmVyO1xyXG4gICAgc2xpZGVyVzogbnVtYmVyO1xyXG4gICAgc2xpZGVyQ29sb3I6IHN0cmluZztcclxuICAgIGJhclg6IG51bWJlcjtcclxuICAgIGJhclk6IG51bWJlcjtcclxuICAgIGJhckg6IG51bWJlcjtcclxuICAgIGJhclc6IG51bWJlcjtcclxuICAgIGJhckNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWCA6bnVtYmVyLCBZOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYmFySCA9IDc1O1xyXG4gICAgICAgIHRoaXMuYmFyVyA9IDEwO1xyXG4gICAgICAgIHRoaXMuYmFyWCA9IFg7XHJcbiAgICAgICAgdGhpcy5iYXJZID0gWTtcclxuICAgICAgICB0aGlzLmJhckNvbG9yID0gXCJ0aGlzdGxlXCI7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJIID0gMTA7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJXID0gMTU7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJYID0gWDtcclxuICAgICAgICB0aGlzLnNsaWRlclkgPSBZICsgdGhpcy5iYXJILzIgLSB0aGlzLnNsaWRlckgvMjtcclxuICAgICAgICB0aGlzLnNsaWRlckNvbG9yID0gXCJwdXJwbGVcIjtcclxuICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxIC0gKHRoaXMuc2xpZGVyWSAtIHRoaXMuYmFyWSArIHRoaXMuc2xpZGVySC8yKSAvIHRoaXMuYmFySDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iYXJZIC0gdGhpcy5zbGlkZXJILzIgPCB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFyWSArIHRoaXMuYmFySCAtIHRoaXMuc2xpZGVySC8yID4gdGhpcy5nYW1lU3RhdGUubW91c2VZKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlclkgPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxIC0gKHRoaXMuc2xpZGVyWSAtIHRoaXMuYmFyWSArIHRoaXMuc2xpZGVySC8yKSAvIHRoaXMuYmFySDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnBlcmNlbnRhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYXcgYmFyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuYmFyWCwgdGhpcy5iYXJZLCB0aGlzLmJhclcsIHRoaXMuYmFySCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgc2xpZGVyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2xpZGVyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuc2xpZGVyWCAtIHRoaXMuc2xpZGVySC80LCB0aGlzLnNsaWRlclksIHRoaXMuc2xpZGVyVywgdGhpcy5zbGlkZXJIKTtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2RlY2xhcmF0aW9ucy9qc29uLmQudHNcIiAvPlxyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IGxldmVsMSBmcm9tICcuLi9kYXRhL2xldmVscy9sZXZlbDEuanNvbic7XHJcbmltcG9ydCB7IEdlbmVyYXRlTGV2ZWwgfSBmcm9tIFwiLi9HZW5lcmF0ZUxldmVsXCI7XHJcbmltcG9ydCB7IFNldFVwRXZlbnRMaXN0ZW5lcnMgfSBmcm9tIFwiLi9TZXRVcEV2ZW50TGlzdGVuZXJzXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jayB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tIFwiLi9TbGlkZXJcIjtcclxuXHJcbi8vIFRPRE86IGFkZCB0ZXh0LWJhc2VkIHVpIGVsZW1lbnRzIHRvIGNvbW1hbmQgYmxvY2tzXHJcbi8vIFRPRE86IGhhdmUgRmxvd0Jsb2NrQnV0dG9uIGFuZCBDb21tYW5kQmxvY2tCdXR0b25zIGV4dGVuZCBmcm9tIHRoZWlyIHJlc3BlY3RpdmUgYmxvY2tzXHJcbi8vIFRPRE86IHB1c2ggbW9zdCByZWNlbnRseSBjbGlja2VkIGNvbW1hbmQgLyBmbG93IGJsb2NrIHRvIHRvcCBvZiBibG9jayBhcnJheSB0byByZW5kZXIgaXQgb24gdG9wIG9mIGV2ZXJ5dGhpbmcgZWxzZVxyXG4vLyBUT0RPOiBzd2l0Y2ggc3BhY2ViYXIgY29udHJvbCBidXR0b24gdG8gY2xpY2thYmxlIHJhZGlvIGJ1dHRvblxyXG5cclxuLy8gc2V0IHVwIGdhbWUgc3RhdGVcclxudmFyIGdhbWVTdGF0ZSA9IG5ldyBHYW1lU3RhdGUoKTtcclxuR2VuZXJhdGVMZXZlbChnYW1lU3RhdGUsIGxldmVsMSwgXCJsaWdodGJsdWVcIik7XHJcblNldFVwRXZlbnRMaXN0ZW5lcnMoZ2FtZVN0YXRlKTtcclxuXHJcbi8vIHNldCB1cCB0ZXN0IHVpIGVsZW1lbnRzXHJcbmdhbWVTdGF0ZS5zbGlkZXJzLnB1c2gobmV3IFNsaWRlcihnYW1lU3RhdGUsIDgwLCAzNjUpKTtcclxuZ2FtZVN0YXRlLnNsaWRlcnMucHVzaChuZXcgU2xpZGVyKGdhbWVTdGF0ZSwgMTMwLCAzNjUpKTtcclxuXHJcbmZ1bmN0aW9uIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5jbGVhclJlY3QoMCwgMCwgZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCwgZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAvLyByZW5kZXIgVUkgZWxlbWVudHNcclxuICAgIGdhbWVTdGF0ZS5zbGlkZXJzLmZvckVhY2goc2xpZGVyID0+IHtcclxuICAgICAgICBzbGlkZXIuZHJhdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcmVuZGVyIGFsbCBub24tZmxvdyBibG9ja3MgZmlyc3RcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKCEoYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spKSB7XHJcbiAgICAgICAgICAgIGJsb2NrLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIGZsb3cgYmxvY2tzIGxhc3QgdG8gbGF5ZXIgdGhlbSBvbiB0b3Agb2YgY29tbWFuZCBibG9ja3NcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSB7XHJcbiAgICAgICAgICAgIGJsb2NrLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBnYW1lU3RhdGUuY3R4LnN0cm9rZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBibG9jay51cGRhdGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5zbGlkZXJzLmZvckVhY2goc2xpZGVyID0+IHtcclxuICAgICAgICBzbGlkZXIudXBkYXRlKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgdXBkYXRlKCk7XHJcbiAgICBkcmF3KCk7XHJcblxyXG4gICAgY29uc3QgY2FsbFN0YWNrID0gZ2FtZVN0YXRlLm5leHRTdGFjaztcclxuICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sgPSBbXTtcclxuXHJcbiAgICBpZiAoY2FsbFN0YWNrLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjYWxsU3RhY2suZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIC8vIHdpbGwgY2FsbCBjb21tYW5kIGFuZCBwdXNoIGl0IGJhY2sgb24gc3RhY2tcclxuICAgICAgICAgICAgaWYgKGJsb2NrLmNhbGxDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwoKTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZWxzZSBqdXN0IGNhbGwgb25jZSBhbmQgZmluZCBuZXh0IGNhbGxcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBibG9jay5jYWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG59LCAxMik7IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tCdXR0b24gfSBmcm9tIFwiLi9Db21tYW5kQmxvY2tcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrQnV0dG9uIH0gZnJvbSBcIi4vRmxvd0Jsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzLCBGbG93QmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2VuZXJhdGVMZXZlbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgbGV2ZWxPYmo6IG9iamVjdCwgcGFsZXR0ZUNvbG9yOiBzdHJpbmcpIHtcclxuICAgIGxldCB5T2Zmc2V0OiBudW1iZXIgPSA1O1xyXG4gICAgbGV0IHhPZmZzZXQ6IG51bWJlciA9IDU7XHJcbiAgICBsZXQgbWF4WE9mZnNldDogbnVtYmVyID0gMDtcclxuICAgIGxldCBtYXhZT2Zmc2V0OiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8vIHNldCB1cCBncmlkIGZvciBDb21tYW5kIFBhbGV0dGVcclxuICAgIC8vIGFzc2lnbiByb3cgYW5kIGNvbHVtbiB2YWx1ZXMgdG8gZ3JpZCBibG9ja3NcclxuICAgIGZvciAodmFyIHIgPSAwOyByIDwgbGV2ZWxPYmpbXCJjb21tYW5kX3BhbGV0dGVcIl1bXCJibG9ja19oZWlnaHRcIl07IHIrKykge1xyXG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgbGV2ZWxPYmpbXCJjb21tYW5kX3BhbGV0dGVcIl1bXCJibG9ja193aWR0aFwiXTsgYysrKSB7XHJcbiAgICAgICAgICAgIG5ldyBHcmlkQmxvY2soZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIHIsIGMsIHBhbGV0dGVDb2xvcik7XHJcbiAgICAgICAgICAgIHhPZmZzZXQgKz0gNTU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHlPZmZzZXQgKz0gNTU7XHJcbiAgICAgICAgbWF4WE9mZnNldCA9IHhPZmZzZXQ7XHJcbiAgICAgICAgeE9mZnNldCA9IDU7XHJcbiAgICB9XHJcblxyXG4gICAgbWF4WU9mZnNldCA9IHlPZmZzZXQ7XHJcbiAgICB5T2Zmc2V0ID0gbWF4WU9mZnNldCArIDIwO1xyXG5cclxuICAgIC8vIHNldCB1cCBDb21tYW5kIEJsb2NrIEJ1dHRvbnNcclxuICAgIC8vIENPTlNJREVSOiBBY2NvbW1vZGF0aW5nIGZvciBjb21tYW5kIHBhbGV0dGUgd2lkdGhcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxPYmpbXCJjb21tYW5kX2Jsb2Nrc1wiXS5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBzd2l0Y2gobGV2ZWxPYmpbXCJjb21tYW5kX2Jsb2Nrc1wiXVtpXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwic3RhcnRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5TdGFydCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1vdmVcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5Nb3ZlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYW5nbGVcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInRocmVhZFwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRCbG9ja1R5cGVzLlRocmVhZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxhc2VyXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcImdyZWVuXCIsIENvbW1hbmRCbG9ja1R5cGVzLkxhc2VyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2NhblwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJkYXJrYmx1ZVwiLCBDb21tYW5kQmxvY2tUeXBlcy5TY2FuKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZ3JhcHBsZVwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJtYXJvb25cIiwgQ29tbWFuZEJsb2NrVHlwZXMuR3JhcHBsZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgeE9mZnNldCArPSA1NTtcclxuICAgIH1cclxuXHJcbiAgICB4T2Zmc2V0ID0gbWF4WE9mZnNldCArIDIwO1xyXG4gICAgeU9mZnNldCA9IDU7XHJcblxyXG4gICAgLy8gc2V0IHVwIEZsb3cgQmxvY2sgQnV0dG9uc1xyXG4gICAgLy8gQ09OU0lERVI6IEFjY29tbW9kYXRpbmcgZm9yIGNvbW1hbmQgcGFsZXR0ZSBoZWlnaHRcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXS5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBzd2l0Y2gobGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXVtpXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidXBcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dCbG9ja1R5cGVzLlVwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibGVmdFwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IEZsb3dCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ5ZWxsb3dcIiwgRmxvd0Jsb2NrVHlwZXMuTGVmdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93QmxvY2tUeXBlcy5SaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dCbG9ja1R5cGVzLkRvd24pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHlPZmZzZXQgKz0gNTU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrLCBDb21tYW5kQmxvY2tCdXR0b24gfSBmcm9tIFwiLi9Db21tYW5kQmxvY2tcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jaywgRmxvd0Jsb2NrQnV0dG9uIH0gZnJvbSBcIi4vRmxvd0Jsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzLCBGbG93QmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcbmltcG9ydCB7IHN0YXJ0TmV3VGhyZWFkQ2FsbCB9IGZyb20gXCIuL1Byb2dyYW1FeGVjdXRpb25cIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRVcEV2ZW50TGlzdGVuZXJzKGdhbWVTdGF0ZTogR2FtZVN0YXRlKSB7XHJcbiAgICBnYW1lU3RhdGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBDb2xsaXNpb24gZGV0ZWN0aW9uIGJldHdlZW4gY2xpY2tlZCBvZmZzZXQgYW5kIGJsb2NrLlxyXG4gICAgICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gYmxvY2sueSAmJiBnYW1lU3RhdGUubW91c2VZIDwgYmxvY2sueSArIGJsb2NrLmhcclxuICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBibG9jay54ICYmIGdhbWVTdGF0ZS5tb3VzZVggPCBibG9jay54ICsgYmxvY2sudykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHJhZGlvIGJ1dHRvbiBmb3IgZmxvdyBvciBjb21tYW5kIGNvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNvbW1hbmRUeXBlID0gQ29tbWFuZEJsb2NrVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5mbG93VHlwZSA9IEZsb3dCbG9ja1R5cGVzLkVtcHR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBjaGVjayBmb3Igc2xpZGVycyBiZWluZyBjbGlja2VkXHJcbiAgICAgICAgZ2FtZVN0YXRlLnNsaWRlcnMuZm9yRWFjaChzID0+IHtcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5tb3VzZVkgPiBzLnNsaWRlclkgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IHMuc2xpZGVyWSArIHMuc2xpZGVySFxyXG4gICAgICAgICAgICAgICAgJiYgZ2FtZVN0YXRlLm1vdXNlWCA+IHMuc2xpZGVyWCAmJiBnYW1lU3RhdGUubW91c2VYIDwgcy5zbGlkZXJYICsgcy5zbGlkZXJXKSB7XHJcbiAgICAgICAgICAgICAgICBzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgLy8gbWFrZSBzdXJlIGFsbCBjbGlja2FibGUgZW50aXRpZXMgYXJlbid0IGNsaWNrYWJsZSBvbiBtb3VzZXVwXHJcbiAgICBnYW1lU3RhdGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpIDogdm9pZCB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrXHJcbiAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGdhbWVTdGF0ZS5zbGlkZXJzLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgIHMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihldnQ6IE1vdXNlRXZlbnQpIDogdm9pZCB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLm1vdXNlWCA9IChldnQuY2xpZW50WCAtIGdhbWVTdGF0ZS5yZWN0LmxlZnQpIC8gKGdhbWVTdGF0ZS5yZWN0LnJpZ2h0IC0gZ2FtZVN0YXRlLnJlY3QubGVmdCkgKiBnYW1lU3RhdGUuY2FudmFzLndpZHRoO1xyXG4gICAgICAgIGdhbWVTdGF0ZS5tb3VzZVkgPSAoZXZ0LmNsaWVudFkgLSBnYW1lU3RhdGUucmVjdC50b3ApIC8gKGdhbWVTdGF0ZS5yZWN0LmJvdHRvbSAtIGdhbWVTdGF0ZS5yZWN0LnRvcCkgKiBnYW1lU3RhdGUuY2FudmFzLmhlaWdodDtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICB3aW5kb3cub25rZXl1cCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyBpLmUuIFNwYWNlQmFyIHByZXNzZWRcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzMikge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmZsb3dDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuZmxvd0NvbnRyb2wgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbW1hbmQgQ29udHJvbCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5mbG93Q29udHJvbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZsb3cgQ29udHJvbCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGkuZS4gUyBrZXkgcHJlc3NlZFxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDgzKSB7XHJcbiAgICAgICAgICAgIGlmICghZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3RhcnROZXdUaHJlYWRDYWxsKGdhbWVTdGF0ZSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9