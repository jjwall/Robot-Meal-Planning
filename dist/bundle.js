!function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle","thread"],flow_blocks:["up","down","left","right"]}},function(t,e,s){"use strict";s.r(e);var a,i,n=function(){return function(t){this.blocks=[],this.entities=[],this.userInterfaces=[],this.mouseX=0,this.mouseY=0,this.commandControl=!0,this.flowControl=!1,this.nextStack=[],this.programRunning=!1,this.canvas=t,this.ctx=t.getContext("2d"),this.rect=t.getBoundingClientRect()}}(),o=s(0);!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Thread=4]="Thread",t[t.Scan=5]="Scan",t[t.Laser=6]="Laser",t[t.Grapple=7]="Grapple"}(a||(a={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(i||(i={}));var h=function(){function t(t,e,s,n,o,h,r,l){this.gameState=t,this.x=e,this.y=s,this.h=n,this.w=o,this.color=l,this.r=h,this.c=r,this.flowType=i.Empty,this.gameState.blocks.push(this),this.commandData={baseUnits:0,totalUnits:0,unitsPerCall:0,callCount:0,type:a.Empty}}return t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},t.prototype.update=function(){},t}(),r=function(){function t(t,e,s,i,n,o,h,r,l,c,u){switch(this.gameState=t,this.x=e,this.y=s,this.h=i,this.w=n,this.color=c,this.baseUnits=o,this.callCount=h,this.unitsPerCall=r,this.totalUnits=l,this.mouseDown=!0,this.set=!1,this.type=u,this.image=new Image,u){case a.Start:this.image.src="data/textures/StartBlock.png";break;case a.Move:this.image.src="data/textures/MoveBlock.png";break;case a.Angle:this.image.src="data/textures/AngleBlock.png";break;case a.Thread:this.image.src="data/textures/ThreadBlock.png"}this.gameState.blocks.push(this)}return t.prototype.mouseUp=function(){var t=this;if(this.gameState.blocks.forEach(function(e){if(e instanceof h&&e.commandData.type===a.Empty&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y){t.x=e.x,t.y=e.y,t.set=!0;var s={type:t.type,baseUnits:t.baseUnits,callCount:t.callCount,unitsPerCall:t.unitsPerCall,totalUnits:t.totalUnits};e.commandData.type=s.type,e.commandData.baseUnits=s.baseUnits,e.commandData.callCount=s.callCount,e.commandData.unitsPerCall=s.unitsPerCall,e.commandData.totalUnits=s.totalUnits,e.currentCallCount=t.callCount}}),!this.set){var e=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(e,1)}},t.prototype.update=function(){this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1)},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},t}(),l=function(){function t(t,e,s,i,n,o,h){var r=this;switch(this.updateData=function(t,e,s,a){r.callCount=t,r.baseUnits=e,r.unitsPerCall=s,r.totalUnits=a},this.gameState=t,this.x=e,this.y=s,this.h=i,this.w=n,this.color=o,this.mouseDown=!1,this.type=h,this.image=new Image,this.baseUnits=0,this.callCount=0,this.unitsPerCall=0,this.totalUnits=0,h){case a.Start:this.image.src="data/textures/StartBlock.png";break;case a.Move:this.image.src="data/textures/MoveBlock.png";break;case a.Angle:this.image.src="data/textures/AngleBlock.png";break;case a.Thread:this.image.src="data/textures/ThreadBlock.png"}this.gameState.blocks.push(this)}return t.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new r(this.gameState,this.x,this.y,this.h,this.w,this.baseUnits,this.callCount,this.unitsPerCall,this.totalUnits,this.color,this.type))},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},t}(),c=function(){function t(t,e,s,a,n,o,h){switch(this.gameState=t,this.x=e,this.y=s,this.h=a,this.w=n,this.color=o,this.type=h,this.mouseDown=!0,this.set=!1,this.image=new Image,h){case i.Up:this.image.src="data/textures/UpArrow.png";break;case i.Down:this.image.src="data/textures/DownArrow.png";break;case i.Left:this.image.src="data/textures/LeftArrow.png";break;case i.Right:this.image.src="data/textures/RightArrow.png"}this.gameState.blocks.push(this)}return t.prototype.mouseUp=function(){var t=this;if(this.gameState.blocks.forEach(function(e){e instanceof h&&e.flowType===i.Empty&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.x=e.x,t.y=e.y,t.set=!0,e.flowType=t.type)}),!this.set){var e=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(e,1)}},t.prototype.update=function(){this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1)},t.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},t}(),u=function(){function t(t,e,s,a,n,o,h){switch(this.gameState=t,this.x=e,this.y=s,this.h=a,this.w=n,this.color=o,this.type=h,this.mouseDown=!1,this.image=new Image,h){case i.Up:this.image.src="data/textures/UpArrow.png";break;case i.Down:this.image.src="data/textures/DownArrow.png";break;case i.Left:this.image.src="data/textures/LeftArrow.png";break;case i.Right:this.image.src="data/textures/RightArrow.png"}this.gameState.blocks.push(this)}return t.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new c(this.gameState,this.x,this.y,this.h,this.w,this.color,this.type))},t.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},t}(),m=function(){function t(t,e,s,a,i,n,o,h){void 0===h&&(h=10),this.gameState=t,this.mouseDown=!1,this.maxUnits=a,this.unitsPerCall=i,this.snapAmount=h,this.updateDataCallBack=o,this.baseUnits=Math.round(this.maxUnits/this.snapAmount),this.type=n,this.barH=75,this.barW=10,this.barX=e,this.barY=s,this.barColor="thistle",this.sliderH=10,this.sliderW=15,this.sliderX=e,this.sliderY=s+this.barH/2-this.sliderH/2,this.sliderColor="purple",this.percentage=1-(this.sliderY-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.totalUnits=Math.round(this.value*this.maxUnits),this.gameState.userInterfaces.push(this);var r=this.totalUnits/this.unitsPerCall;this.updateDataCallBack(r,this.baseUnits,this.unitsPerCall,this.totalUnits)}return t.prototype.update=function(){if(this.mouseDown&&this.barY-this.sliderH/2<this.gameState.mouseY&&this.barY+this.barH-this.sliderH/2>this.gameState.mouseY){var t=this.gameState.mouseY;this.percentage=1-(t-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.sliderY=this.barH+this.barY-this.sliderH/2-this.value*this.barH,this.totalUnits=Math.round(this.value*this.maxUnits);var e=this.totalUnits/this.unitsPerCall;this.updateDataCallBack(e,this.baseUnits,this.unitsPerCall,this.totalUnits)}},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.barColor,this.gameState.ctx.fillRect(this.barX,this.barY,this.barW,this.barH),this.gameState.ctx.fillStyle=this.sliderColor,this.gameState.ctx.fillRect(this.sliderX-this.sliderH/4,this.sliderY,this.sliderW,this.sliderH)},t}(),p=function(){function t(t,e,s,a,i,n){this.gameState=t,this.x=e,this.y=s,this.h=a,this.w=i,this.threads=1,this.updateDataCallBack=n,this.mouseDown=!1,this.gameState.userInterfaces.push(this),this.updateDataCallBack(0,1,0,this.threads)}return t.prototype.recalculateExistingThreadCounts=function(){var t=[],e=[];this.gameState.blocks.forEach(function(s){s instanceof r?s.type===a.Start&&t.push(s):s instanceof h&&s.commandData.type===a.Start&&e.push(s)}),t.sort(function(t,e){return t.totalUnits>e.totalUnits?1:e.totalUnits>t.totalUnits?-1:0}),e.sort(function(t,e){return t.commandData.totalUnits>e.commandData.totalUnits?1:e.commandData.totalUnits>t.commandData.totalUnits?-1:0});for(var s=0;s<t.length;s++)s+1<t[s].totalUnits&&t[s].totalUnits--;for(s=0;s<e.length;s++)s+1<e[s].commandData.totalUnits&&e[s].commandData.totalUnits--},t.prototype.mouseUp=function(){var t=1;this.gameState.blocks.forEach(function(e){e instanceof r&&e.type===a.Start&&t++}),this.threads=t,this.updateDataCallBack(0,1,0,this.threads),this.recalculateExistingThreadCounts()},t.prototype.update=function(){if(this.mouseDown){this.mouseDown=!1;var t=1;this.gameState.blocks.forEach(function(e){e instanceof r&&e.type===a.Start&&t++}),this.threads=t,this.updateDataCallBack(0,1,0,this.threads)}},t.prototype.draw=function(){},t}(),f=function(){function t(t,e,s,a){this.gameState=t,this.minusX=e,this.minusY=s,this.minusH=10,this.minusW=15,this.plusX=e+25,this.plusY=s,this.plusH=10,this.plusW=15,this.updateDataCallBack=a,this.color="purple",this.mouseDown=!1,this.mouseDownMinus=!1,this.mouseDownPlus=!1,this.targetThread=1,this.updateDataCallBack(0,1,0,this.targetThread),this.gameState.userInterfaces.push(this)}return t.prototype.update=function(){this.mouseDownPlus?(this.mouseDownPlus=!1,this.mouseDown=!1,this.targetThread++,this.updateDataCallBack(0,1,0,this.targetThread)):this.mouseDownMinus&&(this.mouseDownMinus=!1,this.mouseDown=!1,this.targetThread>1&&(this.targetThread--,this.updateDataCallBack(0,1,0,this.targetThread))),this.mouseDown||(this.mouseDownMinus=!1,this.mouseDownPlus=!1)},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.minusX,this.minusY,this.minusW,this.minusH),this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.plusX,this.plusY,this.plusW,this.plusH),this.gameState.ctx.fillStyle="thistle",this.gameState.ctx.font="17px Arial",this.gameState.ctx.fillText("-",this.minusX+this.minusW/3,this.minusY+this.minusH),this.gameState.ctx.fillText("+",this.plusX+this.plusW/4-1,this.plusY+this.plusH+1)},t}();var g=function(){function t(t,e,s,a,i){this.gameState=t,this.x=e,this.y=s,this.h=a,this.w=i,this.angle=0,this.color="grey",this.image=new Image,this.image.src="data/textures/RobotGun.png"}return t.prototype.update=function(){},t.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.rotate(this.angle*Math.PI/180),this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(-this.h/2,-this.w/2,this.w,this.h),this.gameState.ctx.drawImage(this.image,-this.w/2,-this.h/2),this.gameState.ctx.rotate(-this.angle*Math.PI/180),this.gameState.ctx.translate(-this.x,-this.y)},t.prototype.move=function(t){var e=Math.cos(this.angle*Math.PI/180)*t,s=Math.sin(this.angle*Math.PI/180)*t;this.x+=e,this.y+=s},t.prototype.turnClockWise=function(t){this.angle+=t},t}();function d(t,e,s){t.blocks.forEach(function(s){s instanceof h&&s.commandData.type===a.Start&&s.commandData.totalUnits===e&&s.flowType!==i.Empty&&w(t,s)}),void 0!==s&&(console.log("thread"),w(t,s))}function w(t,e){var s,n;switch(e.currentCallCount=e.commandData.callCount,e.flowType){case i.Up:s=e.r-1,n=e.c;break;case i.Down:s=e.r+1,n=e.c;break;case i.Right:n=e.c+1,s=e.r;break;case i.Left:n=e.c-1,s=e.r}t.blocks.forEach(function(e){if(e instanceof h&&e.r===s&&e.c===n&&e.commandData.type!==a.Empty&&e.flowType!==i.Empty)switch(e.commandData.type){case a.Angle:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("angle"),e.currentCallCount--,t.entities.forEach(function(t){t instanceof g&&t.turnClockWise(e.commandData.unitsPerCall)})):w(t,e)}(t,e)},t.nextStack.push(e);break;case a.Move:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("move"),e.currentCallCount--,t.entities.forEach(function(t){t instanceof g&&t.move(e.commandData.unitsPerCall)})):w(t,e)}(t,e)},t.nextStack.push(e);break;case a.Start:e.call=function(){return function(t,e){console.log("start"),w(t,e)}(t,e)},t.nextStack.push(e);break;case a.Thread:e.call=function(){return d(t,e.commandData.totalUnits,e)},t.nextStack.push(e)}})}!function(t){var e=new n(t);!function(t,e,s){for(var n=5,o=5,r=0,c=e.command_palette.block_height,g=e.command_palette.block_width,d=0;d<c;d++){for(var w=0;w<g;w++)new h(t,o,n,50,50,d,w,s),o+=55;n+=55,r=o,o=5}n+=20;for(var y=0;y<e.command_blocks.length;y++){switch(e.command_blocks[y]){case"start":var x=new l(t,o,n,50,50,"thistle",a.Start);new p(t,x.x,x.y,x.h,x.w,x.updateData);break;case"move":var S=new l(t,o,n,50,50,"thistle",a.Move);new m(t,o+20,n+60,100,.5,a.Move,S.updateData);break;case"angle":var b=new l(t,o,n,50,50,"thistle",a.Angle);new m(t,o+20,n+60,360,1,a.Angle,b.updateData,8);break;case"thread":var k=new l(t,o,n,50,50,"thistle",a.Thread);new f(t,175,360,k.updateData);break;case"laser":new l(t,o,n,50,50,"green",a.Laser);break;case"scan":new l(t,o,n,50,50,"darkblue",a.Scan);break;case"grapple":new l(t,o,n,50,50,"maroon",a.Grapple)}o+=55}for(o=r+20,n=5,y=0;y<e.flow_blocks.length;y++){switch(e.flow_blocks[y]){case"up":new u(t,o,n,50,50,"yellow",i.Up);break;case"left":new u(t,o,n,50,50,"yellow",i.Left);break;case"right":new u(t,o,n,50,50,"yellow",i.Right);break;case"down":new u(t,o,n,50,50,"yellow",i.Down)}n+=55}}(e,o,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof r&&t.commandControl||e instanceof l&&t.commandControl||e instanceof c&&t.flowControl||e instanceof u&&t.flowControl?e.mouseDown=!0:e instanceof h&&(t.commandControl?e.commandData.type=a.Empty:t.flowControl&&(e.flowType=i.Empty)))}),t.userInterfaces.forEach(function(e){e instanceof m?t.mouseY>e.sliderY&&t.mouseY<e.sliderY+e.sliderH&&t.mouseX>e.sliderX&&t.mouseX<e.sliderX+e.sliderW&&(e.mouseDown=!0):e instanceof p?t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e.mouseDown=!0):e instanceof f&&(t.mouseY>e.plusY&&t.mouseY<e.plusY+e.plusH&&t.mouseX>e.plusX&&t.mouseX<e.plusX+e.plusW&&(e.mouseDown=!0,e.mouseDownPlus=!0),t.mouseY>e.minusY&&t.mouseY<e.minusY+e.minusH&&t.mouseX>e.minusX&&t.mouseX<e.minusX+e.minusW&&(e.mouseDown=!0,e.mouseDownMinus=!0))})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof r||t instanceof c)&&t.mouseDown&&(t.mouseDown=!1,t.mouseUp())}),t.userInterfaces.forEach(function(t){t.mouseDown=!1,t instanceof p&&t.mouseUp()})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning?(t.programRunning=!1,t.nextStack=[]):(t.programRunning=!0,d(t,1)))}}(e);var s=new g(e,375,200,25,25);e.entities.push(s),setInterval(function(){!function(t,e){t.forEach(function(t){t.update()}),e.forEach(function(t){t.update()})}(e.blocks,e.userInterfaces),function(t,e,s,a,i){t.clearRect(0,0,e.width,e.height),t.beginPath(),s.forEach(function(t){t.draw()}),i.forEach(function(t){t instanceof c||t.draw()}),i.forEach(function(t){t instanceof c&&t.draw()}),a.forEach(function(t){t.draw()}),t.stroke()}(e.ctx,e.canvas,e.userInterfaces,e.entities,e.blocks);var t=e.nextStack;e.nextStack=[],t.length>0&&e.programRunning?t.forEach(function(t){t.currentCallCount>0?(t.call(),e.nextStack.push(t)):t.call()}):e.programRunning=!1},12)}(document.getElementById("gameScreen"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyaWRCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbWFuZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9GbG93QmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGhyZWFkT2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BsdXNNaW51cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUm9ib3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Byb2dyYW1FeGVjdXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dlbmVyYXRlTGV2ZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NldFVwRXZlbnRMaXN0ZW5lcnMudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDb21tYW5kVHlwZXMiLCJGbG93VHlwZXMiLCJHYW1lU3RhdGVfR2FtZVN0YXRlIiwiQ2FudmFzIiwidGhpcyIsImJsb2NrcyIsImVudGl0aWVzIiwidXNlckludGVyZmFjZXMiLCJtb3VzZVgiLCJtb3VzZVkiLCJjb21tYW5kQ29udHJvbCIsImZsb3dDb250cm9sIiwibmV4dFN0YWNrIiwicHJvZ3JhbVJ1bm5pbmciLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIkdyaWRCbG9ja19HcmlkQmxvY2siLCJHcmlkQmxvY2siLCJHYW1lU3RhdGUiLCJYIiwiWSIsIkgiLCJXIiwiUm93IiwiQ29sdW1uIiwiQ29sb3IiLCJnYW1lU3RhdGUiLCJ4IiwieSIsImgiLCJ3IiwiY29sb3IiLCJmbG93VHlwZSIsIkVtcHR5IiwicHVzaCIsImNvbW1hbmREYXRhIiwiYmFzZVVuaXRzIiwidG90YWxVbml0cyIsInVuaXRzUGVyQ2FsbCIsImNhbGxDb3VudCIsInR5cGUiLCJkcmF3IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJ1cGRhdGUiLCJDb21tYW5kQmxvY2tfQ29tbWFuZEJsb2NrIiwiQ29tbWFuZEJsb2NrIiwiQmFzZVVuaXRzIiwiQ2FsbENvdW50IiwiVW5pdHNQZXJDYWxsIiwiVG90YWxVbml0cyIsIlR5cGUiLCJtb3VzZURvd24iLCJzZXQiLCJpbWFnZSIsIkltYWdlIiwiU3RhcnQiLCJzcmMiLCJNb3ZlIiwiQW5nbGUiLCJUaHJlYWQiLCJtb3VzZVVwIiwiX3RoaXMiLCJmb3JFYWNoIiwiYmxvY2siLCJ0aGlzQ29tbWFuZERhdGEiLCJjdXJyZW50Q2FsbENvdW50IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwidHJhbnNsYXRlIiwiZHJhd0ltYWdlIiwiZm9udCIsIm9mZnNldFgiLCJmaWxsVGV4dCIsInRvU3RyaW5nIiwiQ29tbWFuZEJsb2NrX0NvbW1hbmRCbG9ja0J1dHRvbiIsIkNvbW1hbmRCbG9ja0J1dHRvbiIsInVwZGF0ZURhdGEiLCJGbG93QmxvY2tfRmxvd0Jsb2NrIiwiRmxvd0Jsb2NrIiwiVXAiLCJEb3duIiwiTGVmdCIsIlJpZ2h0Iiwic3Ryb2tlU3R5bGUiLCJGbG93QmxvY2tfRmxvd0Jsb2NrQnV0dG9uIiwiRmxvd0Jsb2NrQnV0dG9uIiwiU2xpZGVyIiwiTWF4VW5pdHMiLCJVcGRhdGVEYXRhQ2FsbEJhY2siLCJTbmFwQW1vdW50IiwibWF4VW5pdHMiLCJzbmFwQW1vdW50IiwidXBkYXRlRGF0YUNhbGxCYWNrIiwiTWF0aCIsInJvdW5kIiwiYmFySCIsImJhclciLCJiYXJYIiwiYmFyWSIsImJhckNvbG9yIiwic2xpZGVySCIsInNsaWRlclciLCJzbGlkZXJYIiwic2xpZGVyWSIsInNsaWRlckNvbG9yIiwicGVyY2VudGFnZSIsImNhbGN1bGF0ZWRDYWxsQ291bnQiLCJ0ZW1wU2xpZGVyWSIsIlRocmVhZE9ic2VydmVyX1RocmVhZE9ic2VydmVyIiwiVGhyZWFkT2JzZXJ2ZXIiLCJ0aHJlYWRzIiwicmVjYWxjdWxhdGVFeGlzdGluZ1RocmVhZENvdW50cyIsInRlbXBDb21tYW5kVGhyZWFkQXJyYXkiLCJ0ZW1wR3JpZFRocmVhZEFycmF5Iiwic29ydCIsImEiLCJiIiwibGVuZ3RoIiwidGVtcFRocmVhZENvdW50IiwidGVtcFRocmVhZENvdW50XzEiLCJQbHVzTWludXMiLCJtaW51c1giLCJtaW51c1kiLCJtaW51c0giLCJtaW51c1ciLCJwbHVzWCIsInBsdXNZIiwicGx1c0giLCJwbHVzVyIsIm1vdXNlRG93bk1pbnVzIiwibW91c2VEb3duUGx1cyIsInRhcmdldFRocmVhZCIsIlJvYm90IiwiYW5nbGUiLCJyb3RhdGUiLCJQSSIsIm1vdmUiLCJkaXN0YW5jZSIsIngyIiwiY29zIiwieTIiLCJzaW4iLCJ0dXJuQ2xvY2tXaXNlIiwiZGVncmVlcyIsInN0YXJ0TmV3VGhyZWFkQ2FsbCIsInRocmVhZEJsb2NrIiwiZmluZE5leHRDYWxsIiwidW5kZWZpbmVkIiwiY29uc29sZSIsImxvZyIsInByZXZCbG9jayIsInRhcmdldFJvdyIsInRhcmdldENvbCIsImVudGl0eSIsImFuZ2xlQ2FsbCIsIm1vdmVDYWxsIiwic3RhcnRDYWxsIiwibGV2ZWxPYmoiLCJwYWxldHRlQ29sb3IiLCJ5T2Zmc2V0IiwieE9mZnNldCIsIm1heFhPZmZzZXQiLCJjb21tYW5kUGFsZXR0ZUgiLCJjb21tYW5kUGFsZXR0ZVciLCJzdGFydEJsb2NrIiwibW92ZUJsb2NrIiwiYW5nbGVCbG9jayIsIkxhc2VyIiwiU2NhbiIsIkdyYXBwbGUiLCJHZW5lcmF0ZUxldmVsIiwibGV2ZWwxIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVzZXJJbnRlcmZhY2UiLCJldnQiLCJjbGllbnRYIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJjbGllbnRZIiwidG9wIiwiYm90dG9tIiwiaGVpZ2h0Iiwid2luZG93Iiwib25rZXl1cCIsImUiLCJrZXlDb2RlIiwiU2V0VXBFdmVudExpc3RlbmVycyIsInJvYm90Iiwic2V0SW50ZXJ2YWwiLCJ1aXMiLCJjbGVhclJlY3QiLCJiZWdpblBhdGgiLCJzdHJva2UiLCJjYWxsU3RhY2siLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlE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QVVoQixlQUNsQzBMLEVBQVVySSxRQUFRLFNBQUFDLEdBRVZBLEVBQU1FLGlCQUFtQixHQUN6QkYsRUFBTWhHLE9BQ04wRCxFQUFVakIsVUFBVXlCLEtBQUs4QixJQUl6QkEsRUFBTWhHLFNBS2QwRCxFQUFVaEIsZ0JBQWlCLEdBRWhDLElBbkNQLENBb0N1QjJMLFNBQVNDLGVBQWUiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiaW1wb3J0IHsgSUJhc2VCbG9jayB9IGZyb20gXCIuL0lCYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IElCYXNlVXNlckludGVyZmFjZSB9IGZyb20gXCIuL0lCYXNlVXNlckludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBJQmFzZUVudGl0eSB9IGZyb20gXCIuL0lCYXNlRW50aXR5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIHtcclxuICAgIHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICByZWFkb25seSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHJlYWRvbmx5IHJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0O1xyXG4gICAgcHVibGljIGJsb2NrczogSUJhc2VCbG9ja1tdID0gW107XHJcbiAgICBwdWJsaWMgZW50aXRpZXM6IElCYXNlRW50aXR5W10gPSBbXTtcclxuICAgIHB1YmxpYyB1c2VySW50ZXJmYWNlczogSUJhc2VVc2VySW50ZXJmYWNlW10gPSBbXTtcclxuICAgIHB1YmxpYyBtb3VzZVg6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgbW91c2VZOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGNvbW1hbmRDb250cm9sOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHB1YmxpYyBmbG93Q29udHJvbDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIG5leHRTdGFjazogR3JpZEJsb2NrW10gPSBbXTtcclxuICAgIHB1YmxpYyBwcm9ncmFtUnVubmluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IoQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gQ2FudmFzO1xyXG4gICAgICAgIHRoaXMuY3R4ID0gQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLnJlY3QgPSBDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZW51bSBDb21tYW5kVHlwZXMge1xyXG4gICAgRW1wdHksXHJcbiAgICBTdGFydCxcclxuICAgIE1vdmUsXHJcbiAgICBBbmdsZSxcclxuICAgIFRocmVhZCxcclxuICAgIFNjYW4sXHJcbiAgICBMYXNlcixcclxuICAgIEdyYXBwbGVcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRmxvd1R5cGVzIHtcclxuICAgIEVtcHR5LFxyXG4gICAgVXAsXHJcbiAgICBEb3duLFxyXG4gICAgTGVmdCxcclxuICAgIFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0UmlnaHQsXHJcbiAgICBDb25kaXRpb25hbExlZnRVcCxcclxuICAgIENvbmRpdGlvbmFsTGVmdERvd24sXHJcbiAgICBDb25kaXRpb25hbFVwUmlnaHQsXHJcbiAgICBDb25kaXRpb25hbFVwRG93bixcclxuICAgIENvbmRpdGlvbmFsRG93blJpZ2h0XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgSUJhc2VCbG9jayB9IGZyb20gXCIuL0lCYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRCbG9jayBpbXBsZW1lbnRzIElCYXNlQmxvY2sge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcjogbnVtYmVyO1xyXG4gICAgcHVibGljIGM6IG51bWJlcjtcclxuICAgIHB1YmxpYyBjb21tYW5kRGF0YTogSUNvbW1hbmREYXRhO1xyXG4gICAgcHVibGljIGN1cnJlbnRDYWxsQ291bnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBmbG93VHlwZTogRmxvd1R5cGVzO1xyXG4gICAgcHVibGljIGNhbGw6ICgpID0+IHZvaWQ7XHJcbiAgICByZWFkb25seSBjb2xvcjogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgUm93OiBudW1iZXIsIENvbHVtbjogbnVtYmVyLCBDb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy54ID0gWDtcclxuICAgICAgICB0aGlzLnkgPSBZO1xyXG4gICAgICAgIHRoaXMuaCA9IEg7XHJcbiAgICAgICAgdGhpcy53ID0gVztcclxuICAgICAgICB0aGlzLmNvbG9yID0gQ29sb3I7XHJcbiAgICAgICAgdGhpcy5yID0gUm93O1xyXG4gICAgICAgIHRoaXMuYyA9IENvbHVtbjtcclxuICAgICAgICB0aGlzLmZsb3dUeXBlID0gRmxvd1R5cGVzLkVtcHR5O1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZERhdGEgPSB7XHJcbiAgICAgICAgICAgIGJhc2VVbml0czogMCxcclxuICAgICAgICAgICAgdG90YWxVbml0czogMCxcclxuICAgICAgICAgICAgdW5pdHNQZXJDYWxsOiAwLFxyXG4gICAgICAgICAgICBjYWxsQ291bnQ6IDAsXHJcbiAgICAgICAgICAgIHR5cGU6IENvbW1hbmRUeXBlcy5FbXB0eVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7fVxyXG59XHJcblxyXG4vKipcclxuKiBJbnRlcmZhY2UgdG8gY29tbXVuaWNhdGUgY29tbWFuZCBkYXRhLlxyXG4qL1xyXG5leHBvcnQgaW50ZXJmYWNlIElDb21tYW5kRGF0YSB7XHJcbiAgICAvKipcclxuICAgICogTWluaW11bSBhbW91bnQgb2YgdW5pdHMgcGVyIGV4ZWN1dGlvbiBhbmQgY29tbW9uIGRlbm9taW5hdG9yLlxyXG4gICAgKi9cclxuICAgIGJhc2VVbml0czogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVbml0cyBwZXIgY2FsbC5cclxuICAgICAqL1xyXG4gICAgdW5pdHNQZXJDYWxsOiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICogVG90YWwgdW5pdHMgYWZ0ZXIgcGFzcyBvZiBleGVjdXRpb24gaS5lLiBhZnRlciBhbGwgY2FsbChzKS5cclxuICAgICovXHJcbiAgICB0b3RhbFVuaXRzOiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICogQW1vdW50IG9mIGNhbGxzIGZvciBhIHNpbmdsZSBwYXNzIG9mIGV4ZWN1dGlvbi5cclxuICAgICovXHJcbiAgICBjYWxsQ291bnQ6IG51bWJlcjtcclxuICAgIC8qKlxyXG4gICAgKiBUeXBlIG9mIGNvbW1hbmQgZm9yIHRoZSBleGVjdXRpb24gcHJvY2Vzcy5cclxuICAgICovXHJcbiAgICB0eXBlOiBDb21tYW5kVHlwZXM7XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgSUJhc2VCbG9jayB9IGZyb20gXCIuL0lCYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuaW1wb3J0IHsgSUNvbW1hbmREYXRhLCBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2sgaW1wbGVtZW50cyBJQ29tbWFuZERhdGEsIElCYXNlQmxvY2sge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBiYXNlVW5pdHM6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGNhbGxDb3VudDogbnVtYmVyO1xyXG4gICAgcHVibGljIHVuaXRzUGVyQ2FsbDogbnVtYmVyO1xyXG4gICAgcHVibGljIHRvdGFsVW5pdHM6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgcHVibGljIHNldDogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IHR5cGU6IENvbW1hbmRUeXBlcztcclxuICAgIHJlYWRvbmx5IGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQmFzZVVuaXRzOiBudW1iZXIsIENhbGxDb3VudDogbnVtYmVyLCBVbml0c1BlckNhbGw6IG51bWJlciwgVG90YWxVbml0czogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBDb21tYW5kVHlwZXMpIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLnggPSBYO1xyXG4gICAgICAgIHRoaXMueSA9IFk7XHJcbiAgICAgICAgdGhpcy5oID0gSDtcclxuICAgICAgICB0aGlzLncgPSBXO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBDb2xvcjtcclxuICAgICAgICB0aGlzLmJhc2VVbml0cyA9IEJhc2VVbml0cztcclxuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IENhbGxDb3VudDtcclxuICAgICAgICB0aGlzLnVuaXRzUGVyQ2FsbCA9IFVuaXRzUGVyQ2FsbDtcclxuICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSBUb3RhbFVuaXRzO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvU3RhcnRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTW92ZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvQW5nbGVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5UaHJlYWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9UaHJlYWRCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1ldGhvZCBjYWxsZWQgaW4gU2V0VXBFdmVudExpc3RlbmVycy50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbW91c2VVcCgpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gaS5lLiBkcm9wcGluZyBibG9ja1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrICYmIGJsb2NrLmNvbW1hbmREYXRhLnR5cGUgPT09IENvbW1hbmRUeXBlcy5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLnggPCB0aGlzLnggKyB0aGlzLncgJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay54ICsgYmxvY2sudyA+IHRoaXMueCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnkgPCB0aGlzLnkgKyB0aGlzLmggJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5oICsgYmxvY2sueSA+IHRoaXMueSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzbmFwIHRoaXMgY29tbWFuZCBibG9jayB0byBlbXB0eSBHcmlkQmxvY2tcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSBibG9jay54O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSA9IGJsb2NrLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGlzQ29tbWFuZERhdGE6IElDb21tYW5kRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVW5pdHM6IHRoaXMuYmFzZVVuaXRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQ291bnQ6IHRoaXMuY2FsbENvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml0c1BlckNhbGw6IHRoaXMudW5pdHNQZXJDYWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFVuaXRzOiB0aGlzLnRvdGFsVW5pdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgR3JpZEJsb2NrJ3MgY29tbWFuZERhdGEgYW5kIGN1cnJlbnRDYWxsQ291bnQgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmNvbW1hbmREYXRhLnR5cGUgPSB0aGlzQ29tbWFuZERhdGEudHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS5iYXNlVW5pdHMgPSB0aGlzQ29tbWFuZERhdGEuYmFzZVVuaXRzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmNvbW1hbmREYXRhLmNhbGxDb3VudCA9IHRoaXNDb21tYW5kRGF0YS5jYWxsQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY29tbWFuZERhdGEudW5pdHNQZXJDYWxsID0gdGhpc0NvbW1hbmREYXRhLnVuaXRzUGVyQ2FsbDtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS50b3RhbFVuaXRzID0gdGhpc0NvbW1hbmREYXRhLnRvdGFsVW5pdHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBjdXJyZW50Q2FsbENvdW50IGVxdWFsIHRvIGNhbGxDb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmN1cnJlbnRDYWxsQ291bnQgPSB0aGlzLmNhbGxDb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBkZWxldGUgaWYgZHJvcHBpbmcgYmxvY2sgYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhIGVtcHR5IGdyaWQgYmxvY2sgdG8gYmUgc2V0IG9uXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYWcgY29tbWFuZCBibG9ja1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVggLSB0aGlzLncvMjtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lU3RhdGUubW91c2VZIC0gdGhpcy5oLzI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZm9udCA9IFwiMTVweCBBcmlhbFwiO1xyXG4gICAgICAgIGxldCBvZmZzZXRYID0gMzA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsVW5pdHMgPiA5OSkge1xyXG4gICAgICAgICAgICBvZmZzZXRYID0gMjU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG90YWxVbml0cyA8IDEwKSB7XHJcbiAgICAgICAgICAgIG9mZnNldFggPSAzNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsVGV4dCgodGhpcy50b3RhbFVuaXRzKS50b1N0cmluZygpLCB0aGlzLnggKyBvZmZzZXRYLCB0aGlzLnkgKyA0OCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENPTlNJREVSOiBleHRlbmRpbmcgQ29tbWFuZEJsb2NrIGNsYXNzXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2tCdXR0b24gaW1wbGVtZW50cyBJQ29tbWFuZERhdGEsIElCYXNlQmxvY2sge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYmFzZVVuaXRzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdW5pdHNQZXJDYWxsOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdG90YWxVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICByZWFkb25seSB0eXBlOiBDb21tYW5kVHlwZXM7XHJcbiAgICByZWFkb25seSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IENvbW1hbmRUeXBlcykge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLmggPSBIO1xyXG4gICAgICAgIHRoaXMudyA9IFc7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IENvbG9yO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5iYXNlVW5pdHMgPSAwO1xyXG4gICAgICAgIHRoaXMuY2FsbENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnVuaXRzUGVyQ2FsbCA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbFVuaXRzID0gMDtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5TdGFydDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1N0YXJ0QmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuTW92ZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL01vdmVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0FuZ2xlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuVGhyZWFkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVGhyZWFkQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0byBiZSBwYXNzZWQgaW4gYXMgcmVmZXJlbmNlIHRvIGNvcnJlc3BvbmRpbmcgVUkuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGVEYXRhID0gKENhbGxDb3VudDogbnVtYmVyLCBCYXNlVW5pdHM6IG51bWJlciwgVW5pdHNQZXJDYWxsOiBudW1iZXIsIFRvdGFsVW5pdHM6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FsbENvdW50ID0gQ2FsbENvdW50O1xyXG4gICAgICAgIHRoaXMuYmFzZVVuaXRzID0gQmFzZVVuaXRzO1xyXG4gICAgICAgIHRoaXMudW5pdHNQZXJDYWxsID0gVW5pdHNQZXJDYWxsO1xyXG4gICAgICAgIHRoaXMudG90YWxVbml0cyA9IFRvdGFsVW5pdHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2sodGhpcy5nYW1lU3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VVbml0cywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxDb3VudCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuaXRzUGVyQ2FsbCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsVW5pdHMsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvciwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZvbnQgPSBcIjE1cHggQXJpYWxcIjtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IDMwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFVuaXRzID4gOTkpIHtcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDI1O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy50b3RhbFVuaXRzIDwgMTApIHtcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDM1O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxUZXh0KCh0aGlzLnRvdGFsVW5pdHMpLnRvU3RyaW5nKCksIHRoaXMueCArIG9mZnNldFgsIHRoaXMueSArIDQ4KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBJQmFzZUJsb2NrIH0gZnJvbSBcIi4vSUJhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGbG93QmxvY2sgaW1wbGVtZW50cyBJQmFzZUJsb2NrIHtcclxuICAgIHByb3RlY3RlZCBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHJlYWRvbmx5IHR5cGU6IEZsb3dUeXBlcztcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdzogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG4gICAgcHVibGljIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBzZXQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgY29sb3I6IHN0cmluZztcclxuICAgIHJlYWRvbmx5IGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogRmxvd1R5cGVzKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy54ID0gWDtcclxuICAgICAgICB0aGlzLnkgPSBZO1xyXG4gICAgICAgIHRoaXMuaCA9IEg7XHJcbiAgICAgICAgdGhpcy53ID0gVztcclxuICAgICAgICB0aGlzLmNvbG9yID0gQ29sb3I7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgc3dpdGNoKFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuVXA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9VcEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Eb3duQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuTGVmdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0xlZnRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5SaWdodDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1JpZ2h0QXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBtZXRob2QgY2FsbGVkIGluIFNldFVwRXZlbnRMaXN0ZW5lcnMudHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIG1vdXNlVXAoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyb3AgZmxvdyBibG9ja1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrICYmIGJsb2NrLmZsb3dUeXBlID09PSBGbG93VHlwZXMuRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay54IDwgdGhpcy54ICsgdGhpcy53ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueCArIGJsb2NrLncgPiB0aGlzLnggJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay55IDwgdGhpcy55ICsgdGhpcy5oICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suaCArIGJsb2NrLnkgPiB0aGlzLnkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc25hcCB0aGlzIGZsb3cgYmxvY2sgdG8gZW1wdHkgR3JpZEJsb2NrXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54ID0gYmxvY2sueDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnkgPSBibG9jay55O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5mbG93VHlwZSA9IHRoaXMudHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgY29uZGl0aW9uYWwgcHJvcGVydGllcyBoZXJlIGlmIGNvbmRpdGlvbmFsIGJsb2NrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZGVsZXRlIGlmIGRyb3BwaW5nIGJsb2NrIGFuZCBpdCBkb2Vzbid0IGhhdmUgYW4gZW1wdHkgZ3JpZCBibG9jayB0byBiZSBzZXQgb25cclxuICAgICAgICBpZiAoIXRoaXMuc2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gZHJhZyBmbG93IGJsb2NrXHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWCAtIHRoaXMudy8yO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgLSB0aGlzLmgvMjtcclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIENPTlNJREVSOiBFeHRlbmRpbmcgRmxvd0Jsb2NrIGhlcmVcclxuZXhwb3J0IGNsYXNzIEZsb3dCbG9ja0J1dHRvbiBpbXBsZW1lbnRzIElCYXNlQmxvY2sge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBjb2xvcjogc3RyaW5nO1xyXG4gICAgcHVibGljIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IHR5cGU6IEZsb3dUeXBlcztcclxuICAgIHJlYWRvbmx5IGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogRmxvd1R5cGVzKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy54ID0gWDtcclxuICAgICAgICB0aGlzLnkgPSBZO1xyXG4gICAgICAgIHRoaXMuaCA9IEg7XHJcbiAgICAgICAgdGhpcy53ID0gVztcclxuICAgICAgICB0aGlzLmNvbG9yID0gQ29sb3I7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5VcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1VwQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuRG93bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0Rvd25BcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvUmlnaHRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBGbG93QmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy5jb2xvciwgdGhpcy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBJQmFzZVVzZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi9JQmFzZVVzZXJJbnRlcmZhY2VcIjtcclxuXHJcbi8vIG1heWJlIGFkZCBzdXBwb3J0IGZvciB0aHJlYWQgc3RhcnRlcj9cclxuZXhwb3J0IGNsYXNzIFNsaWRlciBpbXBsZW1lbnRzIElCYXNlVXNlckludGVyZmFjZSB7XHJcbiAgICBwdWJsaWMgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBzbmFwQW1vdW50OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBlcmNlbnRhZ2U6IG51bWJlcjtcclxuICAgIHB1YmxpYyB2YWx1ZTogbnVtYmVyO1xyXG4gICAgcHVibGljIHVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlciwgdW5pdHNQZXJDYWxsOiBudW1iZXIsIHRvdGFsVW5pdHM6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIHJlYWRvbmx5IG1heFVuaXRzOiBudW1iZXI7XHJcbiAgICByZWFkb25seSB1bml0c1BlckNhbGw6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhc2VVbml0czogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0b3RhbFVuaXRzOiBudW1iZXI7XHJcbiAgICByZWFkb25seSB0eXBlOiBDb21tYW5kVHlwZXMgfCBGbG93VHlwZXM7XHJcbiAgICBwdWJsaWMgc2xpZGVyWDogbnVtYmVyO1xyXG4gICAgcHVibGljIHNsaWRlclk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlckg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlclc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlckNvbG9yOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYmFyWDogbnVtYmVyO1xyXG4gICAgcHVibGljIGJhclk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhckg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhclc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhckNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWCA6bnVtYmVyLCBZOiBudW1iZXIsIE1heFVuaXRzOiBudW1iZXIsIFVuaXRzUGVyQ2FsbDogbnVtYmVyLCBUeXBlOiBDb21tYW5kVHlwZXMgfCBGbG93VHlwZXMsIFVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlciwgdW5pdHNQZXJDYWxsOiBudW1iZXIsIHRvdGFsVW5pdHM6IG51bWJlcikgPT4gdm9pZCwgU25hcEFtb3VudDogbnVtYmVyID0gMTApIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWF4VW5pdHMgPSBNYXhVbml0cztcclxuICAgICAgICB0aGlzLnVuaXRzUGVyQ2FsbCA9IFVuaXRzUGVyQ2FsbDtcclxuICAgICAgICB0aGlzLnNuYXBBbW91bnQgPSBTbmFwQW1vdW50O1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrID0gVXBkYXRlRGF0YUNhbGxCYWNrO1xyXG4gICAgICAgIHRoaXMuYmFzZVVuaXRzID0gTWF0aC5yb3VuZCh0aGlzLm1heFVuaXRzIC8gdGhpcy5zbmFwQW1vdW50KTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMuYmFySCA9IDc1O1xyXG4gICAgICAgIHRoaXMuYmFyVyA9IDEwO1xyXG4gICAgICAgIHRoaXMuYmFyWCA9IFg7XHJcbiAgICAgICAgdGhpcy5iYXJZID0gWTtcclxuICAgICAgICB0aGlzLmJhckNvbG9yID0gXCJ0aGlzdGxlXCI7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJIID0gMTA7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJXID0gMTU7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJYID0gWDtcclxuICAgICAgICB0aGlzLnNsaWRlclkgPSBZICsgdGhpcy5iYXJILzIgLSB0aGlzLnNsaWRlckgvMjtcclxuICAgICAgICB0aGlzLnNsaWRlckNvbG9yID0gXCJwdXJwbGVcIjtcclxuICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxIC0gKHRoaXMuc2xpZGVyWSAtIHRoaXMuYmFyWSArIHRoaXMuc2xpZGVySC8yKSAvIHRoaXMuYmFySDtcclxuICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnBlcmNlbnRhZ2UgKiB0aGlzLnNuYXBBbW91bnQpIC8gdGhpcy5zbmFwQW1vdW50O1xyXG4gICAgICAgIHRoaXMudG90YWxVbml0cyA9IE1hdGgucm91bmQoKHRoaXMudmFsdWUgKiB0aGlzLm1heFVuaXRzKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLnVzZXJJbnRlcmZhY2VzLnB1c2godGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgZGF0YVxyXG4gICAgICAgIGxldCBjYWxjdWxhdGVkQ2FsbENvdW50ID0gdGhpcy50b3RhbFVuaXRzIC8gdGhpcy51bml0c1BlckNhbGw7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2soY2FsY3VsYXRlZENhbGxDb3VudCwgdGhpcy5iYXNlVW5pdHMsIHRoaXMudW5pdHNQZXJDYWxsLCB0aGlzLnRvdGFsVW5pdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iYXJZIC0gdGhpcy5zbGlkZXJILzIgPCB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFyWSArIHRoaXMuYmFySCAtIHRoaXMuc2xpZGVySC8yID4gdGhpcy5nYW1lU3RhdGUubW91c2VZKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU2xpZGVyWSA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWTtcclxuICAgICAgICAgICAgICAgIC8vIGZpbmQgcGVyY2VudGFnZSBzbGlkZXIgaXMgdXAgdmVydGljYWwgb24gYmFyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxIC0gKHRlbXBTbGlkZXJZIC0gdGhpcy5iYXJZICsgdGhpcy5zbGlkZXJILzIpIC8gdGhpcy5iYXJIO1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSB0byBiZSB0aGUgcm91bmRlZCBwZXJjZW50YWdlIGJhc2VkIG9uIHNuYXAgYW1vdW50XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnBlcmNlbnRhZ2UgKiB0aGlzLnNuYXBBbW91bnQpIC8gdGhpcy5zbmFwQW1vdW50O1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0IHNsaWRlclkgdmFsdWUgYmFzZWQgb24gbmV3IHZhbHVlIGZyb20gdGhlIHJvdW5kZWQgcGVyY2FudGFnZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXJZID0gdGhpcy5iYXJIICsgdGhpcy5iYXJZIC0gKHRoaXMuc2xpZGVySC8yKSAtICh0aGlzLnZhbHVlICogdGhpcy5iYXJIKTtcclxuICAgICAgICAgICAgICAgIC8vIHNldCB0b3RhbCB1bml0cyB0byBiZSB2YWx1ZSAocmF0aW8pIG9mIHNsaWRlciB0aW1lcyBtYXggdW5pdHNcclxuICAgICAgICAgICAgICAgIHRoaXMudG90YWxVbml0cyA9IE1hdGgucm91bmQoKHRoaXMudmFsdWUgKiB0aGlzLm1heFVuaXRzKSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjYWxsQ291bnQgZm9yIGNhbGxCYWNrIHdpbGwgYmUgdG90YWxVbml0cyBkaXZpZGVkIGJ5IHVuaXRzUGVyQ2FsbFxyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlZENhbGxDb3VudCA9IHRoaXMudG90YWxVbml0cyAvIHRoaXMudW5pdHNQZXJDYWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrKGNhbGN1bGF0ZWRDYWxsQ291bnQsIHRoaXMuYmFzZVVuaXRzLCB0aGlzLnVuaXRzUGVyQ2FsbCwgdGhpcy50b3RhbFVuaXRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gZHJhdyBiYXJcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5iYXJDb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy5iYXJYLCB0aGlzLmJhclksIHRoaXMuYmFyVywgdGhpcy5iYXJIKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyBzbGlkZXJcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5zbGlkZXJDb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy5zbGlkZXJYIC0gdGhpcy5zbGlkZXJILzQsIHRoaXMuc2xpZGVyWSwgdGhpcy5zbGlkZXJXLCB0aGlzLnNsaWRlckgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSUJhc2VVc2VySW50ZXJmYWNlIH0gZnJvbSBcIi4vSUJhc2VVc2VySW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiXHJcbmltcG9ydCB7IENvbW1hbmRCbG9jayB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaHJlYWRPYnNlcnZlciBpbXBsZW1lbnRzIElCYXNlVXNlckludGVyZmFjZSB7XHJcbiAgICBwdWJsaWMgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHB1YmxpYyBoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdzogbnVtYmVyO1xyXG4gICAgcHVibGljIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHB1YmxpYyB0aHJlYWRzOiBudW1iZXI7XHJcbiAgICB1cGRhdGVEYXRhQ2FsbEJhY2s6IChjYWxsQ291bnQ6IG51bWJlciwgYmFzZVVuaXRzOiBudW1iZXIsIHVuaXRzUGVyQ2FsbDogbnVtYmVyLCB0b3RhbFRocmVhZHM6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIFVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlciwgdW5pdHNQZXJDYWxsOiBudW1iZXIsIHRvdGFsVGhyZWFkczogbnVtYmVyKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy54ID0gWDtcclxuICAgICAgICB0aGlzLnkgPSBZO1xyXG4gICAgICAgIHRoaXMuaCA9IEg7XHJcbiAgICAgICAgdGhpcy53ID0gVztcclxuICAgICAgICB0aGlzLnRocmVhZHMgPSAxO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrID0gVXBkYXRlRGF0YUNhbGxCYWNrO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLnVzZXJJbnRlcmZhY2VzLnB1c2godGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgZGF0YVxyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrKDAsIDEsIDAsIHRoaXMudGhyZWFkcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWNhbGN1bGF0ZUV4aXN0aW5nVGhyZWFkQ291bnRzKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBmb3IgdmlzdWFsc1xyXG4gICAgICAgIGxldCB0ZW1wQ29tbWFuZFRocmVhZEFycmF5OiBDb21tYW5kQmxvY2tbXSA9IFtdO1xyXG4gICAgICAgIC8vIGZvciBmdW5jdGlvbmFsaXR5XHJcbiAgICAgICAgbGV0IHRlbXBHcmlkVGhyZWFkQXJyYXk6IEdyaWRCbG9ja1tdID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gQ29tbWFuZFR5cGVzLlN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcENvbW1hbmRUaHJlYWRBcnJheS5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLmNvbW1hbmREYXRhLnR5cGUgPT09IENvbW1hbmRUeXBlcy5TdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBHcmlkVGhyZWFkQXJyYXkucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc29ydCB0ZW1wIHRocmVhZCBhcnJheXMsIHRvdGFsVW5pdHMgaXMgdGhlIHRocmVhZCBjb3VudFxyXG4gICAgICAgIC8vIENPTlNJREVSOiBtYWtpbmcgYW5vdGhlciBwcml2YXRlIGZ1bmN0aW9uIGNhbGxlZCBsaWtlIHNvcnRBbmRSZWNhbGN1bGF0ZVRocmVhZENvdW50c1xyXG4gICAgICAgIHRlbXBDb21tYW5kVGhyZWFkQXJyYXkuc29ydCgoYSxiKSA9PiAoYS50b3RhbFVuaXRzID4gYi50b3RhbFVuaXRzKSA/IDEgOiAoKGIudG90YWxVbml0cyA+IGEudG90YWxVbml0cykgPyAtMSA6IDApKTtcclxuICAgICAgICB0ZW1wR3JpZFRocmVhZEFycmF5LnNvcnQoKGEsYikgPT4gKGEuY29tbWFuZERhdGEudG90YWxVbml0cyA+IGIuY29tbWFuZERhdGEudG90YWxVbml0cykgPyAxIDogKChiLmNvbW1hbmREYXRhLnRvdGFsVW5pdHMgPiBhLmNvbW1hbmREYXRhLnRvdGFsVW5pdHMpID8gLTEgOiAwKSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcENvbW1hbmRUaHJlYWRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSArIDEgPCB0ZW1wQ29tbWFuZFRocmVhZEFycmF5W2ldLnRvdGFsVW5pdHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIHN1YnRyYWN0IHRocmVhZCBjb3VudCBpZiBub3QgaW4gb3JkZXIgaS5lLiAxLCAyLCA0LiAtPiA0IHR1cm5zIGludG8gM1xyXG4gICAgICAgICAgICAgICAgdGVtcENvbW1hbmRUaHJlYWRBcnJheVtpXS50b3RhbFVuaXRzLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcEdyaWRUaHJlYWRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSArIDEgPCB0ZW1wR3JpZFRocmVhZEFycmF5W2ldLmNvbW1hbmREYXRhLnRvdGFsVW5pdHMpIHtcclxuICAgICAgICAgICAgICAgIHRlbXBHcmlkVGhyZWFkQXJyYXlbaV0uY29tbWFuZERhdGEudG90YWxVbml0cy0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZVVwKCkgOiB2b2lkIHsgXHJcbiAgICAgICAgbGV0IHRlbXBUaHJlYWRDb3VudCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gQ29tbWFuZFR5cGVzLlN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFRocmVhZENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy50aHJlYWRzID0gdGVtcFRocmVhZENvdW50O1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjaygwLCAxLCAwLCB0aGlzLnRocmVhZHMpO1xyXG5cclxuICAgICAgICB0aGlzLnJlY2FsY3VsYXRlRXhpc3RpbmdUaHJlYWRDb3VudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgdGVtcFRocmVhZENvdW50ID0gMTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLnR5cGUgPT09IENvbW1hbmRUeXBlcy5TdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wVGhyZWFkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aHJlYWRzID0gdGVtcFRocmVhZENvdW50O1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2soMCwgMSwgMCwgdGhpcy50aHJlYWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKSA6IHZvaWQge31cclxufSIsImltcG9ydCB7IElCYXNlVXNlckludGVyZmFjZSB9IGZyb20gXCIuL0lCYXNlVXNlckludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbHVzTWludXMgaW1wbGVtZW50cyBJQmFzZVVzZXJJbnRlcmZhY2Uge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBwbHVzWDogbnVtYmVyO1xyXG4gICAgcGx1c1k6IG51bWJlcjtcclxuICAgIHBsdXNIOiBudW1iZXI7XHJcbiAgICBwbHVzVzogbnVtYmVyO1xyXG4gICAgbW91c2VEb3duUGx1czogYm9vbGVhbjtcclxuICAgIG1pbnVzWDogbnVtYmVyO1xyXG4gICAgbWludXNZOiBudW1iZXI7XHJcbiAgICBtaW51c0g6IG51bWJlcjtcclxuICAgIG1pbnVzVzogbnVtYmVyO1xyXG4gICAgbW91c2VEb3duTWludXM6IGJvb2xlYW47XHJcbiAgICB0YXJnZXRUaHJlYWQ6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICB1cGRhdGVEYXRhQ2FsbEJhY2s6IChjYWxsQ291bnQ6IG51bWJlciwgYmFzZVVuaXRzOiBudW1iZXIsIHVuaXRzUGVyQ2FsbDogbnVtYmVyLCB0b3RhbFVuaXRzOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIFVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlciwgdW5pdHNQZXJDYWxsOiBudW1iZXIsIHRvdGFsVW5pdHM6IG51bWJlcikgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMubWludXNYID0gWDtcclxuICAgICAgICB0aGlzLm1pbnVzWSA9IFk7XHJcbiAgICAgICAgdGhpcy5taW51c0ggPSAxMDtcclxuICAgICAgICB0aGlzLm1pbnVzVyA9IDE1O1xyXG4gICAgICAgIHRoaXMucGx1c1ggPSBYICsgMjU7XHJcbiAgICAgICAgdGhpcy5wbHVzWSA9IFk7XHJcbiAgICAgICAgdGhpcy5wbHVzSCA9IDEwO1xyXG4gICAgICAgIHRoaXMucGx1c1cgPSAxNTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayA9IFVwZGF0ZURhdGFDYWxsQmFjaztcclxuICAgICAgICB0aGlzLmNvbG9yID0gXCJwdXJwbGVcIjtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duTWludXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93blBsdXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRhcmdldFRocmVhZCA9IDE7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2soMCwgMSwgMCwgdGhpcy50YXJnZXRUaHJlYWQpO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5tb3VzZURvd25QbHVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duUGx1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldFRocmVhZCsrO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjaygwLCAxLCAwLCB0aGlzLnRhcmdldFRocmVhZClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZURvd25NaW51cykge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93bk1pbnVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXRUaHJlYWQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFRocmVhZC0tO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2soMCwgMSwgMCwgdGhpcy50YXJnZXRUaHJlYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duTWludXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZURvd25QbHVzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gZHJhdyBtaW51c1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLm1pbnVzWCwgdGhpcy5taW51c1ksIHRoaXMubWludXNXLCB0aGlzLm1pbnVzSCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgcGx1c1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLnBsdXNYLCB0aGlzLnBsdXNZLCB0aGlzLnBsdXNXLCB0aGlzLnBsdXNIKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyAtLytcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gXCJ0aGlzdGxlXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZvbnQgPSBcIjE3cHggQXJpYWxcIjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFRleHQoXCItXCIsIHRoaXMubWludXNYICsgdGhpcy5taW51c1cvMywgdGhpcy5taW51c1kgKyB0aGlzLm1pbnVzSCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxUZXh0KFwiK1wiLCB0aGlzLnBsdXNYICsgdGhpcy5wbHVzVy80IC0gMSwgdGhpcy5wbHVzWSArIHRoaXMucGx1c0ggKyAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IElCYXNlRW50aXR5IH0gZnJvbSBcIklCYXNlRW50aXR5XCI7XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJvYm90IGltcGxlbWVudHMgSUJhc2VFbnRpdHkge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaDogbnVtYmVyO1xyXG4gICAgcHVibGljIHc6IG51bWJlcjtcclxuICAgIHB1YmxpYyBhbmdsZTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIHJlYWRvbmx5IGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLmggPSBIO1xyXG4gICAgICAgIHRoaXMudyA9IFc7XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IDA7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IFwiZ3JleVwiO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Sb2JvdEd1bi5wbmdcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCkgOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5yb3RhdGUodGhpcy5hbmdsZSAqIE1hdGguUEkvMTgwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QoLXRoaXMuaC8yLCAtdGhpcy53LzIsIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIC10aGlzLncvMiwgLXRoaXMuaC8yKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgucm90YXRlKC0odGhpcy5hbmdsZSAqIE1hdGguUEkvMTgwKSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW92ZShkaXN0YW5jZTogbnVtYmVyKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCB4MiA9IE1hdGguY29zKHRoaXMuYW5nbGUgKiBNYXRoLlBJLzE4MCkgKiBkaXN0YW5jZTtcclxuICAgICAgICBsZXQgeTIgPSBNYXRoLnNpbih0aGlzLmFuZ2xlICogTWF0aC5QSS8xODApICogZGlzdGFuY2U7XHJcbiAgICAgICAgdGhpcy54ICs9IHgyO1xyXG4gICAgICAgIHRoaXMueSArPSB5MjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHVybkNsb2NrV2lzZShkZWdyZWVzOiBudW1iZXIpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hbmdsZSArPSBkZWdyZWVzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMsIEZsb3dUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcbmltcG9ydCB7IFJvYm90IH0gZnJvbSBcIi4vUm9ib3RcIjtcclxuXHJcbmZ1bmN0aW9uIG1vdmVDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBpZiAoYmxvY2suY3VycmVudENhbGxDb3VudCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm1vdmVcIik7XHJcbiAgICAgICAgYmxvY2suY3VycmVudENhbGxDb3VudC0tO1xyXG5cclxuICAgICAgICBnYW1lU3RhdGUuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDT05TSURFUiBwYXNzaW5nIGluIHJlZmVyZW5jZSB0byByb2JvdCBpbiB0aGVzZSBjYWxsIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgICBpZiAoZW50aXR5IGluc3RhbmNlb2YgUm9ib3QpIHtcclxuICAgICAgICAgICAgICAgIGVudGl0eS5tb3ZlKGJsb2NrLmNvbW1hbmREYXRhLnVuaXRzUGVyQ2FsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYW5nbGVDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBpZiAoYmxvY2suY3VycmVudENhbGxDb3VudCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFuZ2xlXCIpO1xyXG4gICAgICAgIGJsb2NrLmN1cnJlbnRDYWxsQ291bnQtLTtcclxuXHJcbiAgICAgICAgZ2FtZVN0YXRlLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcclxuICAgICAgICAgICAgLy8gQ09OU0lERVIgcGFzc2luZyBpbiByZWZlcmVuY2UgdG8gcm9ib3QgaW4gdGhlc2UgY2FsbCBmdW5jdGlvbnNcclxuICAgICAgICAgICAgaWYgKGVudGl0eSBpbnN0YW5jZW9mIFJvYm90KSB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkudHVybkNsb2NrV2lzZShibG9jay5jb21tYW5kRGF0YS51bml0c1BlckNhbGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHdpbGwgb25seSBoYXZlIGZpbmROZXh0RXhlY3V0aW9uIGJpdFxyXG4vLyB3b24ndCBkbyBhbnl0aGluZyBleGNlcHQgY29udGludWUgZXhlY3V0aW9uIGlmIHBsYXllcnMgdXNlIGl0IGxpa2UgYSBub3JtYWwgY29tbWFuZCBibG9ja1xyXG5mdW5jdGlvbiBzdGFydENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XHJcbiAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE5ld1RocmVhZENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHRhcmdldFRocmVhZDogbnVtYmVyLCB0aHJlYWRCbG9jaz86IEdyaWRCbG9jaykge1xyXG4gICAgLy8gbG9jYXRlIHRhcmdldCB0aHJlYWQgYW5kIGZpbmQgaXQncyBuZXh0IGNhbGxcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5jb21tYW5kRGF0YS50eXBlID09PSBDb21tYW5kVHlwZXMuU3RhcnRcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmNvbW1hbmREYXRhLnRvdGFsVW5pdHMgPT09IHRhcmdldFRocmVhZFxyXG4gICAgICAgICAgICAgICAgJiYgYmxvY2suZmxvd1R5cGUgIT09IEZsb3dUeXBlcy5FbXB0eSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgdGhyZWFkXHJcbiAgICAgICAgICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBpZiBhdmFpbGFibGUsIGNvbnRpbnVlIG9uIHRvIGN1cnJlbnQgdGhyZWFkJ3MgbmV4dCBjYWxsXHJcbiAgICBpZiAodGhyZWFkQmxvY2sgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhyZWFkXCIpO1xyXG4gICAgICAgIGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIHRocmVhZEJsb2NrKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmluZE5leHRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBwcmV2QmxvY2s6IEdyaWRCbG9jaykgOiB2b2lkIHtcclxuICAgIGxldCB0YXJnZXRSb3c6IG51bWJlcjtcclxuICAgIGxldCB0YXJnZXRDb2w6IG51bWJlcjtcclxuICAgIC8vIHJlc2V0IGNhbGwgY291bnRcclxuICAgIHByZXZCbG9jay5jdXJyZW50Q2FsbENvdW50ID0gcHJldkJsb2NrLmNvbW1hbmREYXRhLmNhbGxDb3VudDtcclxuICAgIC8vIFRPRE86IGFkZCBjb25kaXRpb25hbHNcclxuICAgIC8vIHRoaXMgd2lsbCB3b3JrIHdlbGwgaGVyZSBzaW5jZSBlYWNoIGNhbGwgZmluZHMgdGhlIG5leHQgY2FsbFxyXG4gICAgLy8gYWZ0ZXIgaXQgaGFzIGFscmVhZHkgZXhlY3V0ZWRcclxuICAgIHN3aXRjaChwcmV2QmxvY2suZmxvd1R5cGUpIHtcclxuICAgICAgICBjYXNlIEZsb3dUeXBlcy5VcDpcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnIgLSAxO1xyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93VHlwZXMuRG93bjpcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnIgKyAxO1xyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93VHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jICsgMTtcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd1R5cGVzLkxlZnQ6XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jIC0gMTtcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5yID09PSB0YXJnZXRSb3cgJiYgYmxvY2suYyA9PT0gdGFyZ2V0Q29sXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5jb21tYW5kRGF0YS50eXBlICE9PSBDb21tYW5kVHlwZXMuRW1wdHlcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93VHlwZXMuRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChibG9jay5jb21tYW5kRGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuQW5nbGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBhbmdsZUNhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBtb3ZlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjay5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuU3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBzdGFydENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlRocmVhZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suY2FsbCA9ICgpID0+IHN0YXJ0TmV3VGhyZWFkQ2FsbChnYW1lU3RhdGUsIGJsb2NrLmNvbW1hbmREYXRhLnRvdGFsVW5pdHMsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjay5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2RlY2xhcmF0aW9ucy9qc29uLmQudHNcIiAvPlxyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IGxldmVsMSBmcm9tIFwiLi4vZGF0YS9sZXZlbHMvbGV2ZWwxLmpzb25cIjtcclxuaW1wb3J0IHsgR2VuZXJhdGVMZXZlbCB9IGZyb20gXCIuL0dlbmVyYXRlTGV2ZWxcIjtcclxuaW1wb3J0IHsgU2V0VXBFdmVudExpc3RlbmVycyB9IGZyb20gXCIuL1NldFVwRXZlbnRMaXN0ZW5lcnNcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrIH0gZnJvbSBcIi4vRmxvd0Jsb2NrXCI7XHJcbmltcG9ydCB7IFJvYm90IH0gZnJvbSBcIi4vUm9ib3RcIjtcclxuaW1wb3J0IHsgSUJhc2VVc2VySW50ZXJmYWNlIH0gZnJvbSBcIi4vSUJhc2VVc2VySW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IElCYXNlRW50aXR5IH0gZnJvbSBcIi4vSUJhc2VFbnRpdHlcIjtcclxuaW1wb3J0IHsgSUJhc2VCbG9jayB9IGZyb20gXCIuL0lCYXNlQmxvY2tcIjtcclxuXHJcbi8vIFRPRE86IHBhc3MgaW4gUFJPUEVSVElFUyBvZiBHYW1lU3RhdGUgdG8gdmFyaW91cyBtZXRob2RzIHRvIGNsYXJpZnkgYW5kXHJcbi8vIG1ha2Ugc3VjY2luY3QgdGhlIGRlcGVuZGVuY2llcyBmb3IgdGhlIG1ldGhvZFxyXG4vLyBeVE9ETzogc3dpdGNoIGFic3RyYWN0IGNsYXNzIEJhc2VCbG9jayB0byBiZSBhbiBpbnRlcmZhY2UgY2FsbGVkIElCYXNlQmxvY2sgXHJcbi8vIF5UT0RPOiBwYXNzIHJlZmVyZW5jZSB0byBHYW1lU3RhdGUgLyBHYW1lU3RhdGUgLyBwcm9wIGluIG1ldGhvZHMgKGRyYXcsIHVwZGF0ZSkgd2hlcmUgbmVlZGVkXHJcbi8vIC0+IGNhbiBwYXNzIGluIHRvIGNvbnN0cnVjdG9yIGFzIHdlbGxcclxuLy8gLS0+IGRvbid0IHdhbnQgdG8gc3RvcmUgaW4gYSBjbGFzcyBtZW1iZXIgdGhvXHJcbi8vIFRPRE86IGFkZCBiaWcgeWVsbG93IGJsb2NrIHRoYXQgcmVuZGVycyBiZWhpbmQgZ3JpZCBibG9ja3MgdG8gaW5kaWNhdGUgd2hpY2ggYmxvY2sgaXMgY3VycmVudGx5IGJlaW5nIGV4ZWN1dGVkXHJcbi8vIFRPRE86IGhhdmUgRmxvd0Jsb2NrQnV0dG9uIGFuZCBDb21tYW5kQmxvY2tCdXR0b25zIGV4dGVuZCBmcm9tIHRoZWlyIHJlc3BlY3RpdmUgYmxvY2tzXHJcbi8vIFRPRE86IHB1c2ggbW9zdCByZWNlbnRseSBjbGlja2VkIGNvbW1hbmQgLyBmbG93IGJsb2NrIHRvIHRvcCBvZiBibG9jayBhcnJheSB0byByZW5kZXIgaXQgb24gdG9wIG9mIGV2ZXJ5dGhpbmcgZWxzZVxyXG4vLyBUT0RPOiBzd2l0Y2ggc3BhY2ViYXIgY29udHJvbCBidXR0b24gdG8gY2xpY2thYmxlIHJhZGlvIGJ1dHRvblxyXG4vLyBUT0RPOiBhZGQgYmFzZSBVSSBjbGFzcyAvIHN3aXRjaCBzbGlkZXJbXSB0byBiYXNlVUlFbGVtZW50W10gaW4gR2FtZVN0YXRlXHJcbi8vIFRPRE86IGFkZCBleGVjdXRlIHByb2dyYW0gLyBzdG9wIHByb2dyYW0gYnV0dG9uc1xyXG4vLyBUT0RPOiBhZGQgbWFuaWZvbGQgY29sbGlzaW9uIHN5c3RlbSBmb3IgZ3JpZGJsb2NrIGNvbGxpc2lvbiB3aXRoIGZsb3cgYW5kIGNvbW1hbmQgYmxvY2tzLlxyXG4vLyAtPiBpLmUuIHNuYXAgY29tbWFuZCBibG9jayB0byBncmlkIGJsb2NrIHRoYXQgaGFzIHRoZSBiaWdnZXN0IG1hbmlmb2xkXHJcblxyXG5cclxuZnVuY3Rpb24gZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgdWlzOiBJQmFzZVVzZXJJbnRlcmZhY2VbXSwgZW50aXRpZXM6IElCYXNlRW50aXR5W10sIGJsb2NrczogSUJhc2VCbG9ja1tdKSA6IHZvaWQge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgIC8vIHJlbmRlciBVSSBlbGVtZW50c1xyXG4gICAgdWlzLmZvckVhY2godXNlckludGVyZmFjZSA9PiB7XHJcbiAgICAgICAgdXNlckludGVyZmFjZS5kcmF3KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIG5vbi1mbG93IGJsb2NrcyBmaXJzdFxyXG4gICAgYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGlmICghKGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSkge1xyXG4gICAgICAgICAgICBibG9jay5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcmVuZGVyIGFsbCBmbG93IGJsb2NrcyBsYXN0IHRvIGxheWVyIHRoZW0gb24gdG9wIG9mIGNvbW1hbmQgYmxvY2tzXHJcbiAgICBibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSB7XHJcbiAgICAgICAgICAgIGJsb2NrLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIGVudGl0aWVzXHJcbiAgICBlbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XHJcbiAgICAgICAgZW50aXR5LmRyYXcoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGN0eC5zdHJva2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlKGJsb2NrczogSUJhc2VCbG9ja1tdLCB1aXM6IElCYXNlVXNlckludGVyZmFjZVtdKSA6IHZvaWQge1xyXG4gICAgYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGJsb2NrLnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdWlzLmZvckVhY2godXNlckludGVyZmFjZSA9PiB7XHJcbiAgICAgICAgdXNlckludGVyZmFjZS51cGRhdGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcclxuICAgIC8vICAgICBlbnRpdHkudXBkYXRlKCk7XHJcbiAgICAvLyB9KTtcclxufVxyXG5cclxuLy8gTWFpbiBmdW5jdGlvblxyXG4oZnVuY3Rpb24oY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgLy8gc2V0IHVwIGdhbWUgc3RhdGVcclxuICAgIHZhciBnYW1lU3RhdGUgPSBuZXcgR2FtZVN0YXRlKGNhbnZhcyk7XHJcblxyXG4gICAgR2VuZXJhdGVMZXZlbChnYW1lU3RhdGUsIGxldmVsMSwgXCJsaWdodGJsdWVcIik7XHJcbiAgICBTZXRVcEV2ZW50TGlzdGVuZXJzKGdhbWVTdGF0ZSk7XHJcblxyXG4gICAgLy8gVGVzdCBlbnRpdHlcclxuICAgIGxldCByb2JvdCA9IG5ldyBSb2JvdChnYW1lU3RhdGUsIDM3NSwgMjAwLCAyNSwgMjUpO1xyXG4gICAgZ2FtZVN0YXRlLmVudGl0aWVzLnB1c2gocm9ib3QpO1xyXG5cclxuICAgIC8vIEV2ZW50IHB1bXBcclxuICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgICAgICB1cGRhdGUoZ2FtZVN0YXRlLmJsb2NrcywgZ2FtZVN0YXRlLnVzZXJJbnRlcmZhY2VzKTtcclxuICAgICAgICBkcmF3KGdhbWVTdGF0ZS5jdHgsIGdhbWVTdGF0ZS5jYW52YXMsIGdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcywgZ2FtZVN0YXRlLmVudGl0aWVzLCBnYW1lU3RhdGUuYmxvY2tzKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FsbFN0YWNrID0gZ2FtZVN0YXRlLm5leHRTdGFjaztcclxuICAgICAgICBnYW1lU3RhdGUubmV4dFN0YWNrID0gW107XHJcblxyXG4gICAgICAgIGlmIChjYWxsU3RhY2subGVuZ3RoID4gMCAmJiBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgY2FsbFN0YWNrLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBjYWxsIGNvbW1hbmQgYW5kIHB1c2ggaXQgYmFjayBvbiBzdGFja1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLmN1cnJlbnRDYWxsQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY2FsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBlbHNlIGp1c3QgY2FsbCBvbmNlIGFuZCBmaW5kIG5leHQgY2FsbFxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY2FsbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0sIDEyKTtcclxufSkoPEhUTUxDYW52YXNFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTY3JlZW5cIikpO1xyXG4iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2tCdXR0b24gfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tIFwiLi9TbGlkZXJcIjtcclxuaW1wb3J0IHsgVGhyZWFkT2JzZXJ2ZXIgfSBmcm9tIFwiLi9UaHJlYWRPYnNlcnZlclwiO1xyXG5pbXBvcnQgeyBQbHVzTWludXMgfSBmcm9tIFwiLi9QbHVzTWludXNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZW5lcmF0ZUxldmVsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBsZXZlbE9iajogb2JqZWN0LCBwYWxldHRlQ29sb3I6IHN0cmluZykge1xyXG4gICAgbGV0IHlPZmZzZXQ6IG51bWJlciA9IDU7XHJcbiAgICBsZXQgeE9mZnNldDogbnVtYmVyID0gNTtcclxuICAgIGxldCBtYXhYT2Zmc2V0OiBudW1iZXIgPSAwO1xyXG4gICAgbGV0IG1heFlPZmZzZXQ6IG51bWJlciA9IDA7XHJcbiAgICBsZXQgY29tbWFuZFBhbGV0dGVIOiBudW1iZXIgPSBsZXZlbE9ialtcImNvbW1hbmRfcGFsZXR0ZVwiXVtcImJsb2NrX2hlaWdodFwiXTtcclxuICAgIGxldCBjb21tYW5kUGFsZXR0ZVc6IG51bWJlciA9IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfd2lkdGhcIl1cclxuXHJcbiAgICAvLyBzZXQgdXAgZ3JpZCBmb3IgQ29tbWFuZCBQYWxldHRlXHJcbiAgICAvLyBhc3NpZ24gcm93IGFuZCBjb2x1bW4gdmFsdWVzIHRvIGdyaWQgYmxvY2tzXHJcbiAgICBmb3IgKHZhciByID0gMDsgciA8IGNvbW1hbmRQYWxldHRlSDsgcisrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjb21tYW5kUGFsZXR0ZVc7IGMrKykge1xyXG4gICAgICAgICAgICBuZXcgR3JpZEJsb2NrKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCByLCBjLCBwYWxldHRlQ29sb3IpO1xyXG4gICAgICAgICAgICB4T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIG1heFhPZmZzZXQgPSB4T2Zmc2V0O1xyXG4gICAgICAgIHhPZmZzZXQgPSA1O1xyXG4gICAgfVxyXG5cclxuICAgIG1heFlPZmZzZXQgPSB5T2Zmc2V0O1xyXG4gICAgeU9mZnNldCA9IG1heFlPZmZzZXQgKyAyMDtcclxuXHJcbiAgICAvLyBzZXQgdXAgQ29tbWFuZCBCbG9jayBCdXR0b25zXHJcbiAgICAvLyBDT05TSURFUjogQWNjb21tb2RhdGluZyBmb3IgY29tbWFuZCBwYWxldHRlIHdpZHRoXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl0ubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgc3dpdGNoKGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl1baV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRCbG9jayA9IG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kVHlwZXMuU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgbmV3IFRocmVhZE9ic2VydmVyKGdhbWVTdGF0ZSwgc3RhcnRCbG9jay54LCBzdGFydEJsb2NrLnksIHN0YXJ0QmxvY2suaCwgc3RhcnRCbG9jay53LCBzdGFydEJsb2NrLnVwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgbW92ZUJsb2NrID0gbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRUeXBlcy5Nb3ZlKTtcclxuICAgICAgICAgICAgICAgIC8vIHNldCB1cCBzbGlkZXIsIHBhc3MgaW4gcmVmZXJlbmNlIHRvIG1vdmUgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIG5ldyBTbGlkZXIoZ2FtZVN0YXRlLCB4T2Zmc2V0ICsgMjAsIHlPZmZzZXQgKyA2MCwgMTAwLCAuNSwgQ29tbWFuZFR5cGVzLk1vdmUsIG1vdmVCbG9jay51cGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYW5nbGVcIjpcclxuICAgICAgICAgICAgICAgIGxldCBhbmdsZUJsb2NrID0gbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRUeXBlcy5BbmdsZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdXAgc2xpZGVyLCBwYXNzIGluIHJlZmVyZW5jZSB0byBhbmdsZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgbmV3IFNsaWRlcihnYW1lU3RhdGUsIHhPZmZzZXQgKyAyMCwgeU9mZnNldCArIDYwLCAzNjAsIDEsIENvbW1hbmRUeXBlcy5BbmdsZSwgYW5nbGVCbG9jay51cGRhdGVEYXRhLCA4KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidGhyZWFkXCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgdGhyZWFkQmxvY2sgPSBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZFR5cGVzLlRocmVhZCk7XHJcbiAgICAgICAgICAgICAgICBuZXcgUGx1c01pbnVzKGdhbWVTdGF0ZSwgMTc1LCAzNjAsIHRocmVhZEJsb2NrLnVwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsYXNlclwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJncmVlblwiLCBDb21tYW5kVHlwZXMuTGFzZXIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzY2FuXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcImRhcmtibHVlXCIsIENvbW1hbmRUeXBlcy5TY2FuKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZ3JhcHBsZVwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJtYXJvb25cIiwgQ29tbWFuZFR5cGVzLkdyYXBwbGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhPZmZzZXQgKz0gNTU7XHJcbiAgICB9XHJcblxyXG4gICAgeE9mZnNldCA9IG1heFhPZmZzZXQgKyAyMDtcclxuICAgIHlPZmZzZXQgPSA1O1xyXG5cclxuICAgIC8vIHNldCB1cCBGbG93IEJsb2NrIEJ1dHRvbnNcclxuICAgIC8vIENPTlNJREVSOiBBY2NvbW1vZGF0aW5nIGZvciBjb21tYW5kIHBhbGV0dGUgaGVpZ2h0XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsT2JqW1wiZmxvd19ibG9ja3NcIl0ubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgc3dpdGNoKGxldmVsT2JqW1wiZmxvd19ibG9ja3NcIl1baV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcInVwXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93VHlwZXMuVXApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93VHlwZXMuTGVmdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93VHlwZXMuUmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkb3duXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93VHlwZXMuRG93bik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgeU9mZnNldCArPSA1NTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2ssIENvbW1hbmRCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrLCBGbG93QmxvY2tCdXR0b24gfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBzdGFydE5ld1RocmVhZENhbGwgfSBmcm9tIFwiLi9Qcm9ncmFtRXhlY3V0aW9uXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuL1NsaWRlclwiO1xyXG5pbXBvcnQgeyBUaHJlYWRPYnNlcnZlciB9IGZyb20gXCIuL1RocmVhZE9ic2VydmVyXCI7XHJcbmltcG9ydCB7IFBsdXNNaW51cyB9IGZyb20gXCIuL1BsdXNNaW51c1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFNldFVwRXZlbnRMaXN0ZW5lcnMoZ2FtZVN0YXRlOiBHYW1lU3RhdGUpIHtcclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIENvbGxpc2lvbiBkZXRlY3Rpb24gYmV0d2VlbiBjbGlja2VkIG9mZnNldCBhbmQgYmxvY2suXHJcbiAgICAgICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5tb3VzZVkgPiBibG9jay55ICYmIGdhbWVTdGF0ZS5tb3VzZVkgPCBibG9jay55ICsgYmxvY2suaFxyXG4gICAgICAgICAgICAgICAgJiYgZ2FtZVN0YXRlLm1vdXNlWCA+IGJsb2NrLnggJiYgZ2FtZVN0YXRlLm1vdXNlWCA8IGJsb2NrLnggKyBibG9jay53KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2sgJiYgZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2tCdXR0b24gJiYgZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2sgJiYgZ2FtZVN0YXRlLmZsb3dDb250cm9sXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2tCdXR0b24gJiYgZ2FtZVN0YXRlLmZsb3dDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2subW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgcmFkaW8gYnV0dG9uIGZvciBmbG93IG9yIGNvbW1hbmQgY29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suY29tbWFuZERhdGEudHlwZSA9IENvbW1hbmRUeXBlcy5FbXB0eTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZVN0YXRlLmZsb3dDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmZsb3dUeXBlID0gRmxvd1R5cGVzLkVtcHR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBjaGVjayBmb3Igc2xpZGVycyBiZWluZyBjbGlja2VkXHJcbiAgICAgICAgZ2FtZVN0YXRlLnVzZXJJbnRlcmZhY2VzLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzIGluc3RhbmNlb2YgU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLm1vdXNlWSA+IHMuc2xpZGVyWSAmJiBnYW1lU3RhdGUubW91c2VZIDwgcy5zbGlkZXJZICsgcy5zbGlkZXJIXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgZ2FtZVN0YXRlLm1vdXNlWCA+IHMuc2xpZGVyWCAmJiBnYW1lU3RhdGUubW91c2VYIDwgcy5zbGlkZXJYICsgcy5zbGlkZXJXKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHMgaW5zdGFuY2VvZiBUaHJlYWRPYnNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5tb3VzZVkgPiBzLnkgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IHMueSArIHMuaFxyXG4gICAgICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBzLnggJiYgZ2FtZVN0YXRlLm1vdXNlWCA8IHMueCArIHMudykge1xyXG4gICAgICAgICAgICAgICAgICAgIHMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZWxzZSBpZiAocyBpbnN0YW5jZW9mIFBsdXNNaW51cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5tb3VzZVkgPiBzLnBsdXNZICYmIGdhbWVTdGF0ZS5tb3VzZVkgPCBzLnBsdXNZICsgcy5wbHVzSFxyXG4gICAgICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBzLnBsdXNYICYmIGdhbWVTdGF0ZS5tb3VzZVggPCBzLnBsdXNYICsgcy5wbHVzVykge1xyXG4gICAgICAgICAgICAgICAgICAgIHMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzLm1vdXNlRG93blBsdXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5tb3VzZVkgPiBzLm1pbnVzWSAmJiBnYW1lU3RhdGUubW91c2VZIDwgcy5taW51c1kgKyBzLm1pbnVzSFxyXG4gICAgICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBzLm1pbnVzWCAmJiBnYW1lU3RhdGUubW91c2VYIDwgcy5taW51c1ggKyBzLm1pbnVzVykge1xyXG4gICAgICAgICAgICAgICAgICAgIHMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzLm1vdXNlRG93bk1pbnVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIC8vIG1ha2Ugc3VyZSBhbGwgY2xpY2thYmxlIGVudGl0aWVzIGFyZW4ndCBjbGlja2FibGUgb24gbW91c2V1cFxyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5tb3VzZVVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZ2FtZVN0YXRlLnVzZXJJbnRlcmZhY2VzLmZvckVhY2godXNlckludGVyZmFjZSA9PiB7XHJcbiAgICAgICAgICAgIHVzZXJJbnRlcmZhY2UubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh1c2VySW50ZXJmYWNlIGluc3RhbmNlb2YgVGhyZWFkT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbnRlcmZhY2UubW91c2VVcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihldnQ6IE1vdXNlRXZlbnQpIDogdm9pZCB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLm1vdXNlWCA9IChldnQuY2xpZW50WCAtIGdhbWVTdGF0ZS5yZWN0LmxlZnQpIC8gKGdhbWVTdGF0ZS5yZWN0LnJpZ2h0IC0gZ2FtZVN0YXRlLnJlY3QubGVmdCkgKiBnYW1lU3RhdGUuY2FudmFzLndpZHRoO1xyXG4gICAgICAgIGdhbWVTdGF0ZS5tb3VzZVkgPSAoZXZ0LmNsaWVudFkgLSBnYW1lU3RhdGUucmVjdC50b3ApIC8gKGdhbWVTdGF0ZS5yZWN0LmJvdHRvbSAtIGdhbWVTdGF0ZS5yZWN0LnRvcCkgKiBnYW1lU3RhdGUuY2FudmFzLmhlaWdodDtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICB3aW5kb3cub25rZXl1cCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyBpLmUuIFNwYWNlQmFyIHByZXNzZWRcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzMikge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmZsb3dDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuZmxvd0NvbnRyb2wgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbW1hbmQgQ29udHJvbCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5mbG93Q29udHJvbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZsb3cgQ29udHJvbCFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGkuZS4gUyBrZXkgcHJlc3NlZFxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDgzKSB7XHJcbiAgICAgICAgICAgIGlmICghZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBwcm9ncmFtXHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3RhcnROZXdUaHJlYWRDYWxsKGdhbWVTdGF0ZSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgUyBrZXkgaXMgcHJlc3NlZCB3aGlsZSBwcm9ncmFtIGlzIHJ1bm5pbmdcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdG9wIHByb2dyYW1cclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjayA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==