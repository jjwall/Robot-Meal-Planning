!function(t){var e={};function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle"],flow_blocks:["up","down","left","right"]}},function(t,e,o){"use strict";o.r(e);var n,a,i=function(){return function(t){this.canvas=t&&t.canvas||document.getElementById("gameScreen"),this.ctx=t&&t.ctx||this.canvas.getContext("2d"),this.rect=t&&t.rect||this.canvas.getBoundingClientRect(),this.blocks=t&&t.blocks||[],this.mouseX=t&&t.mouseX||0,this.mouseY=t&&t.mouseY||0,this.commandControl=t&&t.commandControl||!0,this.flowControl=t&&t.flowControl||!1,this.callStack=t&&t.callStack||[],this.programRunning=t&&t.programRunning||!1}}(),s=o(0),r=function(){function t(t,e,o,n,a,i){this.GameState=t,this.X=e,this.Y=o,this.H=n,this.W=a,this.Color=i,this.gameState=t,this.x=e,this.y=o,this.h=n,this.w=a,this.color=i}return t.prototype.draw=function(){},t.prototype.update=function(){},t}();!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Scan=4]="Scan",t[t.Laser=5]="Laser",t[t.Grapple=6]="Grapple"}(n||(n={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(a||(a={}));var c=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(t){function e(e,o,a,i,s,r,c){var l=t.call(this,e,o,a,i,s,r)||this;switch(l.mouseDown=!0,l.set=!1,l.type=c,l.image=new Image,c){case n.Start:l.image.src="data/textures/StartBlock.png";break;case n.Move:l.image.src="data/textures/MoveBlock.png";break;case n.Angle:l.image.src="data/textures/AngleBlock.png"}return l.gameState.blocks.push(l),l}return c(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y)},e}(r),h=function(t){function e(e,o,a,i,s,r,c){var l=t.call(this,e,o,a,i,s,r)||this;switch(l.mouseDown=!1,l.type=c,l.image=new Image,c){case n.Start:l.image.src="data/textures/StartBlock.png";break;case n.Move:l.image.src="data/textures/MoveBlock.png";break;case n.Angle:l.image.src="data/textures/AngleBlock.png"}return l.gameState.blocks.push(l),l}return c(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new l(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y)},e}(r),u=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(t){function e(e,o,n,i,s,r,c){var l=t.call(this,e,o,n,i,s,r)||this;switch(l.gameState=e,l.type=c,l.mouseDown=!0,l.set=!1,l.image=new Image,c){case a.Up:l.image.src="data/textures/UpArrow.png";break;case a.Down:l.image.src="data/textures/DownArrow.png";break;case a.Left:l.image.src="data/textures/LeftArrow.png";break;case a.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return u(e,t),e.prototype.update=function(){if(this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1),!this.mouseDown&&!this.set){var t=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(t,1)}},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),f=function(t){function e(e,o,n,i,s,r,c){var l=t.call(this,e,o,n,i,s,r)||this;switch(l.type=c,l.mouseDown=!1,l.image=new Image,c){case a.Up:l.image.src="data/textures/UpArrow.png";break;case a.Down:l.image.src="data/textures/DownArrow.png";break;case a.Left:l.image.src="data/textures/LeftArrow.png";break;case a.Right:l.image.src="data/textures/RightArrow.png"}return l.gameState.blocks.push(l),l}return u(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new m(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),p=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(t){function e(e,o,i,s,r,c,l,h){var u=t.call(this,e,o,i,s,r,h)||this;return u.r=c,u.c=l,u.commandType=n.Empty,u.flowType=a.Empty,u.gameState.blocks.push(u),u}return p(e,t),e.prototype.update=function(){var t=this;this.gameState.blocks.forEach(function(e){(e instanceof l||e instanceof m)&&!1===e.mouseDown&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.commandType===n.Empty&&e instanceof l?(e.x=t.x,e.y=t.y,e.set=!0,t.commandType=e.type):t.flowType===a.Empty&&e instanceof m&&(e.x=t.x,e.y=t.y,e.set=!0,t.flowType=e.type))})},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},e}(r);function w(t){console.log("stopping thread"),t.callStack=[],t.programRunning=!1}function y(t,e){var o,i;switch(e.flowType){case a.Up:o=e.r-1,i=e.c;break;case a.Down:o=e.r+1,i=e.c;break;case a.Right:i=e.c+1,o=e.r;break;case a.Left:i=e.c-1,o=e.r}return t.blocks.forEach(function(e){if(e instanceof g&&e.r===o&&e.c===i&&e.commandType!==n.Empty&&e.flowType!==a.Empty)switch(e.commandType){case n.Angle:return function(t,e){console.log("angle"),t.callStack.push(y(t,e))}(t,e);case n.Move:return function(t,e){console.log("move"),t.callStack.push(y(t,e))}(t,e);case n.Start:return function(t,e){console.log("start"),t.callStack.push(y(t,e))}(t,e);default:return w(t)}}),w(t)}var d=new i;!function(t,e,o){for(var i=5,s=5,r=0,c=0;c<e.command_palette.block_height;c++){for(var l=0;l<e.command_palette.block_width;l++)new g(t,s,i,50,50,c,l,o),s+=55;i+=55,r=s,s=5}i+=20;for(var u=0;u<e.command_blocks.length;u++){switch(e.command_blocks[u]){case"start":new h(t,s,i,50,50,"thistle",n.Start);break;case"move":new h(t,s,i,50,50,"thistle",n.Move);break;case"angle":new h(t,s,i,50,50,"thistle",n.Angle);break;case"laser":new h(t,s,i,50,50,"green",n.Laser);break;case"scan":new h(t,s,i,50,50,"darkblue",n.Scan);break;case"grapple":new h(t,s,i,50,50,"maroon",n.Grapple)}s+=55}for(s=r+20,i=5,u=0;u<e.flow_blocks.length;u++){switch(e.flow_blocks[u]){case"up":new f(t,s,i,50,50,"yellow",a.Up);break;case"left":new f(t,s,i,50,50,"yellow",a.Left);break;case"right":new f(t,s,i,50,50,"yellow",a.Right);break;case"down":new f(t,s,i,50,50,"yellow",a.Down)}i+=55}}(d,s,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof l&&t.commandControl||e instanceof h&&t.commandControl||e instanceof m&&t.flowControl||e instanceof f&&t.flowControl?e.mouseDown=!0:e instanceof g&&(t.commandControl?e.commandType=n.Empty:t.flowControl&&(e.flowType=a.Empty)))})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof l||t instanceof m)&&t.mouseDown&&(t.mouseDown=!1)})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning||(t.programRunning=!0,function(t,e){t.blocks.forEach(function(e){e instanceof g&&e.commandType===n.Start&&e.flowType!==a.Empty&&t.callStack.push(y(t,e))})}(t)))}}(d),setInterval(function(){d.blocks.forEach(function(t){t.update()}),d.ctx.clearRect(0,0,d.canvas.width,d.canvas.height),d.ctx.beginPath(),d.blocks.forEach(function(t){t instanceof m||t.draw()}),d.blocks.forEach(function(t){t instanceof m&&t.draw()}),d.ctx.stroke(),d.callStack.length>0&&d.programRunning?d.callStack.forEach(function(t){t(),d.callStack.pop()}):d.programRunning=!1},12)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Jhc2VCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbWFuZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9GbG93QmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyaWRCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUHJvZ3JhbUV4ZWN1dGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTGV2ZWxDcmVhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9TZXRVcEV2ZW50TGlzdGVuZXJzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tbWFuZEJsb2NrVHlwZXMiLCJGbG93QmxvY2tUeXBlcyIsIkdhbWVTdGF0ZV9HYW1lU3RhdGUiLCJvYmoiLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmxvY2tzIiwibW91c2VYIiwibW91c2VZIiwiY29tbWFuZENvbnRyb2wiLCJmbG93Q29udHJvbCIsImNhbGxTdGFjayIsInByb2dyYW1SdW5uaW5nIiwiQmFzZUJsb2NrIiwiR2FtZVN0YXRlIiwiWCIsIlkiLCJIIiwiVyIsIkNvbG9yIiwiZ2FtZVN0YXRlIiwieCIsInkiLCJoIiwidyIsImNvbG9yIiwiZHJhdyIsInVwZGF0ZSIsIkNvbW1hbmRCbG9ja19Db21tYW5kQmxvY2siLCJfc3VwZXIiLCJDb21tYW5kQmxvY2siLCJUeXBlIiwiX3RoaXMiLCJtb3VzZURvd24iLCJzZXQiLCJ0eXBlIiwiaW1hZ2UiLCJJbWFnZSIsIlN0YXJ0Iiwic3JjIiwiTW92ZSIsIkFuZ2xlIiwicHVzaCIsIl9fZXh0ZW5kcyIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwidHJhbnNsYXRlIiwiZHJhd0ltYWdlIiwiQ29tbWFuZEJsb2NrX0NvbW1hbmRCbG9ja0J1dHRvbiIsIkNvbW1hbmRCbG9ja0J1dHRvbiIsIkZsb3dCbG9ja19GbG93QmxvY2siLCJGbG93QmxvY2siLCJVcCIsIkRvd24iLCJMZWZ0IiwiUmlnaHQiLCJGbG93QmxvY2tfZXh0ZW5kcyIsInN0cm9rZVN0eWxlIiwiRmxvd0Jsb2NrX0Zsb3dCbG9ja0J1dHRvbiIsIkZsb3dCbG9ja0J1dHRvbiIsIkdyaWRCbG9ja19HcmlkQmxvY2siLCJHcmlkQmxvY2siLCJSb3ciLCJDb2x1bW4iLCJjb21tYW5kVHlwZSIsIkVtcHR5IiwiZmxvd1R5cGUiLCJHcmlkQmxvY2tfZXh0ZW5kcyIsImZvckVhY2giLCJibG9jayIsInN0b3BUaHJlYWRDYWxsIiwiY29uc29sZSIsImxvZyIsImZpbmROZXh0Q2FsbCIsInRhcmdldFJvdyIsInRhcmdldENvbCIsImFuZ2xlQ2FsbCIsIm1vdmVDYWxsIiwic3RhcnRDYWxsIiwibWFpbl9nYW1lU3RhdGUiLCJsZXZlbE9iaiIsInBhbGV0dGVDb2xvciIsInlPZmZzZXQiLCJ4T2Zmc2V0IiwibWF4WE9mZnNldCIsImxlbmd0aCIsIkxhc2VyIiwiU2NhbiIsIkdyYXBwbGUiLCJMZXZlbENyZWF0b3IiLCJsZXZlbDEiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xpZW50WCIsImxlZnQiLCJyaWdodCIsIndpZHRoIiwiY2xpZW50WSIsInRvcCIsImJvdHRvbSIsImhlaWdodCIsIndpbmRvdyIsIm9ua2V5dXAiLCJlIiwia2V5Q29kZSIsInRocmVhZCIsInN0YXJ0TmV3VGhyZWFkQ2FsbCIsIlNldFVwRXZlbnRMaXN0ZW5lcnMiLCJzZXRJbnRlcnZhbCIsImNsZWFyUmVjdCIsImJlZ2luUGF0aCIsInN0cm9rZSIsInBvcCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0Es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LFFBSXhCakMsRUFBVXRFLGdCQUFpQixHQUVoQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJpbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGUge1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcmVjdDogQ2xpZW50UmVjdCB8IERPTVJlY3Q7XHJcbiAgICBibG9ja3M6IEJhc2VCbG9ja1tdO1xyXG4gICAgbW91c2VYOiBudW1iZXI7XHJcbiAgICBtb3VzZVk6IG51bWJlcjtcclxuICAgIGNvbW1hbmRDb250cm9sOiBib29sZWFuO1xyXG4gICAgZmxvd0NvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBjYWxsU3RhY2s6IGFueVtdO1xyXG4gICAgcHJvZ3JhbVJ1bm5pbmc6IGJvb2xlYW47XHJcbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBJR2FtZVN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBvYmogJiYgb2JqLmNhbnZhcyB8fCA8SFRNTENhbnZhc0VsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVNjcmVlblwiKTtcclxuICAgICAgICB0aGlzLmN0eCA9IG9iaiAmJiBvYmouY3R4IHx8IDxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ+IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLnJlY3QgPSBvYmogJiYgb2JqLnJlY3QgfHwgPENsaWVudFJlY3QgfCBET01SZWN0PiB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB0aGlzLmJsb2NrcyA9IG9iaiAmJiBvYmouYmxvY2tzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMubW91c2VYID0gb2JqICYmIG9iai5tb3VzZVggfHwgMDtcclxuICAgICAgICB0aGlzLm1vdXNlWSA9IG9iaiAmJiBvYmoubW91c2VZIHx8IDA7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ29udHJvbCA9IG9iaiAmJiBvYmouY29tbWFuZENvbnRyb2wgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLmZsb3dDb250cm9sID0gb2JqICYmIG9iai5mbG93Q29udHJvbCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbGxTdGFjayA9IG9iaiAmJiBvYmouY2FsbFN0YWNrIHx8IFtdO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbVJ1bm5pbmcgPSBvYmogJiYgb2JqLnByb2dyYW1SdW5uaW5nIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHYW1lU3RhdGUge1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcmVjdDogQ2xpZW50UmVjdCB8IERPTVJlY3Q7XHJcbiAgICBibG9ja3M6IEJhc2VCbG9ja1tdO1xyXG4gICAgbW91c2VYOiBudW1iZXI7XHJcbiAgICBtb3VzZVk6IG51bWJlcjtcclxuICAgIGNvbW1hbmRDb250cm9sOiBib29sZWFuO1xyXG4gICAgZmxvd0NvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBjYWxsU3RhY2s6IGFueVtdO1xyXG4gICAgcHJvZ3JhbVJ1bm5pbmc6IGJvb2xlYW47XHJcbn0iLCJleHBvcnQgZW51bSBDb21tYW5kQmxvY2tUeXBlcyB7XHJcbiAgICBFbXB0eSxcclxuICAgIFN0YXJ0LFxyXG4gICAgTW92ZSxcclxuICAgIEFuZ2xlLFxyXG4gICAgU2NhbixcclxuICAgIExhc2VyLFxyXG4gICAgR3JhcHBsZVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBGbG93QmxvY2tUeXBlcyB7XHJcbiAgICBFbXB0eSxcclxuICAgIFVwLFxyXG4gICAgRG93bixcclxuICAgIExlZnQsXHJcbiAgICBSaWdodCxcclxuICAgIENvbmRpdGlvbmFsTGVmdFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0VXAsXHJcbiAgICBDb25kaXRpb25hbExlZnREb3duLFxyXG4gICAgQ29uZGl0aW9uYWxVcFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxVcERvd24sXHJcbiAgICBDb25kaXRpb25hbERvd25SaWdodFxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUJsb2NrIHtcclxuICAgIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBHYW1lU3RhdGU6IEdhbWVTdGF0ZSxcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBYOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgWTogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIEg6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBXOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgQ29sb3I6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLmggPSBIO1xyXG4gICAgICAgIHRoaXMudyA9IFc7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IENvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKTogdm9pZCB7fSBcclxuICAgIHVwZGF0ZSgpOiB2b2lkIHt9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kQmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgc2V0OiBib29sZWFuO1xyXG4gICAgdHlwZTogQ29tbWFuZEJsb2NrVHlwZXM7XHJcbiAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IENvbW1hbmRCbG9ja1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgc3dpdGNoKFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5TdGFydDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1N0YXJ0QmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5Nb3ZlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTW92ZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuQW5nbGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9BbmdsZUJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWCAtIHRoaXMudy8yO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgLSB0aGlzLmgvMjtcclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLm1vdXNlRG93biAmJiAhdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb25DbGljaygpIHtcclxuICAgIC8vIH1cclxufVxyXG5cclxuLy8gQ09OU0lERVI6IGV4dGVuZGluZyBDb21tYW5kQmxvY2sgY2xhc3NcclxuZXhwb3J0IGNsYXNzIENvbW1hbmRCbG9ja0J1dHRvbiBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICB0eXBlOiBDb21tYW5kQmxvY2tUeXBlcztcclxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogQ29tbWFuZEJsb2NrVHlwZXMpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuU3RhcnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9TdGFydEJsb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ29tbWFuZEJsb2NrVHlwZXMuTW92ZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL01vdmVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLkFuZ2xlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvQW5nbGVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBBZGQgdHlwZSB0byBDb21tYW5kQmxvY2sgY29uc3RydWN0b3JcclxuICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9jayh0aGlzLmdhbWVTdGF0ZSwgdGhpcy54LCB0aGlzLnksIHRoaXMuaCwgdGhpcy53LCB0aGlzLkNvbG9yLCB0aGlzLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gaXNDb21tYW5kQmxvY2sob2JqOiBvYmplY3QpIDogb2JqIGlzIENvbW1hbmRCbG9jayB7XHJcbi8vICAgICB2YXIgY29tbWFuZEJsb2NrT2JqIDogQ29tbWFuZEJsb2NrID0gPENvbW1hbmRCbG9jaz5vYmo7XHJcbiAgICBcclxuLy8gICAgIHJldHVybiBjb21tYW5kQmxvY2tPYmoubW91c2VEb3duICE9PSB1bmRlZmluZWQ7XHJcbi8vIH0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQmFzZUJsb2NrIH0gZnJvbSBcIi4vQmFzZUJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGbG93QmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB0eXBlOiBGbG93QmxvY2tUeXBlcztcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHNldDogYm9vbGVhbjtcclxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogRmxvd0Jsb2NrVHlwZXMpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVXBBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Eb3duQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9SaWdodEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWCAtIHRoaXMudy8yO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgLSB0aGlzLmgvMjtcclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLm1vdXNlRG93biAmJiAhdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDT05TSURFUjogRXh0ZW5kaW5nIEZsb3dCbG9jayBoZXJlXHJcbmV4cG9ydCBjbGFzcyBGbG93QmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgdHlwZTogRmxvd0Jsb2NrVHlwZXM7XHJcbiAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IEZsb3dCbG9ja1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVXBBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLkRvd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9Eb3duQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9SaWdodEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MucHVzaCh0aGlzKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBGbG93QmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy5Db2xvciwgdGhpcy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jayB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tUeXBlcywgRmxvd0Jsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIHI6IG51bWJlcjtcclxuICAgIGM6IG51bWJlcjtcclxuICAgIGNvbW1hbmRUeXBlOiBDb21tYW5kQmxvY2tUeXBlcztcclxuICAgIGZsb3dUeXBlOiBGbG93QmxvY2tUeXBlcztcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBSb3c6IG51bWJlciwgQ29sdW1uOiBudW1iZXIsIENvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLnIgPSBSb3c7XHJcbiAgICAgICAgdGhpcy5jID0gQ29sdW1uO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFR5cGUgPSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eTtcclxuICAgICAgICB0aGlzLmZsb3dUeXBlID0gRmxvd0Jsb2NrVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBzZWUgaWYgY29tbWFuZCBibG9jayBpcyBiZWluZyBkcm9wcGVkIG9uIGVtcHR5IGdyaWQgYmxvY2tcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5tb3VzZURvd24gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLnggPCB0aGlzLnggKyB0aGlzLncgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueCArIGJsb2NrLncgPiB0aGlzLnggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sueSA8IHRoaXMueSArIHRoaXMuaCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5oICsgYmxvY2sueSA+IHRoaXMueSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbW1hbmRUeXBlID09PSBDb21tYW5kQmxvY2tUeXBlcy5FbXB0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnggPSB0aGlzLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFR5cGUgPSBibG9jay50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZmxvd1R5cGUgPT09IEZsb3dCbG9ja1R5cGVzLkVtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnggPSB0aGlzLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay55ID0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxvd1R5cGUgPSBibG9jay50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja1R5cGVzLCBGbG93QmxvY2tUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcblxyXG5mdW5jdGlvbiBtb3ZlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgY29uc29sZS5sb2coXCJtb3ZlXCIpO1xyXG4gICAgZ2FtZVN0YXRlLmNhbGxTdGFjay5wdXNoKGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIGJsb2NrKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuZ2xlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgY29uc29sZS5sb2coXCJhbmdsZVwiKTtcclxuICAgIGdhbWVTdGF0ZS5jYWxsU3RhY2sucHVzaChmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jaykpO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiB3aWxsIG9ubHkgaGF2ZSBmaW5kTmV4dEV4ZWN1dGlvbiBiaXRcclxuLy8gd29uJ3QgZG8gYW55dGhpbmcgZXhjZXB0IGNvbnRpbnVlIGV4ZWN1dGlvbiBpZiBwbGF5ZXJzIHVzZSBpdCBsaWtlIGEgbm9ybWFsIGNvbW1hbmQgYmxvY2tcclxuZnVuY3Rpb24gc3RhcnRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgZ2FtZVN0YXRlLmNhbGxTdGFjay5wdXNoKGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIGJsb2NrKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3BUaHJlYWRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInN0b3BwaW5nIHRocmVhZFwiKTtcclxuICAgIGdhbWVTdGF0ZS5jYWxsU3RhY2sgPSBbXTtcclxuICAgIGdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZyA9IGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnROZXdUaHJlYWRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCB0aHJlYWQ6IG51bWJlcikge1xyXG4gICAgLy8gbG9jYXRlIHRocmVhZFxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2spIHtcclxuICAgICAgICAgICAgaWYgKGJsb2NrLmNvbW1hbmRUeXBlID09PSBDb21tYW5kQmxvY2tUeXBlcy5TdGFydCAvLyYmIHRocmVhZE51bWJlciA9PT0gdGhyZWFkXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5mbG93VHlwZSAhPT0gRmxvd0Jsb2NrVHlwZXMuRW1wdHkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHRocmVhZFxyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmNhbGxTdGFjay5wdXNoKGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIGJsb2NrKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmluZE5leHRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBibG9jazogR3JpZEJsb2NrKSA6IGFueSB7XHJcbiAgICBsZXQgdGFyZ2V0Um93OiBudW1iZXI7XHJcbiAgICBsZXQgdGFyZ2V0Q29sOiBudW1iZXI7XHJcbiAgICAvLyBUT0RPOiBhZGQgY29uZGl0aW9uYWxzXHJcbiAgICAvLyB0aGlzIHdpbGwgd29yayB3ZWxsIGhlcmUgc2luY2UgZWFjaCBjYWxsIGZpbmRzIHRoZSBuZXh0IGNhbGxcclxuICAgIC8vIGFmdGVyIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXHJcbiAgICBzd2l0Y2goYmxvY2suZmxvd1R5cGUpIHtcclxuICAgICAgICBjYXNlIEZsb3dCbG9ja1R5cGVzLlVwOlxyXG4gICAgICAgICAgICB0YXJnZXRSb3cgPSBibG9jay5yIC0gMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gYmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICB0YXJnZXRSb3cgPSBibG9jay5yICsgMTtcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gYmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93QmxvY2tUeXBlcy5SaWdodDpcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gYmxvY2suYyArIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IGJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd0Jsb2NrVHlwZXMuTGVmdDpcclxuICAgICAgICAgICAgdGFyZ2V0Q29sID0gYmxvY2suYyAtIDE7XHJcbiAgICAgICAgICAgIHRhcmdldFJvdyA9IGJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5yID09PSB0YXJnZXRSb3cgJiYgYmxvY2suYyA9PT0gdGFyZ2V0Q29sXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5jb21tYW5kVHlwZSAhPT0gQ29tbWFuZEJsb2NrVHlwZXMuRW1wdHlcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93QmxvY2tUeXBlcy5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGJsb2NrLmNvbW1hbmRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kQmxvY2tUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ2xlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3ZlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbW1hbmRCbG9ja1R5cGVzLlN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRDYWxsKGdhbWVTdGF0ZSwgYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9wVGhyZWFkQ2FsbChnYW1lU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHN0b3BUaHJlYWRDYWxsKGdhbWVTdGF0ZSk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9kZWNsYXJhdGlvbnMvanNvbi5kLnRzXCIgLz5cclxuaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCBsZXZlbDEgZnJvbSAnLi4vZGF0YS9sZXZlbHMvbGV2ZWwxLmpzb24nO1xyXG5pbXBvcnQgeyBMZXZlbENyZWF0b3IgfSBmcm9tIFwiLi9MZXZlbENyZWF0b3JcIjtcclxuaW1wb3J0IHsgU2V0VXBFdmVudExpc3RlbmVycyB9IGZyb20gXCIuL1NldFVwRXZlbnRMaXN0ZW5lcnNcIjtcclxuaW1wb3J0IHsgRmxvd0Jsb2NrIH0gZnJvbSBcIi4vRmxvd0Jsb2NrXCI7XHJcblxyXG4vLyBUT0RPOiBhZGQgdGV4dC1iYXNlZCB1aSBlbGVtZW50cyB0byBjb21tYW5kIGJsb2Nrc1xyXG4vLyBUT0RPOiBoYXZlIEZsb3dCbG9ja0J1dHRvbiBhbmQgQ29tbWFuZEJsb2NrQnV0dG9ucyBleHRlbmQgZnJvbSB0aGVpciByZXNwZWN0aXZlIGJsb2Nrc1xyXG4vLyBUT0RPOiBwdXNoIG1vc3QgcmVjZW50bHkgY2xpY2tlZCBjb21tYW5kIC8gZmxvdyBibG9jayB0byB0b3Agb2YgYmxvY2sgYXJyYXkgdG8gcmVuZGVyIGl0IG9uIHRvcCBvZiBldmVyeXRoaW5nIGVsc2VcclxuLy8gVE9ETzogc3dpdGNoIHNwYWNlYmFyIGNvbnRyb2wgYnV0dG9uIHRvIGNsaWNrYWJsZSByYWRpbyBidXR0b25cclxuXHJcbi8vIHNldCB1cCBnYW1lIHN0YXRlXHJcbnZhciBnYW1lU3RhdGUgPSBuZXcgR2FtZVN0YXRlKCk7XHJcbkxldmVsQ3JlYXRvcihnYW1lU3RhdGUsIGxldmVsMSwgXCJsaWdodGJsdWVcIik7XHJcblNldFVwRXZlbnRMaXN0ZW5lcnMoZ2FtZVN0YXRlKTtcclxuXHJcbmZ1bmN0aW9uIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5jbGVhclJlY3QoMCwgMCwgZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCwgZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIG5vbi1mbG93IGJsb2NrcyBmaXJzdFxyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoIShibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jaykpIHtcclxuICAgICAgICAgICAgYmxvY2suZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHJlbmRlciBhbGwgZmxvdyBibG9ja3MgbGFzdCB0byBsYXllciB0aGVtIG9uIHRvcCBvZiBjb21tYW5kIGJsb2Nrc1xyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spIHtcclxuICAgICAgICAgICAgYmxvY2suZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jdHguc3Ryb2tlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgIGJsb2NrLnVwZGF0ZSgpO1xyXG4gICAgfSlcclxufVxyXG5cclxuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgdXBkYXRlKCk7XHJcbiAgICBkcmF3KCk7XHJcblxyXG4gICAgaWYgKGdhbWVTdGF0ZS5jYWxsU3RhY2subGVuZ3RoID4gMCAmJiBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcpIHtcclxuICAgICAgICBnYW1lU3RhdGUuY2FsbFN0YWNrLmZvckVhY2goY2FsbCA9PiB7XHJcbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgaG93IHRvIG1ha2UgdGhlc2UgYXN5bmNcclxuICAgICAgICAgICAgY2FsbCgpO1xyXG4gICAgICAgICAgICBnYW1lU3RhdGUuY2FsbFN0YWNrLnBvcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbn0sIDEyKTsiLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2tCdXR0b24gfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZEJsb2NrVHlwZXMsIEZsb3dCbG9ja1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMZXZlbENyZWF0b3IoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGxldmVsT2JqOiBvYmplY3QsIHBhbGV0dGVDb2xvcjogc3RyaW5nKSB7XHJcbiAgICBsZXQgeU9mZnNldDogbnVtYmVyID0gNTtcclxuICAgIGxldCB4T2Zmc2V0OiBudW1iZXIgPSA1O1xyXG4gICAgbGV0IG1heFhPZmZzZXQ6IG51bWJlciA9IDA7XHJcbiAgICBsZXQgbWF4WU9mZnNldDogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvLyBzZXQgdXAgZ3JpZCBmb3IgQ29tbWFuZCBQYWxldHRlXHJcbiAgICAvLyBhc3NpZ24gcm93IGFuZCBjb2x1bW4gdmFsdWVzIHRvIGdyaWQgYmxvY2tzXHJcbiAgICBmb3IgKHZhciByID0gMDsgciA8IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfaGVpZ2h0XCJdOyByKyspIHtcclxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfd2lkdGhcIl07IGMrKykge1xyXG4gICAgICAgICAgICBuZXcgR3JpZEJsb2NrKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCByLCBjLCBwYWxldHRlQ29sb3IpO1xyXG4gICAgICAgICAgICB4T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIG1heFhPZmZzZXQgPSB4T2Zmc2V0O1xyXG4gICAgICAgIHhPZmZzZXQgPSA1O1xyXG4gICAgfVxyXG5cclxuICAgIG1heFlPZmZzZXQgPSB5T2Zmc2V0O1xyXG4gICAgeU9mZnNldCA9IG1heFlPZmZzZXQgKyAyMDtcclxuXHJcbiAgICAvLyBzZXQgdXAgQ29tbWFuZCBCbG9jayBCdXR0b25zXHJcbiAgICAvLyBDT05TSURFUjogQWNjb21tb2RhdGluZyBmb3IgY29tbWFuZCBwYWxldHRlIHdpZHRoXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl0ubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgc3dpdGNoKGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl1baV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuTW92ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImFuZ2xlXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuQW5nbGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsYXNlclwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJncmVlblwiLCBDb21tYW5kQmxvY2tUeXBlcy5MYXNlcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNjYW5cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwiZGFya2JsdWVcIiwgQ29tbWFuZEJsb2NrVHlwZXMuU2Nhbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImdyYXBwbGVcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwibWFyb29uXCIsIENvbW1hbmRCbG9ja1R5cGVzLkdyYXBwbGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhPZmZzZXQgKz0gNTU7XHJcbiAgICB9XHJcblxyXG4gICAgeE9mZnNldCA9IG1heFhPZmZzZXQgKyAyMDtcclxuICAgIHlPZmZzZXQgPSA1O1xyXG5cclxuICAgIC8vIHNldCB1cCBGbG93IEJsb2NrIEJ1dHRvbnNcclxuICAgIC8vIENPTlNJREVSOiBBY2NvbW1vZGF0aW5nIGZvciBjb21tYW5kIHBhbGV0dGUgaGVpZ2h0XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsT2JqW1wiZmxvd19ibG9ja3NcIl0ubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgc3dpdGNoKGxldmVsT2JqW1wiZmxvd19ibG9ja3NcIl1baV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcInVwXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93QmxvY2tUeXBlcy5VcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dCbG9ja1R5cGVzLkxlZnQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxyXG4gICAgICAgICAgICAgICAgbmV3IEZsb3dCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ5ZWxsb3dcIiwgRmxvd0Jsb2NrVHlwZXMuUmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkb3duXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvd0Jsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInllbGxvd1wiLCBGbG93QmxvY2tUeXBlcy5Eb3duKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9jaywgQ29tbWFuZEJsb2NrQnV0dG9uIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2ssIEZsb3dCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2tUeXBlcywgRmxvd0Jsb2NrVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBzdGFydE5ld1RocmVhZENhbGwgfSBmcm9tIFwiLi9Qcm9ncmFtRXhlY3V0aW9uXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU2V0VXBFdmVudExpc3RlbmVycyhnYW1lU3RhdGU6IEdhbWVTdGF0ZSkge1xyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gQ29sbGlzaW9uIGRldGVjdGlvbiBiZXR3ZWVuIGNsaWNrZWQgb2Zmc2V0IGFuZCBibG9jay5cclxuICAgICAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goZnVuY3Rpb24oYmxvY2spIDogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gYmxvY2sueSAmJiBnYW1lU3RhdGUubW91c2VZIDwgYmxvY2sueSArIGJsb2NrLmhcclxuICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBibG9jay54ICYmIGdhbWVTdGF0ZS5tb3VzZVggPCBibG9jay54ICsgYmxvY2sudykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgQ29tbWFuZEJsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrQnV0dG9uICYmIGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHJhZGlvIGJ1dHRvbiBmb3IgZmxvdyBvciBjb21tYW5kIGNvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNvbW1hbmRUeXBlID0gQ29tbWFuZEJsb2NrVHlwZXMuRW1wdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5mbG93VHlwZSA9IEZsb3dCbG9ja1R5cGVzLkVtcHR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChmdW5jdGlvbihibG9jaykge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2tcclxuICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2subW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2subW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZ0OiBNb3VzZUV2ZW50KSA6IHZvaWQge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5tb3VzZVggPSAoZXZ0LmNsaWVudFggLSBnYW1lU3RhdGUucmVjdC5sZWZ0KSAvIChnYW1lU3RhdGUucmVjdC5yaWdodCAtIGdhbWVTdGF0ZS5yZWN0LmxlZnQpICogZ2FtZVN0YXRlLmNhbnZhcy53aWR0aDtcclxuICAgICAgICBnYW1lU3RhdGUubW91c2VZID0gKGV2dC5jbGllbnRZIC0gZ2FtZVN0YXRlLnJlY3QudG9wKSAvIChnYW1lU3RhdGUucmVjdC5ib3R0b20gLSBnYW1lU3RhdGUucmVjdC50b3ApICogZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgd2luZG93Lm9ua2V5dXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgLy8gaS5lLiBTcGFjZUJhciBwcmVzc2VkXHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzIpIHtcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmZsb3dDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21tYW5kIENvbnRyb2whXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuZmxvd0NvbnRyb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGbG93IENvbnRyb2whXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpLmUuIFMga2V5IHByZXNzZWRcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSA4Mykge1xyXG4gICAgICAgICAgICBpZiAoIWdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TmV3VGhyZWFkQ2FsbChnYW1lU3RhdGUsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==