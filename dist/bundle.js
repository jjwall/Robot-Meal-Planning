!function(t){var e={};function a(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t){t.exports={next_level:"level2",command_palette:{block_width:5,block_height:5},command_blocks:["start","move","angle","thread"],flow_blocks:["up","down","left","right"]}},function(t,e,a){"use strict";a.r(e);var s,n,i=function(){return function(t){this.canvas=t&&t.canvas||document.getElementById("gameScreen"),this.ctx=t&&t.ctx||this.canvas.getContext("2d"),this.rect=t&&t.rect||this.canvas.getBoundingClientRect(),this.blocks=t&&t.blocks||[],this.userInterfaces=t&&t.userInterfaces||[],this.mouseX=t&&t.mouseX||0,this.mouseY=t&&t.mouseY||0,this.commandControl=t&&t.commandControl||!0,this.flowControl=t&&t.flowControl||!1,this.nextStack=t&&t.nextStack||[],this.programRunning=t&&t.programRunning||!1}}(),o=a(0),r=function(){function t(t,e,a,s,n,i){this.GameState=t,this.X=e,this.Y=a,this.H=s,this.W=n,this.Color=i,this.gameState=t,this.x=e,this.y=a,this.h=s,this.w=n,this.color=i}return t.prototype.draw=function(){},t.prototype.update=function(){},t}();!function(t){t[t.Empty=0]="Empty",t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.Angle=3]="Angle",t[t.Thread=4]="Thread",t[t.Scan=5]="Scan",t[t.Laser=6]="Laser",t[t.Grapple=7]="Grapple"}(s||(s={})),function(t){t[t.Empty=0]="Empty",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.ConditionalLeftRight=5]="ConditionalLeftRight",t[t.ConditionalLeftUp=6]="ConditionalLeftUp",t[t.ConditionalLeftDown=7]="ConditionalLeftDown",t[t.ConditionalUpRight=8]="ConditionalUpRight",t[t.ConditionalUpDown=9]="ConditionalUpDown",t[t.ConditionalDownRight=10]="ConditionalDownRight"}(n||(n={}));var c=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),h=function(t){function e(e,a,i,o,r,c,h,l){var u=t.call(this,e,a,i,o,r,l)||this;return u.r=c,u.c=h,u.flowType=n.Empty,u.gameState.blocks.push(u),u.commandData={baseUnits:0,totalUnits:0,callCount:0,type:s.Empty},u}return c(e,t),e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h)},e}(r),l=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),u=function(t){function e(e,a,n,i,o,r,c,h,l,u){var m=t.call(this,e,a,n,i,o,l)||this;switch(m.baseUnits=r,m.callCount=c,m.totalUnits=h,m.mouseDown=!0,m.set=!1,m.type=u,m.image=new Image,u){case s.Start:m.image.src="data/textures/StartBlock.png";break;case s.Move:m.image.src="data/textures/MoveBlock.png";break;case s.Angle:m.image.src="data/textures/AngleBlock.png";break;case s.Thread:m.image.src="data/textures/ThreadBlock.png"}return m.gameState.blocks.push(m),m}return l(e,t),e.prototype.mouseUp=function(){var t=this;if(this.gameState.blocks.forEach(function(e){e instanceof h&&e.commandData.type===s.Empty&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.x=e.x,t.y=e.y,t.set=!0,e.commandData.type=t.type,e.commandData.baseUnits=t.baseUnits,e.commandData.callCount=t.callCount,e.commandData.totalUnits=t.totalUnits,e.currentCallCount=t.callCount)}),!this.set){var e=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(e,1)}},e.prototype.update=function(){this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1)},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},e}(r),m=function(t){function e(e,a,n,i,o,r,c){var h=t.call(this,e,a,n,i,o,r)||this;switch(h.updateData=function(t,e,a){h.callCount=t,h.baseUnits=e,h.totalUnits=a},h.mouseDown=!1,h.type=c,h.image=new Image,h.baseUnits=0,h.callCount=0,h.totalUnits=0,c){case s.Start:h.image.src="data/textures/StartBlock.png";break;case s.Move:h.image.src="data/textures/MoveBlock.png";break;case s.Angle:h.image.src="data/textures/AngleBlock.png";break;case s.Thread:h.image.src="data/textures/ThreadBlock.png"}return h.gameState.blocks.push(h),h}return l(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new u(this.gameState,this.x,this.y,this.h,this.w,this.baseUnits,this.callCount,this.totalUnits,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.x,this.y,this.w,this.h),this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.fillStyle="black",this.gameState.ctx.font="15px Arial";var t=30;this.totalUnits>99?t=25:this.totalUnits<10&&(t=35),this.gameState.ctx.fillText(this.totalUnits.toString(),this.x+t,this.y+48)},e}(r),p=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),f=function(t){function e(e,a,s,i,o,r,c){var h=t.call(this,e,a,s,i,o,r)||this;switch(h.gameState=e,h.type=c,h.mouseDown=!0,h.set=!1,h.image=new Image,c){case n.Up:h.image.src="data/textures/UpArrow.png";break;case n.Down:h.image.src="data/textures/DownArrow.png";break;case n.Left:h.image.src="data/textures/LeftArrow.png";break;case n.Right:h.image.src="data/textures/RightArrow.png"}return h.gameState.blocks.push(h),h}return p(e,t),e.prototype.mouseUp=function(){var t=this;if(this.gameState.blocks.forEach(function(e){e instanceof h&&e.flowType===n.Empty&&e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.h+e.y>t.y&&(t.x=e.x,t.y=e.y,t.set=!0,e.flowType=t.type)}),!this.set){var e=this.gameState.blocks.indexOf(this);this.gameState.blocks.splice(e,1)}},e.prototype.update=function(){this.mouseDown&&(this.x=this.gameState.mouseX-this.w/2,this.y=this.gameState.mouseY-this.h/2,this.set=!1)},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),g=function(t){function e(e,a,s,i,o,r,c){var h=t.call(this,e,a,s,i,o,r)||this;switch(h.type=c,h.mouseDown=!1,h.image=new Image,c){case n.Up:h.image.src="data/textures/UpArrow.png";break;case n.Down:h.image.src="data/textures/DownArrow.png";break;case n.Left:h.image.src="data/textures/LeftArrow.png";break;case n.Right:h.image.src="data/textures/RightArrow.png"}return h.gameState.blocks.push(h),h}return p(e,t),e.prototype.update=function(){this.mouseDown&&(this.mouseDown=!1,new f(this.gameState,this.x,this.y,this.h,this.w,this.Color,this.type))},e.prototype.draw=function(){this.gameState.ctx.translate(this.x,this.y),this.gameState.ctx.drawImage(this.image,0,0),this.gameState.ctx.translate(-this.x,-this.y),this.gameState.ctx.strokeStyle=this.color,this.gameState.ctx.rect(this.x,this.y,this.w,this.h)},e}(r),d=function(){function t(t,e,a,s,n,i,o){void 0===o&&(o=10),this.gameState=t,this.mouseDown=!1,this.maxUnits=s,this.snapAmount=o,this.updateDataCallBack=i,this.baseUnits=Math.round(this.maxUnits/this.snapAmount),this.type=n,this.barH=75,this.barW=10,this.barX=e,this.barY=a,this.barColor="thistle",this.sliderH=10,this.sliderW=15,this.sliderX=e,this.sliderY=a+this.barH/2-this.sliderH/2,this.sliderColor="purple",this.percentage=1-(this.sliderY-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount;var r=Math.round(this.value*this.maxUnits/this.baseUnits);this.totalUnits=r*this.baseUnits,this.gameState.userInterfaces.push(this),this.updateDataCallBack(r,this.baseUnits,this.totalUnits)}return t.prototype.update=function(){if(this.mouseDown&&this.barY-this.sliderH/2<this.gameState.mouseY&&this.barY+this.barH-this.sliderH/2>this.gameState.mouseY){var t=this.gameState.mouseY;this.percentage=1-(t-this.barY+this.sliderH/2)/this.barH,this.value=Math.round(this.percentage*this.snapAmount)/this.snapAmount,this.sliderY=this.barH+this.barY-this.sliderH/2-this.value*this.barH;var e=Math.round(this.value*this.maxUnits/this.baseUnits);this.totalUnits=e*this.baseUnits,this.updateDataCallBack(e,this.baseUnits,this.totalUnits)}},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.barColor,this.gameState.ctx.fillRect(this.barX,this.barY,this.barW,this.barH),this.gameState.ctx.fillStyle=this.sliderColor,this.gameState.ctx.fillRect(this.sliderX-this.sliderH/4,this.sliderY,this.sliderW,this.sliderH)},t}(),w=function(){function t(t,e,a,s,n,i){this.gameState=t,this.x=e,this.y=a,this.h=s,this.w=n,this.threads=1,this.updateDataCallBack=i,this.mouseDown=!1,this.gameState.userInterfaces.push(this),this.updateDataCallBack(0,1,this.threads)}return t.prototype.recalculateExistingThreadCounts=function(){var t=[],e=[];this.gameState.blocks.forEach(function(a){a instanceof u?a.type===s.Start&&t.push(a):a instanceof h&&a.commandData.type===s.Start&&e.push(a)}),t.sort(function(t,e){return t.totalUnits>e.totalUnits?1:e.totalUnits>t.totalUnits?-1:0}),e.sort(function(t,e){return t.commandData.totalUnits>e.commandData.totalUnits?1:e.commandData.totalUnits>t.commandData.totalUnits?-1:0});for(var a=0;a<t.length;a++)a+1<t[a].totalUnits&&t[a].totalUnits--;for(a=0;a<e.length;a++)a+1<e[a].commandData.totalUnits&&e[a].commandData.totalUnits--},t.prototype.mouseUp=function(){var t=1;this.gameState.blocks.forEach(function(e){e instanceof u&&e.type===s.Start&&t++}),this.threads=t,this.updateDataCallBack(0,1,this.threads),this.recalculateExistingThreadCounts()},t.prototype.update=function(){if(this.mouseDown){this.mouseDown=!1;var t=1;this.gameState.blocks.forEach(function(e){e instanceof u&&e.type===s.Start&&t++}),this.threads=t,this.updateDataCallBack(0,1,this.threads)}},t.prototype.draw=function(){},t}(),y=function(){function t(t,e,a,s){this.gameState=t,this.minusX=e,this.minusY=a,this.minusH=10,this.minusW=15,this.plusX=e+25,this.plusY=a,this.plusH=10,this.plusW=15,this.updateDataCallBack=s,this.color="purple",this.mouseDown=!1,this.mouseDownMinus=!1,this.mouseDownPlus=!1,this.targetThread=1,this.updateDataCallBack(0,1,this.targetThread),this.gameState.userInterfaces.push(this)}return t.prototype.update=function(){this.mouseDownPlus?(this.mouseDownPlus=!1,this.mouseDown=!1,this.targetThread++,this.updateDataCallBack(0,1,this.targetThread)):this.mouseDownMinus&&(this.mouseDownMinus=!1,this.mouseDown=!1,this.targetThread>1&&(this.targetThread--,this.updateDataCallBack(0,1,this.targetThread))),this.mouseDown||(this.mouseDownMinus=!1,this.mouseDownPlus=!1)},t.prototype.draw=function(){this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.minusX,this.minusY,this.minusW,this.minusH),this.gameState.ctx.fillStyle=this.color,this.gameState.ctx.fillRect(this.plusX,this.plusY,this.plusW,this.plusH),this.gameState.ctx.fillStyle="thistle",this.gameState.ctx.font="17px Arial",this.gameState.ctx.fillText("-",this.minusX+this.minusW/3,this.minusY+this.minusH),this.gameState.ctx.fillText("+",this.plusX+this.plusW/4-1,this.plusY+this.plusH+1)},t}();function x(t,e,a){t.blocks.forEach(function(a){a instanceof h&&a.commandData.type===s.Start&&a.commandData.totalUnits===e&&a.flowType!==n.Empty&&b(t,a)}),void 0!==a&&(console.log("thread"),b(t,a))}function b(t,e){var a,i;switch(e.currentCallCount=e.commandData.callCount,e.flowType){case n.Up:a=e.r-1,i=e.c;break;case n.Down:a=e.r+1,i=e.c;break;case n.Right:i=e.c+1,a=e.r;break;case n.Left:i=e.c-1,a=e.r}t.blocks.forEach(function(e){if(e instanceof h&&e.r===a&&e.c===i&&e.commandData.type!==s.Empty&&e.flowType!==n.Empty)switch(e.commandData.type){case s.Angle:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("angle"),e.currentCallCount--):b(t,e)}(t,e)},t.nextStack.push(e);break;case s.Move:e.call=function(){return function(t,e){e.currentCallCount>0?(console.log("move"),e.currentCallCount--):b(t,e)}(t,e)},t.nextStack.push(e);break;case s.Start:e.call=function(){return function(t,e){console.log("start"),b(t,e)}(t,e)},t.nextStack.push(e);break;case s.Thread:e.call=function(){return x(t,e.commandData.totalUnits,e)},t.nextStack.push(e)}})}var S=new i;!function(t,e,a){for(var i=5,o=5,r=0,c=e.command_palette.block_height,l=e.command_palette.block_width,u=0;u<c;u++){for(var p=0;p<l;p++)new h(t,o,i,50,50,u,p,a),o+=55;i+=55,r=o,o=5}i+=20;for(var f=0;f<e.command_blocks.length;f++){switch(e.command_blocks[f]){case"start":var x=new m(t,o,i,50,50,"thistle",s.Start);new w(t,x.x,x.y,x.h,x.w,x.updateData);break;case"move":var b=new m(t,o,i,50,50,"thistle",s.Move);new d(t,o+20,i+60,100,s.Move,b.updateData);break;case"angle":var S=new m(t,o,i,50,50,"thistle",s.Angle);new d(t,o+20,i+60,360,s.Angle,S.updateData,8);break;case"thread":var k=new m(t,o,i,50,50,"thistle",s.Thread);new y(t,175,360,k.updateData);break;case"laser":new m(t,o,i,50,50,"green",s.Laser);break;case"scan":new m(t,o,i,50,50,"darkblue",s.Scan);break;case"grapple":new m(t,o,i,50,50,"maroon",s.Grapple)}o+=55}for(o=r+20,i=5,f=0;f<e.flow_blocks.length;f++){switch(e.flow_blocks[f]){case"up":new g(t,o,i,50,50,"yellow",n.Up);break;case"left":new g(t,o,i,50,50,"yellow",n.Left);break;case"right":new g(t,o,i,50,50,"yellow",n.Right);break;case"down":new g(t,o,i,50,50,"yellow",n.Down)}i+=55}}(S,o,"lightblue"),function(t){t.canvas.addEventListener("mousedown",function(){t.blocks.forEach(function(e){t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e instanceof u&&t.commandControl||e instanceof m&&t.commandControl||e instanceof f&&t.flowControl||e instanceof g&&t.flowControl?e.mouseDown=!0:e instanceof h&&(t.commandControl?e.commandData.type=s.Empty:t.flowControl&&(e.flowType=n.Empty)))}),t.userInterfaces.forEach(function(e){e instanceof d&&t.mouseY>e.sliderY&&t.mouseY<e.sliderY+e.sliderH&&t.mouseX>e.sliderX&&t.mouseX<e.sliderX+e.sliderW&&(e.mouseDown=!0),e instanceof w&&t.mouseY>e.y&&t.mouseY<e.y+e.h&&t.mouseX>e.x&&t.mouseX<e.x+e.w&&(e.mouseDown=!0),e instanceof y&&(t.mouseY>e.plusY&&t.mouseY<e.plusY+e.plusH&&t.mouseX>e.plusX&&t.mouseX<e.plusX+e.plusW&&(e.mouseDown=!0,e.mouseDownPlus=!0),t.mouseY>e.minusY&&t.mouseY<e.minusY+e.minusH&&t.mouseX>e.minusH&&t.mouseX<e.minusX+e.minusW&&(e.mouseDown=!0,e.mouseDownMinus=!0))})},!1),t.canvas.addEventListener("mouseup",function(){t.blocks.forEach(function(t){(t instanceof u||t instanceof f)&&t.mouseDown&&(t.mouseDown=!1,t.mouseUp())}),t.userInterfaces.forEach(function(t){t.mouseDown=!1,t instanceof w&&t.mouseUp()})},!1),t.canvas.addEventListener("mousemove",function(e){t.mouseX=(e.clientX-t.rect.left)/(t.rect.right-t.rect.left)*t.canvas.width,t.mouseY=(e.clientY-t.rect.top)/(t.rect.bottom-t.rect.top)*t.canvas.height},!1),window.onkeyup=function(e){32===e.keyCode&&(t.flowControl?(t.flowControl=!1,t.commandControl=!0,console.log("Command Control!")):t.commandControl&&(t.commandControl=!1,t.flowControl=!0,console.log("Flow Control!"))),83===e.keyCode&&(t.programRunning?(t.programRunning=!1,t.nextStack=[]):(t.programRunning=!0,x(t,1)))}}(S),setInterval(function(){S.blocks.forEach(function(t){t.update()}),S.userInterfaces.forEach(function(t){t.update()}),S.ctx.clearRect(0,0,S.canvas.width,S.canvas.height),S.ctx.beginPath(),S.userInterfaces.forEach(function(t){t.draw()}),S.blocks.forEach(function(t){t instanceof f||t.draw()}),S.blocks.forEach(function(t){t instanceof f&&t.draw()}),S.ctx.stroke();var t=S.nextStack;S.nextStack=[],t.length>0&&S.programRunning?t.forEach(function(t){t.currentCallCount>0?(t.call(),S.nextStack.push(t)):t.call()}):S.programRunning=!1},12)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Jhc2VCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR3JpZEJsb2NrLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21tYW5kQmxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Zsb3dCbG9jay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UaHJlYWRPYnNlcnZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUGx1c01pbnVzLnRzIiwid2VicGFjazovLy8uL3NyYy9Qcm9ncmFtRXhlY3V0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9HZW5lcmF0ZUxldmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9TZXRVcEV2ZW50TGlzdGVuZXJzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tbWFuZFR5cGVzIiwiRmxvd1R5cGVzIiwiR2FtZVN0YXRlX0dhbWVTdGF0ZSIsIm9iaiIsInRoaXMiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJibG9ja3MiLCJ1c2VySW50ZXJmYWNlcyIsIm1vdXNlWCIsIm1vdXNlWSIsImNvbW1hbmRDb250cm9sIiwiZmxvd0NvbnRyb2wiLCJuZXh0U3RhY2siLCJwcm9ncmFtUnVubmluZyIsIkJhc2VCbG9jayIsIkdhbWVTdGF0ZSIsIlgiLCJZIiwiSCIsIlciLCJDb2xvciIsImdhbWVTdGF0ZSIsIngiLCJ5IiwiaCIsInciLCJjb2xvciIsImRyYXciLCJ1cGRhdGUiLCJHcmlkQmxvY2tfR3JpZEJsb2NrIiwiX3N1cGVyIiwiR3JpZEJsb2NrIiwiUm93IiwiQ29sdW1uIiwiX3RoaXMiLCJmbG93VHlwZSIsIkVtcHR5IiwicHVzaCIsImNvbW1hbmREYXRhIiwiYmFzZVVuaXRzIiwidG90YWxVbml0cyIsImNhbGxDb3VudCIsInR5cGUiLCJfX2V4dGVuZHMiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIkNvbW1hbmRCbG9ja19Db21tYW5kQmxvY2siLCJDb21tYW5kQmxvY2siLCJCYXNlVW5pdHMiLCJDYWxsQ291bnQiLCJUb3RhbFVuaXRzIiwiVHlwZSIsIm1vdXNlRG93biIsInNldCIsImltYWdlIiwiSW1hZ2UiLCJTdGFydCIsInNyYyIsIk1vdmUiLCJBbmdsZSIsIlRocmVhZCIsIkNvbW1hbmRCbG9ja19leHRlbmRzIiwibW91c2VVcCIsImZvckVhY2giLCJibG9jayIsImN1cnJlbnRDYWxsQ291bnQiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJ0cmFuc2xhdGUiLCJkcmF3SW1hZ2UiLCJmb250Iiwib2Zmc2V0WCIsImZpbGxUZXh0IiwidG9TdHJpbmciLCJDb21tYW5kQmxvY2tfQ29tbWFuZEJsb2NrQnV0dG9uIiwiQ29tbWFuZEJsb2NrQnV0dG9uIiwidXBkYXRlRGF0YSIsImNhbGN1bGF0ZWRDYWxsQ291bnQiLCJGbG93QmxvY2tfRmxvd0Jsb2NrIiwiRmxvd0Jsb2NrIiwiVXAiLCJEb3duIiwiTGVmdCIsIlJpZ2h0IiwiRmxvd0Jsb2NrX2V4dGVuZHMiLCJzdHJva2VTdHlsZSIsIkZsb3dCbG9ja19GbG93QmxvY2tCdXR0b24iLCJGbG93QmxvY2tCdXR0b24iLCJTbGlkZXIiLCJNYXhVbml0cyIsIlVwZGF0ZURhdGFDYWxsQmFjayIsIlNuYXBBbW91bnQiLCJtYXhVbml0cyIsInNuYXBBbW91bnQiLCJ1cGRhdGVEYXRhQ2FsbEJhY2siLCJNYXRoIiwicm91bmQiLCJiYXJIIiwiYmFyVyIsImJhclgiLCJiYXJZIiwiYmFyQ29sb3IiLCJzbGlkZXJIIiwic2xpZGVyVyIsInNsaWRlclgiLCJzbGlkZXJZIiwic2xpZGVyQ29sb3IiLCJwZXJjZW50YWdlIiwidGVtcFNsaWRlclkiLCJUaHJlYWRPYnNlcnZlcl9UaHJlYWRPYnNlcnZlciIsIlRocmVhZE9ic2VydmVyIiwidGhyZWFkcyIsInJlY2FsY3VsYXRlRXhpc3RpbmdUaHJlYWRDb3VudHMiLCJ0ZW1wQ29tbWFuZFRocmVhZEFycmF5IiwidGVtcEdyaWRUaHJlYWRBcnJheSIsInNvcnQiLCJhIiwiYiIsImxlbmd0aCIsInRlbXBUaHJlYWRDb3VudCIsInRlbXBUaHJlYWRDb3VudF8xIiwiUGx1c01pbnVzIiwibWludXNYIiwibWludXNZIiwibWludXNIIiwibWludXNXIiwicGx1c1giLCJwbHVzWSIsInBsdXNIIiwicGx1c1ciLCJtb3VzZURvd25NaW51cyIsIm1vdXNlRG93blBsdXMiLCJ0YXJnZXRUaHJlYWQiLCJzdGFydE5ld1RocmVhZENhbGwiLCJ0aHJlYWRCbG9jayIsImZpbmROZXh0Q2FsbCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJwcmV2QmxvY2siLCJ0YXJnZXRSb3ciLCJ0YXJnZXRDb2wiLCJhbmdsZUNhbGwiLCJtb3ZlQ2FsbCIsInN0YXJ0Q2FsbCIsIm1haW5fZ2FtZVN0YXRlIiwibGV2ZWxPYmoiLCJwYWxldHRlQ29sb3IiLCJ5T2Zmc2V0IiwieE9mZnNldCIsIm1heFhPZmZzZXQiLCJjb21tYW5kUGFsZXR0ZUgiLCJjb21tYW5kUGFsZXR0ZVciLCJzdGFydEJsb2NrIiwibW92ZUJsb2NrIiwiYW5nbGVCbG9jayIsIkxhc2VyIiwiU2NhbiIsIkdyYXBwbGUiLCJHZW5lcmF0ZUxldmVsIiwibGV2ZWwxIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVzZXJJbnRlcmZhY2UiLCJldnQiLCJjbGllbnRYIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJjbGllbnRZIiwidG9wIiwiYm90dG9tIiwiaGVpZ2h0Iiwid2luZG93Iiwib25rZXl1cCIsImUiLCJrZXlDb2RlIiwiU2V0VXBFdmVudExpc3RlbmVycyIsInNldEludGVydmFsIiwiY2xlYXJSZWN0IiwiYmVnaW5QYXRoIiwic3Ryb2tlIiwiY2FsbFN0YWNrIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFB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V0EvQmxCc0gsRUFBVWhKLElBQUlpTCxVQUFVLEVBQUcsRUFBR2pDLEVBQVVuSixPQUFPeUssTUFBT3RCLEVBQVVuSixPQUFPNkssUUFDdkUxQixFQUFVaEosSUFBSWtMLFlBR2RsQyxFQUFVM0ksZUFBZXdELFFBQVEsU0FBQW9HLEdBQzdCQSxFQUFjeEksU0FJbEJ1SCxFQUFVNUksT0FBT3lELFFBQVEsU0FBQUMsR0FDZkEsYUFBaUJlLEdBQ25CZixFQUFNckMsU0FLZHVILEVBQVU1SSxPQUFPeUQsUUFBUSxTQUFBQyxHQUNqQkEsYUFBaUJlLEdBQ2pCZixFQUFNckMsU0FJZHVILEVBQVVoSixJQUFJbUwsU0FpQmQsSUFBTUMsRUFBWXBDLEVBQVV0SSxVQUM1QnNJLEVBQVV0SSxhQUVOMEssRUFBVS9ELE9BQVMsR0FBSzJCLEVBQVVySSxlQUNsQ3lLLEVBQVV2SCxRQUFRLFNBQUFDLEdBRVZBLEVBQU1DLGlCQUFtQixHQUN6QkQsRUFBTW5HLE9BQ05xTCxFQUFVdEksVUFBVXlCLEtBQUsyQixJQUl6QkEsRUFBTW5HLFNBS2RxTCxFQUFVckksZ0JBQWlCLEdBRWhDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgSUJhc2VVc2VySW50ZXJmYWNlIH0gZnJvbSBcIi4vSUJhc2VVc2VySW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIHtcclxuICAgIHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICByZWFkb25seSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHJlYWRvbmx5IHJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0O1xyXG4gICAgcHVibGljIGJsb2NrczogQmFzZUJsb2NrW107XHJcbiAgICBwdWJsaWMgdXNlckludGVyZmFjZXM6IElCYXNlVXNlckludGVyZmFjZVtdO1xyXG4gICAgcHVibGljIG1vdXNlWDogbnVtYmVyO1xyXG4gICAgcHVibGljIG1vdXNlWTogbnVtYmVyO1xyXG4gICAgcHVibGljIGNvbW1hbmRDb250cm9sOiBib29sZWFuO1xyXG4gICAgcHVibGljIGZsb3dDb250cm9sOiBib29sZWFuO1xyXG4gICAgcHVibGljIG5leHRTdGFjazogR3JpZEJsb2NrW107XHJcbiAgICBwdWJsaWMgcHJvZ3JhbVJ1bm5pbmc6IGJvb2xlYW47XHJcbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBJR2FtZVN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBvYmogJiYgb2JqLmNhbnZhcyB8fCA8SFRNTENhbnZhc0VsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVNjcmVlblwiKTtcclxuICAgICAgICB0aGlzLmN0eCA9IG9iaiAmJiBvYmouY3R4IHx8IDxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ+IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLnJlY3QgPSBvYmogJiYgb2JqLnJlY3QgfHwgPENsaWVudFJlY3QgfCBET01SZWN0PiB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB0aGlzLmJsb2NrcyA9IG9iaiAmJiBvYmouYmxvY2tzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMudXNlckludGVyZmFjZXMgPSBvYmogJiYgb2JqLnVzZXJJbnRlcmZhY2VzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMubW91c2VYID0gb2JqICYmIG9iai5tb3VzZVggfHwgMDtcclxuICAgICAgICB0aGlzLm1vdXNlWSA9IG9iaiAmJiBvYmoubW91c2VZIHx8IDA7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kQ29udHJvbCA9IG9iaiAmJiBvYmouY29tbWFuZENvbnRyb2wgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLmZsb3dDb250cm9sID0gb2JqICYmIG9iai5mbG93Q29udHJvbCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLm5leHRTdGFjayA9IG9iaiAmJiBvYmoubmV4dFN0YWNrIHx8IFtdO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbVJ1bm5pbmcgPSBvYmogJiYgb2JqLnByb2dyYW1SdW5uaW5nIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHYW1lU3RhdGUge1xyXG4gICAgcmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHJlYWRvbmx5IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcmVhZG9ubHkgcmVjdDogQ2xpZW50UmVjdCB8IERPTVJlY3Q7XHJcbiAgICBibG9ja3M6IEJhc2VCbG9ja1tdO1xyXG4gICAgdXNlckludGVyZmFjZXM6IElCYXNlVXNlckludGVyZmFjZVtdO1xyXG4gICAgbW91c2VYOiBudW1iZXI7XHJcbiAgICBtb3VzZVk6IG51bWJlcjtcclxuICAgIGNvbW1hbmRDb250cm9sOiBib29sZWFuO1xyXG4gICAgZmxvd0NvbnRyb2w6IGJvb2xlYW47XHJcbiAgICBuZXh0U3RhY2s6IGFueVtdO1xyXG4gICAgcHJvZ3JhbVJ1bm5pbmc6IGJvb2xlYW47XHJcbn0iLCJleHBvcnQgZW51bSBDb21tYW5kVHlwZXMge1xyXG4gICAgRW1wdHksXHJcbiAgICBTdGFydCxcclxuICAgIE1vdmUsXHJcbiAgICBBbmdsZSxcclxuICAgIFRocmVhZCxcclxuICAgIFNjYW4sXHJcbiAgICBMYXNlcixcclxuICAgIEdyYXBwbGVcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRmxvd1R5cGVzIHtcclxuICAgIEVtcHR5LFxyXG4gICAgVXAsXHJcbiAgICBEb3duLFxyXG4gICAgTGVmdCxcclxuICAgIFJpZ2h0LFxyXG4gICAgQ29uZGl0aW9uYWxMZWZ0UmlnaHQsXHJcbiAgICBDb25kaXRpb25hbExlZnRVcCxcclxuICAgIENvbmRpdGlvbmFsTGVmdERvd24sXHJcbiAgICBDb25kaXRpb25hbFVwUmlnaHQsXHJcbiAgICBDb25kaXRpb25hbFVwRG93bixcclxuICAgIENvbmRpdGlvbmFsRG93blJpZ2h0XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQmxvY2sge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBjb2xvcjogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIEdhbWVTdGF0ZTogR2FtZVN0YXRlLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIFg6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBZOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgSDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIFc6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBDb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy54ID0gWDtcclxuICAgICAgICB0aGlzLnkgPSBZO1xyXG4gICAgICAgIHRoaXMuaCA9IEg7XHJcbiAgICAgICAgdGhpcy53ID0gVztcclxuICAgICAgICB0aGlzLmNvbG9yID0gQ29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpOiB2b2lkIHt9IFxyXG4gICAgdXBkYXRlKCk6IHZvaWQge31cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHc6IG51bWJlcjtcclxuICAgIHB1YmxpYyByOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYzogbnVtYmVyO1xyXG4gICAgcHVibGljIGNvbW1hbmREYXRhOiBJQ29tbWFuZERhdGE7XHJcbiAgICBwdWJsaWMgY3VycmVudENhbGxDb3VudDogbnVtYmVyO1xyXG4gICAgcHVibGljIGZsb3dUeXBlOiBGbG93VHlwZXM7XHJcbiAgICBwdWJsaWMgY2FsbDogKCkgPT4gdm9pZDtcclxuICAgIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBSb3c6IG51bWJlciwgQ29sdW1uOiBudW1iZXIsIENvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLnIgPSBSb3c7XHJcbiAgICAgICAgdGhpcy5jID0gQ29sdW1uO1xyXG4gICAgICAgIHRoaXMuZmxvd1R5cGUgPSBGbG93VHlwZXMuRW1wdHk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kRGF0YSA9IHtcclxuICAgICAgICAgICAgYmFzZVVuaXRzOiAwLFxyXG4gICAgICAgICAgICB0b3RhbFVuaXRzOiAwLFxyXG4gICAgICAgICAgICBjYWxsQ291bnQ6IDAsXHJcbiAgICAgICAgICAgIHR5cGU6IENvbW1hbmRUeXBlcy5FbXB0eVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4qIEludGVyZmFjZSB0byBjb21tdW5pY2F0ZSBjb21tYW5kIGRhdGEuXHJcbiovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbW1hbmREYXRhIHtcclxuICAgIC8qKlxyXG4gICAgKiBBbW91bnQgb2YgdW5pdHMgcGVyIGNhbGwuXHJcbiAgICAqL1xyXG4gICAgYmFzZVVuaXRzOiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICogVG90YWwgdW5pdHMgYWZ0ZXIgYWxsIGNhbGwocykuXHJcbiAgICAqL1xyXG4gICAgdG90YWxVbml0czogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAqIEFtb3VudCBvZiBjYWxscyBmb3IgYSBzaW5nbGUgcGFzcyBvZiBleGVjdXRpb24uXHJcbiAgICAqL1xyXG4gICAgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICogVHlwZSBvZiBjb21tYW5kIGZvciB0aGUgZXhlY3V0aW9uIHByb2Nlc3MuXHJcbiAgICAqL1xyXG4gICAgdHlwZTogQ29tbWFuZFR5cGVzO1xyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IEJhc2VCbG9jayB9IGZyb20gXCIuL0Jhc2VCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBJQ29tbWFuZERhdGEsIEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1hbmRCbG9jayBleHRlbmRzIEJhc2VCbG9jayBpbXBsZW1lbnRzIElDb21tYW5kRGF0YSB7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhc2VVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY2FsbENvdW50OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdG90YWxVbml0czogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgY29sb3I6IHN0cmluZztcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgc2V0OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogQ29tbWFuZFR5cGVzO1xyXG4gICAgcmVhZG9ubHkgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBCYXNlVW5pdHM6IG51bWJlciwgQ2FsbENvdW50OiBudW1iZXIsIFRvdGFsVW5pdHM6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogQ29tbWFuZFR5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy5iYXNlVW5pdHMgPSBCYXNlVW5pdHM7XHJcbiAgICAgICAgdGhpcy5jYWxsQ291bnQgPSBDYWxsQ291bnQ7XHJcbiAgICAgICAgdGhpcy50b3RhbFVuaXRzID0gVG90YWxVbml0cztcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBUeXBlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5TdGFydDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1N0YXJ0QmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuTW92ZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL01vdmVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0FuZ2xlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuVGhyZWFkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVGhyZWFkQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBtZXRob2QgY2FsbGVkIGluIFNldFVwRXZlbnRMaXN0ZW5lcnMudHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIG1vdXNlVXAoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGkuZS4gZHJvcHBpbmcgYmxvY2tcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jayAmJiBibG9jay5jb21tYW5kRGF0YS50eXBlID09PSBDb21tYW5kVHlwZXMuRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay54IDwgdGhpcy54ICsgdGhpcy53ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueCArIGJsb2NrLncgPiB0aGlzLnggJiZcclxuICAgICAgICAgICAgICAgICAgICBibG9jay55IDwgdGhpcy55ICsgdGhpcy5oICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suaCArIGJsb2NrLnkgPiB0aGlzLnkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc25hcCB0aGlzIGNvbW1hbmQgYmxvY2sgdG8gZW1wdHkgR3JpZEJsb2NrXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54ID0gYmxvY2sueDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnkgPSBibG9jay55O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgR3JpZEJsb2NrJ3MgY29tbWFuZERhdGEgYW5kIGN1cnJlbnRDYWxsQ291bnQgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmNvbW1hbmREYXRhLnR5cGUgPSB0aGlzLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY29tbWFuZERhdGEuYmFzZVVuaXRzID0gdGhpcy5iYXNlVW5pdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY29tbWFuZERhdGEuY2FsbENvdW50ID0gdGhpcy5jYWxsQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY29tbWFuZERhdGEudG90YWxVbml0cyA9IHRoaXMudG90YWxVbml0cztcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jdXJyZW50Q2FsbENvdW50ID0gdGhpcy5jYWxsQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZGVsZXRlIGlmIGRyb3BwaW5nIGJsb2NrIGFuZCBpdCBkb2Vzbid0IGhhdmUgYSBlbXB0eSBncmlkIGJsb2NrIHRvIGJlIHNldCBvblxyXG4gICAgICAgIGlmICghdGhpcy5zZXQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBkcmFnIGNvbW1hbmQgYmxvY2tcclxuICAgICAgICBpZiAodGhpcy5tb3VzZURvd24pIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5nYW1lU3RhdGUubW91c2VYIC0gdGhpcy53LzI7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWSAtIHRoaXMuaC8yO1xyXG4gICAgICAgICAgICB0aGlzLnNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZvbnQgPSBcIjE1cHggQXJpYWxcIjtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IDMwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFVuaXRzID4gOTkpIHtcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDI1O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnRvdGFsVW5pdHMgPCAxMCkge1xyXG4gICAgICAgICAgICBvZmZzZXRYID0gMzU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFRleHQoKHRoaXMudG90YWxVbml0cykudG9TdHJpbmcoKSwgdGhpcy54ICsgb2Zmc2V0WCwgdGhpcy55ICsgNDgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDT05TSURFUjogZXh0ZW5kaW5nIENvbW1hbmRCbG9jayBjbGFzc1xyXG5leHBvcnQgY2xhc3MgQ29tbWFuZEJsb2NrQnV0dG9uIGV4dGVuZHMgQmFzZUJsb2NrIGltcGxlbWVudHMgSUNvbW1hbmREYXRhIHtcclxuICAgIHByb3RlY3RlZCBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdzogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG4gICAgcHVibGljIGJhc2VVbml0czogbnVtYmVyO1xyXG4gICAgcHVibGljIGNhbGxDb3VudDogbnVtYmVyO1xyXG4gICAgcHVibGljIHRvdGFsVW5pdHM6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogQ29tbWFuZFR5cGVzO1xyXG4gICAgcmVhZG9ubHkgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWDogbnVtYmVyLCBZOiBudW1iZXIsIEg6IG51bWJlciwgVzogbnVtYmVyLCBDb2xvcjogc3RyaW5nLCBUeXBlOiBDb21tYW5kVHlwZXMpIHtcclxuICAgICAgICBzdXBlcihHYW1lU3RhdGUsIFgsIFksIEgsIFcsIENvbG9yKTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuYmFzZVVuaXRzID0gMDtcclxuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbFVuaXRzID0gMDtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5TdGFydDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1N0YXJ0QmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuTW92ZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL01vdmVCbG9jay5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1hbmRUeXBlcy5BbmdsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0FuZ2xlQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuVGhyZWFkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVGhyZWFkQmxvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0byBiZSBwYXNzZWQgaW4gYXMgcmVmZXJlbmNlIHRvIGNvcnJlc3BvbmRpbmcgVUkuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGVEYXRhID0gKGNhbGN1bGF0ZWRDYWxsQ291bnQ6IG51bWJlciwgYmFzZVVuaXRzOiBudW1iZXIsIHRvdGFsVW5pdHM6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FsbENvdW50ID0gY2FsY3VsYXRlZENhbGxDb3VudDtcclxuICAgICAgICB0aGlzLmJhc2VVbml0cyA9IGJhc2VVbml0cztcclxuICAgICAgICB0aGlzLnRvdGFsVW5pdHMgPSB0b3RhbFVuaXRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrKHRoaXMuZ2FtZVN0YXRlLCB0aGlzLngsIHRoaXMueSwgdGhpcy5oLCB0aGlzLncsIHRoaXMuYmFzZVVuaXRzLCB0aGlzLmNhbGxDb3VudCwgdGhpcy50b3RhbFVuaXRzLCB0aGlzLkNvbG9yLCB0aGlzLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKC10aGlzLngsIC10aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZvbnQgPSBcIjE1cHggQXJpYWxcIjtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IDMwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFVuaXRzID4gOTkpIHtcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDI1O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy50b3RhbFVuaXRzIDwgMTApIHtcclxuICAgICAgICAgICAgb2Zmc2V0WCA9IDM1O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxUZXh0KCh0aGlzLnRvdGFsVW5pdHMpLnRvU3RyaW5nKCksIHRoaXMueCArIG9mZnNldFgsIHRoaXMueSArIDQ4KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCYXNlQmxvY2sgfSBmcm9tIFwiLi9CYXNlQmxvY2tcIjtcclxuaW1wb3J0IHsgRmxvd1R5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd0Jsb2NrIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIHByb3RlY3RlZCBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHJlYWRvbmx5IHR5cGU6IEZsb3dUeXBlcztcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgdzogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG4gICAgcHVibGljIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBzZXQ6IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIENvbG9yOiBzdHJpbmcsIFR5cGU6IEZsb3dUeXBlcykge1xyXG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZSwgWCwgWSwgSCwgVywgQ29sb3IpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IFR5cGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHN3aXRjaChUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLlVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvVXBBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5Eb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvRG93bkFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLkxlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9MZWZ0QXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiZGF0YS90ZXh0dXJlcy9SaWdodEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmJsb2Nrcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbWV0aG9kIGNhbGxlZCBpbiBTZXRVcEV2ZW50TGlzdGVuZXJzLnRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtb3VzZVVwKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBkcm9wIGZsb3cgYmxvY2tcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEdyaWRCbG9jayAmJiBibG9jay5mbG93VHlwZSA9PT0gRmxvd1R5cGVzLkVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sueCA8IHRoaXMueCArIHRoaXMudyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnggKyBibG9jay53ID4gdGhpcy54ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sueSA8IHRoaXMueSArIHRoaXMuaCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmggKyBibG9jay55ID4gdGhpcy55KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNuYXAgdGhpcyBmbG93IGJsb2NrIHRvIGVtcHR5IEdyaWRCbG9ja1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueCA9IGJsb2NrLng7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ID0gYmxvY2sueTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suZmxvd1R5cGUgPSB0aGlzLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGNvbmRpdGlvbmFsIHByb3BlcnRpZXMgaGVyZSBpZiBjb25kaXRpb25hbCBibG9ja1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGRlbGV0ZSBpZiBkcm9wcGluZyBibG9jayBhbmQgaXQgZG9lc24ndCBoYXZlIGFuIGVtcHR5IGdyaWQgYmxvY2sgdG8gYmUgc2V0IG9uXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYWcgZmxvdyBibG9ja1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWVTdGF0ZS5tb3VzZVggLSB0aGlzLncvMjtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lU3RhdGUubW91c2VZIC0gdGhpcy5oLzI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgudHJhbnNsYXRlKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHgucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDT05TSURFUjogRXh0ZW5kaW5nIEZsb3dCbG9jayBoZXJlXHJcbmV4cG9ydCBjbGFzcyBGbG93QmxvY2tCdXR0b24gZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgcHJvdGVjdGVkIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBjb2xvcjogc3RyaW5nO1xyXG4gICAgcHVibGljIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IHR5cGU6IEZsb3dUeXBlcztcclxuICAgIHJlYWRvbmx5IGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlciwgQ29sb3I6IHN0cmluZywgVHlwZTogRmxvd1R5cGVzKSB7XHJcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlLCBYLCBZLCBILCBXLCBDb2xvcik7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBzd2l0Y2goVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5VcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL1VwQXJyb3cucG5nXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGbG93VHlwZXMuRG93bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJkYXRhL3RleHR1cmVzL0Rvd25BcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZsb3dUeXBlcy5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvTGVmdEFycm93LnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmxvd1R5cGVzLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBcImRhdGEvdGV4dHVyZXMvUmlnaHRBcnJvdy5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ldyBGbG93QmxvY2sodGhpcy5nYW1lU3RhdGUsIHRoaXMueCwgdGhpcy55LCB0aGlzLmgsIHRoaXMudywgdGhpcy5Db2xvciwgdGhpcy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC50cmFuc2xhdGUodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBJQmFzZVVzZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi9JQmFzZVVzZXJJbnRlcmZhY2VcIjtcclxuXHJcbi8vIG1heWJlIGFkZCBzdXBwb3J0IGZvciB0aHJlYWQgc3RhcnRlcj9cclxuZXhwb3J0IGNsYXNzIFNsaWRlciBpbXBsZW1lbnRzIElCYXNlVXNlckludGVyZmFjZSB7XHJcbiAgICBwdWJsaWMgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgICBwdWJsaWMgbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBzbmFwQW1vdW50OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBlcmNlbnRhZ2U6IG51bWJlcjtcclxuICAgIHB1YmxpYyB2YWx1ZTogbnVtYmVyO1xyXG4gICAgcHVibGljIHVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlciwgdG90YWxVbml0czogbnVtYmVyKSA9PiB2b2lkO1xyXG4gICAgcmVhZG9ubHkgbWF4VW5pdHM6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhc2VVbml0czogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0b3RhbFVuaXRzOiBudW1iZXI7XHJcbiAgICByZWFkb25seSB0eXBlOiBDb21tYW5kVHlwZXMgfCBGbG93VHlwZXM7XHJcbiAgICBwdWJsaWMgc2xpZGVyWDogbnVtYmVyO1xyXG4gICAgcHVibGljIHNsaWRlclk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlckg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlclc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IHNsaWRlckNvbG9yOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYmFyWDogbnVtYmVyO1xyXG4gICAgcHVibGljIGJhclk6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhckg6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhclc6IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGJhckNvbG9yOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihHYW1lU3RhdGU6IEdhbWVTdGF0ZSwgWCA6bnVtYmVyLCBZOiBudW1iZXIsIE1heFVuaXRzOiBudW1iZXIsIFR5cGU6IENvbW1hbmRUeXBlcyB8IEZsb3dUeXBlcywgVXBkYXRlRGF0YUNhbGxCYWNrOiAoY2FsbENvdW50OiBudW1iZXIsIGJhc2VVbml0czogbnVtYmVyLCB0b3RhbFVuaXRzOiBudW1iZXIpID0+IHZvaWQsIFNuYXBBbW91bnQ6IG51bWJlciA9IDEwKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBHYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1heFVuaXRzID0gTWF4VW5pdHM7XHJcbiAgICAgICAgdGhpcy5zbmFwQW1vdW50ID0gU25hcEFtb3VudDtcclxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayA9IFVwZGF0ZURhdGFDYWxsQmFjaztcclxuICAgICAgICB0aGlzLmJhc2VVbml0cyA9IE1hdGgucm91bmQodGhpcy5tYXhVbml0cyAvIHRoaXMuc25hcEFtb3VudCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gVHlwZTtcclxuICAgICAgICB0aGlzLmJhckggPSA3NTtcclxuICAgICAgICB0aGlzLmJhclcgPSAxMDtcclxuICAgICAgICB0aGlzLmJhclggPSBYO1xyXG4gICAgICAgIHRoaXMuYmFyWSA9IFk7XHJcbiAgICAgICAgdGhpcy5iYXJDb2xvciA9IFwidGhpc3RsZVwiO1xyXG4gICAgICAgIHRoaXMuc2xpZGVySCA9IDEwO1xyXG4gICAgICAgIHRoaXMuc2xpZGVyVyA9IDE1O1xyXG4gICAgICAgIHRoaXMuc2xpZGVyWCA9IFg7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJZID0gWSArIHRoaXMuYmFySC8yIC0gdGhpcy5zbGlkZXJILzI7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJDb2xvciA9IFwicHVycGxlXCI7XHJcbiAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gMSAtICh0aGlzLnNsaWRlclkgLSB0aGlzLmJhclkgKyB0aGlzLnNsaWRlckgvMikgLyB0aGlzLmJhckg7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IE1hdGgucm91bmQodGhpcy5wZXJjZW50YWdlICogdGhpcy5zbmFwQW1vdW50KSAvIHRoaXMuc25hcEFtb3VudDtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgY2FsY3VsYXRlZENhbGxDb3VudCA9IE1hdGgucm91bmQoKHRoaXMudmFsdWUgKiB0aGlzLm1heFVuaXRzKS90aGlzLmJhc2VVbml0cyk7XHJcbiAgICAgICAgdGhpcy50b3RhbFVuaXRzID0gY2FsY3VsYXRlZENhbGxDb3VudCAqIHRoaXMuYmFzZVVuaXRzO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5wdXNoKHRoaXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgZGF0YVxyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrKGNhbGN1bGF0ZWRDYWxsQ291bnQsIHRoaXMuYmFzZVVuaXRzLCB0aGlzLnRvdGFsVW5pdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93bikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iYXJZIC0gdGhpcy5zbGlkZXJILzIgPCB0aGlzLmdhbWVTdGF0ZS5tb3VzZVkgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFyWSArIHRoaXMuYmFySCAtIHRoaXMuc2xpZGVySC8yID4gdGhpcy5nYW1lU3RhdGUubW91c2VZKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU2xpZGVyWSA9IHRoaXMuZ2FtZVN0YXRlLm1vdXNlWTtcclxuICAgICAgICAgICAgICAgIC8vIGZpbmQgcGVyY2VudGFnZSBzbGlkZXIgaXMgdXAgdmVydGljYWwgb24gYmFyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxIC0gKHRlbXBTbGlkZXJZIC0gdGhpcy5iYXJZICsgdGhpcy5zbGlkZXJILzIpIC8gdGhpcy5iYXJIO1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSB0byBiZSB0aGUgcm91bmRlZCBwZXJjZW50YWdlIGJhc2VkIG9uIHNuYXAgYW1vdW50XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnBlcmNlbnRhZ2UgKiB0aGlzLnNuYXBBbW91bnQpIC8gdGhpcy5zbmFwQW1vdW50O1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0IHNsaWRlclkgdmFsdWUgYmFzZWQgb24gbmV3IHZhbHVlIGZyb20gdGhlIHJvdW5kZWQgcGVyY2FudGFnZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXJZID0gdGhpcy5iYXJIICsgdGhpcy5iYXJZIC0gKHRoaXMuc2xpZGVySC8yKSAtICh0aGlzLnZhbHVlICogdGhpcy5iYXJIKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY2FsY3VsYXRlZENhbGxDb3VudCA9IE1hdGgucm91bmQoKHRoaXMudmFsdWUgKiB0aGlzLm1heFVuaXRzKS90aGlzLmJhc2VVbml0cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbFVuaXRzID0gY2FsY3VsYXRlZENhbGxDb3VudCAqIHRoaXMuYmFzZVVuaXRzXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2soY2FsY3VsYXRlZENhbGxDb3VudCwgdGhpcy5iYXNlVW5pdHMsIHRoaXMudG90YWxVbml0cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGRyYXcgYmFyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuYmFyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuYmFyWCwgdGhpcy5iYXJZLCB0aGlzLmJhclcsIHRoaXMuYmFySCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgc2xpZGVyXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2xpZGVyQ29sb3I7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxSZWN0KHRoaXMuc2xpZGVyWCAtIHRoaXMuc2xpZGVySC80LCB0aGlzLnNsaWRlclksIHRoaXMuc2xpZGVyVywgdGhpcy5zbGlkZXJIKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IElCYXNlVXNlckludGVyZmFjZSB9IGZyb20gXCIuL0lCYXNlVXNlckludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIlxyXG5pbXBvcnQgeyBDb21tYW5kQmxvY2sgfSBmcm9tIFwiLi9Db21tYW5kQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzIH0gZnJvbSBcIi4vRW51bXNcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGhyZWFkT2JzZXJ2ZXIgaW1wbGVtZW50cyBJQmFzZVVzZXJJbnRlcmZhY2Uge1xyXG4gICAgcHVibGljIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaDogbnVtYmVyO1xyXG4gICAgcHVibGljIHc6IG51bWJlcjtcclxuICAgIHB1YmxpYyBtb3VzZURvd246IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgdGhyZWFkczogbnVtYmVyO1xyXG4gICAgdXBkYXRlRGF0YUNhbGxCYWNrOiAoY2FsbENvdW50OiBudW1iZXIsIGJhc2VVbml0czogbnVtYmVyLCB0b3RhbFRocmVhZHM6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIGNvbnN0cnVjdG9yKEdhbWVTdGF0ZTogR2FtZVN0YXRlLCBYOiBudW1iZXIsIFk6IG51bWJlciwgSDogbnVtYmVyLCBXOiBudW1iZXIsIFVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlciwgdG90YWxUaHJlYWRzOiBudW1iZXIpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLnggPSBYO1xyXG4gICAgICAgIHRoaXMueSA9IFk7XHJcbiAgICAgICAgdGhpcy5oID0gSDtcclxuICAgICAgICB0aGlzLncgPSBXO1xyXG4gICAgICAgIHRoaXMudGhyZWFkcyA9IDE7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2sgPSBVcGRhdGVEYXRhQ2FsbEJhY2s7XHJcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUudXNlckludGVyZmFjZXMucHVzaCh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBkYXRhXHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2soMCwgMSwgdGhpcy50aHJlYWRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlY2FsY3VsYXRlRXhpc3RpbmdUaHJlYWRDb3VudHMoKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIGZvciB2aXN1YWxzXHJcbiAgICAgICAgbGV0IHRlbXBDb21tYW5kVGhyZWFkQXJyYXk6IENvbW1hbmRCbG9ja1tdID0gW107XHJcbiAgICAgICAgLy8gZm9yIGZ1bmN0aW9uYWxpdHlcclxuICAgICAgICBsZXQgdGVtcEdyaWRUaHJlYWRBcnJheTogR3JpZEJsb2NrW10gPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSBDb21tYW5kVHlwZXMuU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wQ29tbWFuZFRocmVhZEFycmF5LnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2suY29tbWFuZERhdGEudHlwZSA9PT0gQ29tbWFuZFR5cGVzLlN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcEdyaWRUaHJlYWRBcnJheS5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzb3J0IHRlbXAgdGhyZWFkIGFycmF5cywgdG90YWxVbml0cyBpcyB0aGUgdGhyZWFkIGNvdW50XHJcbiAgICAgICAgLy8gQ09OU0lERVI6IG1ha2luZyBhbm90aGVyIHByaXZhdGUgZnVuY3Rpb24gY2FsbGVkIGxpa2Ugc29ydEFuZFJlY2FsY3VsYXRlVGhyZWFkQ291bnRzXHJcbiAgICAgICAgdGVtcENvbW1hbmRUaHJlYWRBcnJheS5zb3J0KChhLGIpID0+IChhLnRvdGFsVW5pdHMgPiBiLnRvdGFsVW5pdHMpID8gMSA6ICgoYi50b3RhbFVuaXRzID4gYS50b3RhbFVuaXRzKSA/IC0xIDogMCkpO1xyXG4gICAgICAgIHRlbXBHcmlkVGhyZWFkQXJyYXkuc29ydCgoYSxiKSA9PiAoYS5jb21tYW5kRGF0YS50b3RhbFVuaXRzID4gYi5jb21tYW5kRGF0YS50b3RhbFVuaXRzKSA/IDEgOiAoKGIuY29tbWFuZERhdGEudG90YWxVbml0cyA+IGEuY29tbWFuZERhdGEudG90YWxVbml0cykgPyAtMSA6IDApKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wQ29tbWFuZFRocmVhZEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpICsgMSA8IHRlbXBDb21tYW5kVGhyZWFkQXJyYXlbaV0udG90YWxVbml0cykge1xyXG4gICAgICAgICAgICAgICAgLy8gc3VidHJhY3QgdGhyZWFkIGNvdW50IGlmIG5vdCBpbiBvcmRlciBpLmUuIDEsIDIsIDQuIC0+IDQgdHVybnMgaW50byAzXHJcbiAgICAgICAgICAgICAgICB0ZW1wQ29tbWFuZFRocmVhZEFycmF5W2ldLnRvdGFsVW5pdHMtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wR3JpZFRocmVhZEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpICsgMSA8IHRlbXBHcmlkVGhyZWFkQXJyYXlbaV0uY29tbWFuZERhdGEudG90YWxVbml0cykge1xyXG4gICAgICAgICAgICAgICAgdGVtcEdyaWRUaHJlYWRBcnJheVtpXS5jb21tYW5kRGF0YS50b3RhbFVuaXRzLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlVXAoKSA6IHZvaWQgeyBcclxuICAgICAgICBsZXQgdGVtcFRocmVhZENvdW50ID0gMTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSBDb21tYW5kVHlwZXMuU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wVGhyZWFkQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRocmVhZHMgPSB0ZW1wVGhyZWFkQ291bnQ7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUNhbGxCYWNrKDAsIDEsIHRoaXMudGhyZWFkcyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVjYWxjdWxhdGVFeGlzdGluZ1RocmVhZENvdW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wVGhyZWFkQ291bnQgPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gQ29tbWFuZFR5cGVzLlN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBUaHJlYWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRocmVhZHMgPSB0ZW1wVGhyZWFkQ291bnQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjaygwLCAxLCB0aGlzLnRocmVhZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIDogdm9pZCB7fVxyXG59IiwiaW1wb3J0IHsgSUJhc2VVc2VySW50ZXJmYWNlIH0gZnJvbSBcIi4vSUJhc2VVc2VySW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsdXNNaW51cyBpbXBsZW1lbnRzIElCYXNlVXNlckludGVyZmFjZSB7XHJcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIG1vdXNlRG93bjogYm9vbGVhbjtcclxuICAgIHBsdXNYOiBudW1iZXI7XHJcbiAgICBwbHVzWTogbnVtYmVyO1xyXG4gICAgcGx1c0g6IG51bWJlcjtcclxuICAgIHBsdXNXOiBudW1iZXI7XHJcbiAgICBtb3VzZURvd25QbHVzOiBib29sZWFuO1xyXG4gICAgbWludXNYOiBudW1iZXI7XHJcbiAgICBtaW51c1k6IG51bWJlcjtcclxuICAgIG1pbnVzSDogbnVtYmVyO1xyXG4gICAgbWludXNXOiBudW1iZXI7XHJcbiAgICBtb3VzZURvd25NaW51czogYm9vbGVhbjtcclxuICAgIHRhcmdldFRocmVhZDogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIHVwZGF0ZURhdGFDYWxsQmFjazogKGNhbGxDb3VudDogbnVtYmVyLCBiYXNlVW5pdHM6IG51bWJlciwgdG90YWxVbml0czogbnVtYmVyKSA9PiB2b2lkO1xyXG4gICAgY29uc3RydWN0b3IoR2FtZVN0YXRlOiBHYW1lU3RhdGUsIFg6IG51bWJlciwgWTogbnVtYmVyLCBVcGRhdGVEYXRhQ2FsbEJhY2s6IChjYWxsQ291bnQ6IG51bWJlciwgYmFzZVVuaXRzOiBudW1iZXIsIHRvdGFsVW5pdHM6IG51bWJlcikgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMubWludXNYID0gWDtcclxuICAgICAgICB0aGlzLm1pbnVzWSA9IFk7XHJcbiAgICAgICAgdGhpcy5taW51c0ggPSAxMDtcclxuICAgICAgICB0aGlzLm1pbnVzVyA9IDE1O1xyXG4gICAgICAgIHRoaXMucGx1c1ggPSBYICsgMjU7XHJcbiAgICAgICAgdGhpcy5wbHVzWSA9IFk7XHJcbiAgICAgICAgdGhpcy5wbHVzSCA9IDEwO1xyXG4gICAgICAgIHRoaXMucGx1c1cgPSAxNTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjayA9IFVwZGF0ZURhdGFDYWxsQmFjaztcclxuICAgICAgICB0aGlzLmNvbG9yID0gXCJwdXJwbGVcIjtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duTWludXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1vdXNlRG93blBsdXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRhcmdldFRocmVhZCA9IDE7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2soMCwgMSwgdGhpcy50YXJnZXRUaHJlYWQpO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5tb3VzZURvd25QbHVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duUGx1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldFRocmVhZCsrO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFDYWxsQmFjaygwLCAxLCB0aGlzLnRhcmdldFRocmVhZClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZURvd25NaW51cykge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93bk1pbnVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXRUaHJlYWQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFRocmVhZC0tO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhQ2FsbEJhY2soMCwgMSwgdGhpcy50YXJnZXRUaHJlYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMubW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duTWludXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZURvd25QbHVzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhdygpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gZHJhdyBtaW51c1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLm1pbnVzWCwgdGhpcy5taW51c1ksIHRoaXMubWludXNXLCB0aGlzLm1pbnVzSCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgcGx1c1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN0eC5maWxsUmVjdCh0aGlzLnBsdXNYLCB0aGlzLnBsdXNZLCB0aGlzLnBsdXNXLCB0aGlzLnBsdXNIKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyAtLytcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFN0eWxlID0gXCJ0aGlzdGxlXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZvbnQgPSBcIjE3cHggQXJpYWxcIjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdHguZmlsbFRleHQoXCItXCIsIHRoaXMubWludXNYICsgdGhpcy5taW51c1cvMywgdGhpcy5taW51c1kgKyB0aGlzLm1pbnVzSCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3R4LmZpbGxUZXh0KFwiK1wiLCB0aGlzLnBsdXNYICsgdGhpcy5wbHVzVy80IC0gMSwgdGhpcy5wbHVzWSArIHRoaXMucGx1c0ggKyAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgeyBHcmlkQmxvY2sgfSBmcm9tIFwiLi9HcmlkQmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5cclxuZnVuY3Rpb24gbW92ZUNhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGlmIChibG9jay5jdXJyZW50Q2FsbENvdW50ID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibW92ZVwiKTtcclxuICAgICAgICBibG9jay5jdXJyZW50Q2FsbENvdW50LS07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuZ2xlQ2FsbChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYmxvY2s6IEdyaWRCbG9jaykge1xyXG4gICAgaWYgKGJsb2NrLmN1cnJlbnRDYWxsQ291bnQgPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhbmdsZVwiKTtcclxuICAgICAgICBibG9jay5jdXJyZW50Q2FsbENvdW50LS07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHdpbGwgb25seSBoYXZlIGZpbmROZXh0RXhlY3V0aW9uIGJpdFxyXG4vLyB3b24ndCBkbyBhbnl0aGluZyBleGNlcHQgY29udGludWUgZXhlY3V0aW9uIGlmIHBsYXllcnMgdXNlIGl0IGxpa2UgYSBub3JtYWwgY29tbWFuZCBibG9ja1xyXG5mdW5jdGlvbiBzdGFydENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJsb2NrOiBHcmlkQmxvY2spIHtcclxuICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XHJcbiAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE5ld1RocmVhZENhbGwoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHRhcmdldFRocmVhZDogbnVtYmVyLCB0aHJlYWRCbG9jaz86IEdyaWRCbG9jaykge1xyXG4gICAgLy8gbG9jYXRlIHRhcmdldCB0aHJlYWQgYW5kIGZpbmQgaXQncyBuZXh0IGNhbGxcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5jb21tYW5kRGF0YS50eXBlID09PSBDb21tYW5kVHlwZXMuU3RhcnRcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmNvbW1hbmREYXRhLnRvdGFsVW5pdHMgPT09IHRhcmdldFRocmVhZFxyXG4gICAgICAgICAgICAgICAgJiYgYmxvY2suZmxvd1R5cGUgIT09IEZsb3dUeXBlcy5FbXB0eSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgdGhyZWFkXHJcbiAgICAgICAgICAgICAgICBmaW5kTmV4dENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBpZiBhdmFpbGFibGUsIGNvbnRpbnVlIG9uIHRvIGN1cnJlbnQgdGhyZWFkJ3MgbmV4dCBjYWxsXHJcbiAgICBpZiAodGhyZWFkQmxvY2sgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhyZWFkXCIpO1xyXG4gICAgICAgIGZpbmROZXh0Q2FsbChnYW1lU3RhdGUsIHRocmVhZEJsb2NrKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmluZE5leHRDYWxsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBwcmV2QmxvY2s6IEdyaWRCbG9jaykgOiB2b2lkIHtcclxuICAgIGxldCB0YXJnZXRSb3c6IG51bWJlcjtcclxuICAgIGxldCB0YXJnZXRDb2w6IG51bWJlcjtcclxuICAgIC8vIHJlc2V0IGNhbGwgY291bnRcclxuICAgIHByZXZCbG9jay5jdXJyZW50Q2FsbENvdW50ID0gcHJldkJsb2NrLmNvbW1hbmREYXRhLmNhbGxDb3VudDtcclxuICAgIC8vIFRPRE86IGFkZCBjb25kaXRpb25hbHNcclxuICAgIC8vIHRoaXMgd2lsbCB3b3JrIHdlbGwgaGVyZSBzaW5jZSBlYWNoIGNhbGwgZmluZHMgdGhlIG5leHQgY2FsbFxyXG4gICAgLy8gYWZ0ZXIgaXQgaGFzIGFscmVhZHkgZXhlY3V0ZWRcclxuICAgIHN3aXRjaChwcmV2QmxvY2suZmxvd1R5cGUpIHtcclxuICAgICAgICBjYXNlIEZsb3dUeXBlcy5VcDpcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnIgLSAxO1xyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93VHlwZXMuRG93bjpcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnIgKyAxO1xyXG4gICAgICAgICAgICB0YXJnZXRDb2wgPSBwcmV2QmxvY2suYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGbG93VHlwZXMuUmlnaHQ6XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jICsgMTtcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRmxvd1R5cGVzLkxlZnQ6XHJcbiAgICAgICAgICAgIHRhcmdldENvbCA9IHByZXZCbG9jay5jIC0gMTtcclxuICAgICAgICAgICAgdGFyZ2V0Um93ID0gcHJldkJsb2NrLnI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgR3JpZEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5yID09PSB0YXJnZXRSb3cgJiYgYmxvY2suYyA9PT0gdGFyZ2V0Q29sXHJcbiAgICAgICAgICAgICAgICAmJiBibG9jay5jb21tYW5kRGF0YS50eXBlICE9PSBDb21tYW5kVHlwZXMuRW1wdHlcclxuICAgICAgICAgICAgICAgICYmIGJsb2NrLmZsb3dUeXBlICE9PSBGbG93VHlwZXMuRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChibG9jay5jb21tYW5kRGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuQW5nbGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBhbmdsZUNhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLk1vdmU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBtb3ZlQ2FsbChnYW1lU3RhdGUsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjay5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21tYW5kVHlwZXMuU3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwgPSAoKSA9PiBzdGFydENhbGwoZ2FtZVN0YXRlLCBibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tbWFuZFR5cGVzLlRocmVhZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suY2FsbCA9ICgpID0+IHN0YXJ0TmV3VGhyZWFkQ2FsbChnYW1lU3RhdGUsIGJsb2NrLmNvbW1hbmREYXRhLnRvdGFsVW5pdHMsIGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjay5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2RlY2xhcmF0aW9ucy9qc29uLmQudHNcIiAvPlxyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IGxldmVsMSBmcm9tICcuLi9kYXRhL2xldmVscy9sZXZlbDEuanNvbic7XHJcbmltcG9ydCB7IEdlbmVyYXRlTGV2ZWwgfSBmcm9tIFwiLi9HZW5lcmF0ZUxldmVsXCI7XHJcbmltcG9ydCB7IFNldFVwRXZlbnRMaXN0ZW5lcnMgfSBmcm9tIFwiLi9TZXRVcEV2ZW50TGlzdGVuZXJzXCI7XHJcbmltcG9ydCB7IEZsb3dCbG9jayB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5cclxuLy8gVE9ETzogcGFzcyByZWZlcmVuY2UgdG8gR2FtZVN0YXRlIC8gR2FtZVN0YXRlIC8gcHJvcCBpbiBtZXRob2RzIChkcmF3LCB1cGRhdGUpIHdoZXJlIG5lZWRlZFxyXG4vLyAtPiBjYW4gcGFzcyBpbiB0byBjb25zdHJ1Y3RvciBhcyB3ZWxsXHJcbi8vIC0tPiBkb24ndCB3YW50IHRvIHN0b3JlIGluIGEgY2xhc3MgbWVtYmVyIHRob1xyXG4vLyBUT0RPOiBhZGQgYmlnIHllbGxvdyBibG9jayB0aGF0IHJlbmRlcnMgYmVoaW5kIGdyaWQgYmxvY2tzIHRvIGluZGljYXRlIHdoaWNoIGJsb2NrIGlzIGN1cnJlbnRseSBiZWluZyBleGVjdXRlZFxyXG4vLyBUT0RPOiBoYXZlIEZsb3dCbG9ja0J1dHRvbiBhbmQgQ29tbWFuZEJsb2NrQnV0dG9ucyBleHRlbmQgZnJvbSB0aGVpciByZXNwZWN0aXZlIGJsb2Nrc1xyXG4vLyBUT0RPOiBwdXNoIG1vc3QgcmVjZW50bHkgY2xpY2tlZCBjb21tYW5kIC8gZmxvdyBibG9jayB0byB0b3Agb2YgYmxvY2sgYXJyYXkgdG8gcmVuZGVyIGl0IG9uIHRvcCBvZiBldmVyeXRoaW5nIGVsc2VcclxuLy8gVE9ETzogc3dpdGNoIHNwYWNlYmFyIGNvbnRyb2wgYnV0dG9uIHRvIGNsaWNrYWJsZSByYWRpbyBidXR0b25cclxuLy8gVE9ETzogYWRkIGJhc2UgVUkgY2xhc3MgLyBzd2l0Y2ggc2xpZGVyW10gdG8gYmFzZVVJRWxlbWVudFtdIGluIEdhbWVTdGF0ZVxyXG4vLyBUT0RPOiBhZGQgZXhlY3V0ZSBwcm9ncmFtIC8gc3RvcCBwcm9ncmFtIGJ1dHRvbnNcclxuLy8gVE9ETzogYWRkIG1hbmlmb2xkIGNvbGxpc2lvbiBzeXN0ZW0gZm9yIGdyaWRibG9jayBjb2xsaXNpb24gd2l0aCBmbG93IGFuZCBjb21tYW5kIGJsb2Nrcy5cclxuLy8gLT4gaS5lLiBzbmFwIGNvbW1hbmQgYmxvY2sgdG8gZ3JpZCBibG9jayB0aGF0IGhhcyB0aGUgYmlnZ2VzdCBtYW5pZm9sZFxyXG5cclxuLy8gc2V0IHVwIGdhbWUgc3RhdGVcclxudmFyIGdhbWVTdGF0ZSA9IG5ldyBHYW1lU3RhdGUoKTtcclxuR2VuZXJhdGVMZXZlbChnYW1lU3RhdGUsIGxldmVsMSwgXCJsaWdodGJsdWVcIik7XHJcblNldFVwRXZlbnRMaXN0ZW5lcnMoZ2FtZVN0YXRlKTtcclxuXHJcbmZ1bmN0aW9uIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5jbGVhclJlY3QoMCwgMCwgZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCwgZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgZ2FtZVN0YXRlLmN0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAvLyByZW5kZXIgVUkgZWxlbWVudHNcclxuICAgIGdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5mb3JFYWNoKHVzZXJJbnRlcmZhY2UgPT4ge1xyXG4gICAgICAgIHVzZXJJbnRlcmZhY2UuZHJhdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcmVuZGVyIGFsbCBub24tZmxvdyBibG9ja3MgZmlyc3RcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKCEoYmxvY2sgaW5zdGFuY2VvZiBGbG93QmxvY2spKSB7XHJcbiAgICAgICAgICAgIGJsb2NrLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZW5kZXIgYWxsIGZsb3cgYmxvY2tzIGxhc3QgdG8gbGF5ZXIgdGhlbSBvbiB0b3Agb2YgY29tbWFuZCBibG9ja3NcclxuICAgIGdhbWVTdGF0ZS5ibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSB7XHJcbiAgICAgICAgICAgIGJsb2NrLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBnYW1lU3RhdGUuY3R4LnN0cm9rZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGUoKSA6IHZvaWQge1xyXG4gICAgZ2FtZVN0YXRlLmJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICBibG9jay51cGRhdGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5mb3JFYWNoKHVzZXJJbnRlcmZhY2UgPT4ge1xyXG4gICAgICAgIHVzZXJJbnRlcmZhY2UudXBkYXRlKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSA6IHZvaWQge1xyXG4gICAgdXBkYXRlKCk7XHJcbiAgICBkcmF3KCk7XHJcblxyXG4gICAgY29uc3QgY2FsbFN0YWNrID0gZ2FtZVN0YXRlLm5leHRTdGFjaztcclxuICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sgPSBbXTtcclxuXHJcbiAgICBpZiAoY2FsbFN0YWNrLmxlbmd0aCA+IDAgJiYgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nKSB7XHJcbiAgICAgICAgY2FsbFN0YWNrLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAvLyB3aWxsIGNhbGwgY29tbWFuZCBhbmQgcHVzaCBpdCBiYWNrIG9uIHN0YWNrXHJcbiAgICAgICAgICAgIGlmIChibG9jay5jdXJyZW50Q2FsbENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYmxvY2suY2FsbCgpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLm5leHRTdGFjay5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBlbHNlIGp1c3QgY2FsbCBvbmNlIGFuZCBmaW5kIG5leHQgY2FsbFxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNhbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbn0sIDEyKTsiLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgR3JpZEJsb2NrIH0gZnJvbSBcIi4vR3JpZEJsb2NrXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0NvbW1hbmRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2tCdXR0b24gfSBmcm9tIFwiLi9GbG93QmxvY2tcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFR5cGVzLCBGbG93VHlwZXMgfSBmcm9tIFwiLi9FbnVtc1wiO1xyXG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tIFwiLi9TbGlkZXJcIjtcclxuaW1wb3J0IHsgVGhyZWFkT2JzZXJ2ZXIgfSBmcm9tIFwiLi9UaHJlYWRPYnNlcnZlclwiO1xyXG5pbXBvcnQgeyBQbHVzTWludXMgfSBmcm9tIFwiLi9QbHVzTWludXNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZW5lcmF0ZUxldmVsKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBsZXZlbE9iajogb2JqZWN0LCBwYWxldHRlQ29sb3I6IHN0cmluZykge1xyXG4gICAgbGV0IHlPZmZzZXQ6IG51bWJlciA9IDU7XHJcbiAgICBsZXQgeE9mZnNldDogbnVtYmVyID0gNTtcclxuICAgIGxldCBtYXhYT2Zmc2V0OiBudW1iZXIgPSAwO1xyXG4gICAgbGV0IG1heFlPZmZzZXQ6IG51bWJlciA9IDA7XHJcbiAgICBsZXQgY29tbWFuZFBhbGV0dGVIOiBudW1iZXIgPSBsZXZlbE9ialtcImNvbW1hbmRfcGFsZXR0ZVwiXVtcImJsb2NrX2hlaWdodFwiXTtcclxuICAgIGxldCBjb21tYW5kUGFsZXR0ZVc6IG51bWJlciA9IGxldmVsT2JqW1wiY29tbWFuZF9wYWxldHRlXCJdW1wiYmxvY2tfd2lkdGhcIl1cclxuXHJcbiAgICAvLyBzZXQgdXAgZ3JpZCBmb3IgQ29tbWFuZCBQYWxldHRlXHJcbiAgICAvLyBhc3NpZ24gcm93IGFuZCBjb2x1bW4gdmFsdWVzIHRvIGdyaWQgYmxvY2tzXHJcbiAgICBmb3IgKHZhciByID0gMDsgciA8IGNvbW1hbmRQYWxldHRlSDsgcisrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjb21tYW5kUGFsZXR0ZVc7IGMrKykge1xyXG4gICAgICAgICAgICBuZXcgR3JpZEJsb2NrKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCByLCBjLCBwYWxldHRlQ29sb3IpO1xyXG4gICAgICAgICAgICB4T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgICAgIG1heFhPZmZzZXQgPSB4T2Zmc2V0O1xyXG4gICAgICAgIHhPZmZzZXQgPSA1O1xyXG4gICAgfVxyXG5cclxuICAgIG1heFlPZmZzZXQgPSB5T2Zmc2V0O1xyXG4gICAgeU9mZnNldCA9IG1heFlPZmZzZXQgKyAyMDtcclxuXHJcbiAgICAvLyBzZXQgdXAgQ29tbWFuZCBCbG9jayBCdXR0b25zXHJcbiAgICAvLyBDT05TSURFUjogQWNjb21tb2RhdGluZyBmb3IgY29tbWFuZCBwYWxldHRlIHdpZHRoXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl0ubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgc3dpdGNoKGxldmVsT2JqW1wiY29tbWFuZF9ibG9ja3NcIl1baV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRCbG9jayA9IG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kVHlwZXMuU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgbmV3IFRocmVhZE9ic2VydmVyKGdhbWVTdGF0ZSwgc3RhcnRCbG9jay54LCBzdGFydEJsb2NrLnksIHN0YXJ0QmxvY2suaCwgc3RhcnRCbG9jay53LCBzdGFydEJsb2NrLnVwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgbW92ZUJsb2NrID0gbmV3IENvbW1hbmRCbG9ja0J1dHRvbihnYW1lU3RhdGUsIHhPZmZzZXQsIHlPZmZzZXQsIDUwLCA1MCwgXCJ0aGlzdGxlXCIsIENvbW1hbmRUeXBlcy5Nb3ZlKTtcclxuICAgICAgICAgICAgICAgIC8vIHNldCB1cCBzbGlkZXIsIHBhc3MgaW4gcmVmZXJlbmNlIHRvIG1vdmUgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIG5ldyBTbGlkZXIoZ2FtZVN0YXRlLCB4T2Zmc2V0ICsgMjAsIHlPZmZzZXQgKyA2MCwgMTAwLCBDb21tYW5kVHlwZXMuTW92ZSwgbW92ZUJsb2NrLnVwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhbmdsZVwiOlxyXG4gICAgICAgICAgICAgICAgbGV0IGFuZ2xlQmxvY2sgPSBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcInRoaXN0bGVcIiwgQ29tbWFuZFR5cGVzLkFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIC8vIHNldCB1cCBzbGlkZXIsIHBhc3MgaW4gcmVmZXJlbmNlIHRvIGFuZ2xlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBuZXcgU2xpZGVyKGdhbWVTdGF0ZSwgeE9mZnNldCArIDIwLCB5T2Zmc2V0ICsgNjAsIDM2MCwgQ29tbWFuZFR5cGVzLkFuZ2xlLCBhbmdsZUJsb2NrLnVwZGF0ZURhdGEsIDgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0aHJlYWRcIjpcclxuICAgICAgICAgICAgICAgIGxldCB0aHJlYWRCbG9jayA9IG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwidGhpc3RsZVwiLCBDb21tYW5kVHlwZXMuVGhyZWFkKTtcclxuICAgICAgICAgICAgICAgIG5ldyBQbHVzTWludXMoZ2FtZVN0YXRlLCAxNzUsIDM2MCwgdGhyZWFkQmxvY2sudXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxhc2VyXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcImdyZWVuXCIsIENvbW1hbmRUeXBlcy5MYXNlcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNjYW5cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kQmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwiZGFya2JsdWVcIiwgQ29tbWFuZFR5cGVzLlNjYW4pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJncmFwcGxlXCI6XHJcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZEJsb2NrQnV0dG9uKGdhbWVTdGF0ZSwgeE9mZnNldCwgeU9mZnNldCwgNTAsIDUwLCBcIm1hcm9vblwiLCBDb21tYW5kVHlwZXMuR3JhcHBsZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgeE9mZnNldCArPSA1NTtcclxuICAgIH1cclxuXHJcbiAgICB4T2Zmc2V0ID0gbWF4WE9mZnNldCArIDIwO1xyXG4gICAgeU9mZnNldCA9IDU7XHJcblxyXG4gICAgLy8gc2V0IHVwIEZsb3cgQmxvY2sgQnV0dG9uc1xyXG4gICAgLy8gQ09OU0lERVI6IEFjY29tbW9kYXRpbmcgZm9yIGNvbW1hbmQgcGFsZXR0ZSBoZWlnaHRcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXS5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBzd2l0Y2gobGV2ZWxPYmpbXCJmbG93X2Jsb2Nrc1wiXVtpXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidXBcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5VcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5MZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5SaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcclxuICAgICAgICAgICAgICAgIG5ldyBGbG93QmxvY2tCdXR0b24oZ2FtZVN0YXRlLCB4T2Zmc2V0LCB5T2Zmc2V0LCA1MCwgNTAsIFwieWVsbG93XCIsIEZsb3dUeXBlcy5Eb3duKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB5T2Zmc2V0ICs9IDU1O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IENvbW1hbmRCbG9jaywgQ29tbWFuZEJsb2NrQnV0dG9uIH0gZnJvbSBcIi4vQ29tbWFuZEJsb2NrXCI7XHJcbmltcG9ydCB7IEdyaWRCbG9jayB9IGZyb20gXCIuL0dyaWRCbG9ja1wiO1xyXG5pbXBvcnQgeyBGbG93QmxvY2ssIEZsb3dCbG9ja0J1dHRvbiB9IGZyb20gXCIuL0Zsb3dCbG9ja1wiO1xyXG5pbXBvcnQgeyBDb21tYW5kVHlwZXMsIEZsb3dUeXBlcyB9IGZyb20gXCIuL0VudW1zXCI7XHJcbmltcG9ydCB7IHN0YXJ0TmV3VGhyZWFkQ2FsbCB9IGZyb20gXCIuL1Byb2dyYW1FeGVjdXRpb25cIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4vU2xpZGVyXCI7XHJcbmltcG9ydCB7IFRocmVhZE9ic2VydmVyIH0gZnJvbSBcIi4vVGhyZWFkT2JzZXJ2ZXJcIjtcclxuaW1wb3J0IHsgUGx1c01pbnVzIH0gZnJvbSBcIi4vUGx1c01pbnVzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU2V0VXBFdmVudExpc3RlbmVycyhnYW1lU3RhdGU6IEdhbWVTdGF0ZSkge1xyXG4gICAgZ2FtZVN0YXRlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gQ29sbGlzaW9uIGRldGVjdGlvbiBiZXR3ZWVuIGNsaWNrZWQgb2Zmc2V0IGFuZCBibG9jay5cclxuICAgICAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLm1vdXNlWSA+IGJsb2NrLnkgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IGJsb2NrLnkgKyBibG9jay5oXHJcbiAgICAgICAgICAgICAgICAmJiBnYW1lU3RhdGUubW91c2VYID4gYmxvY2sueCAmJiBnYW1lU3RhdGUubW91c2VYIDwgYmxvY2sueCArIGJsb2NrLncpIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9jayAmJiBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIENvbW1hbmRCbG9ja0J1dHRvbiAmJiBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9jayAmJiBnYW1lU3RhdGUuZmxvd0NvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgICB8fCBibG9jayBpbnN0YW5jZW9mIEZsb3dCbG9ja0J1dHRvbiAmJiBnYW1lU3RhdGUuZmxvd0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5tb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmxvY2sgaW5zdGFuY2VvZiBHcmlkQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayByYWRpbyBidXR0b24gZm9yIGZsb3cgb3IgY29tbWFuZCBjb250cm9sXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5jb21tYW5kRGF0YS50eXBlID0gQ29tbWFuZFR5cGVzLkVtcHR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUuZmxvd0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suZmxvd1R5cGUgPSBGbG93VHlwZXMuRW1wdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGZvciBzbGlkZXJzIGJlaW5nIGNsaWNrZWRcclxuICAgICAgICBnYW1lU3RhdGUudXNlckludGVyZmFjZXMuZm9yRWFjaChzID0+IHtcclxuICAgICAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gcy5zbGlkZXJZICYmIGdhbWVTdGF0ZS5tb3VzZVkgPCBzLnNsaWRlclkgKyBzLnNsaWRlckhcclxuICAgICAgICAgICAgICAgICAgICAmJiBnYW1lU3RhdGUubW91c2VYID4gcy5zbGlkZXJYICYmIGdhbWVTdGF0ZS5tb3VzZVggPCBzLnNsaWRlclggKyBzLnNsaWRlclcpIHtcclxuICAgICAgICAgICAgICAgICAgICBzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBUaHJlYWRPYnNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5tb3VzZVkgPiBzLnkgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IHMueSArIHMuaFxyXG4gICAgICAgICAgICAgICAgICAgICYmIGdhbWVTdGF0ZS5tb3VzZVggPiBzLnggJiYgZ2FtZVN0YXRlLm1vdXNlWCA8IHMueCArIHMudykge1xyXG4gICAgICAgICAgICAgICAgICAgIHMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBQbHVzTWludXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gcy5wbHVzWSAmJiBnYW1lU3RhdGUubW91c2VZIDwgcy5wbHVzWSArIHMucGx1c0hcclxuICAgICAgICAgICAgICAgICAgICAmJiBnYW1lU3RhdGUubW91c2VYID4gcy5wbHVzWCAmJiBnYW1lU3RhdGUubW91c2VYIDwgcy5wbHVzWCArIHMucGx1c1cpIHtcclxuICAgICAgICAgICAgICAgICAgICBzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5tb3VzZURvd25QbHVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGUubW91c2VZID4gcy5taW51c1kgJiYgZ2FtZVN0YXRlLm1vdXNlWSA8IHMubWludXNZICsgcy5taW51c0hcclxuICAgICAgICAgICAgICAgICAgICAmJiBnYW1lU3RhdGUubW91c2VYID4gcy5taW51c0ggJiYgZ2FtZVN0YXRlLm1vdXNlWCA8IHMubWludXNYICsgcy5taW51c1cpIHtcclxuICAgICAgICAgICAgICAgICAgICBzLm1vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcy5tb3VzZURvd25NaW51cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAvLyBtYWtlIHN1cmUgYWxsIGNsaWNrYWJsZSBlbnRpdGllcyBhcmVuJ3QgY2xpY2thYmxlIG9uIG1vdXNldXBcclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uKCkgOiB2b2lkIHtcclxuICAgICAgICBnYW1lU3RhdGUuYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBDb21tYW5kQmxvY2tcclxuICAgICAgICAgICAgICAgIHx8IGJsb2NrIGluc3RhbmNlb2YgRmxvd0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2subW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2subW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2subW91c2VVcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGdhbWVTdGF0ZS51c2VySW50ZXJmYWNlcy5mb3JFYWNoKHVzZXJJbnRlcmZhY2UgPT4ge1xyXG4gICAgICAgICAgICB1c2VySW50ZXJmYWNlLm1vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodXNlckludGVyZmFjZSBpbnN0YW5jZW9mIFRocmVhZE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VySW50ZXJmYWNlLm1vdXNlVXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIGdhbWVTdGF0ZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZ0OiBNb3VzZUV2ZW50KSA6IHZvaWQge1xyXG4gICAgICAgIGdhbWVTdGF0ZS5tb3VzZVggPSAoZXZ0LmNsaWVudFggLSBnYW1lU3RhdGUucmVjdC5sZWZ0KSAvIChnYW1lU3RhdGUucmVjdC5yaWdodCAtIGdhbWVTdGF0ZS5yZWN0LmxlZnQpICogZ2FtZVN0YXRlLmNhbnZhcy53aWR0aDtcclxuICAgICAgICBnYW1lU3RhdGUubW91c2VZID0gKGV2dC5jbGllbnRZIC0gZ2FtZVN0YXRlLnJlY3QudG9wKSAvIChnYW1lU3RhdGUucmVjdC5ib3R0b20gLSBnYW1lU3RhdGUucmVjdC50b3ApICogZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgd2luZG93Lm9ua2V5dXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgLy8gaS5lLiBTcGFjZUJhciBwcmVzc2VkXHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzIpIHtcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmZsb3dDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuY29tbWFuZENvbnRyb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21tYW5kIENvbnRyb2whXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5jb21tYW5kQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLmNvbW1hbmRDb250cm9sID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuZmxvd0NvbnRyb2wgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGbG93IENvbnRyb2whXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpLmUuIFMga2V5IHByZXNzZWRcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSA4Mykge1xyXG4gICAgICAgICAgICBpZiAoIWdhbWVTdGF0ZS5wcm9ncmFtUnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgcHJvZ3JhbVxyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLnByb2dyYW1SdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TmV3VGhyZWFkQ2FsbChnYW1lU3RhdGUsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIFMga2V5IGlzIHByZXNzZWQgd2hpbGUgcHJvZ3JhbSBpcyBydW5uaW5nXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc3RvcCBwcm9ncmFtXHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUucHJvZ3JhbVJ1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5uZXh0U3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=